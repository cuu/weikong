###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.40338/W32 for 8051         19/Nov/2012  16:28:37 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects #
#                          \zstack\Samples\testApp_2.5\Source\GenericApp.c    #
#    Command line       =  -f "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Proj #
#                          ects\zstack\Samples\testApp_2.5\CC2530DB\..\..\..\ #
#                          Tools\CC2530DB\f8wRouter.cfg" (-DCPU32MHZ          #
#                          -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRU #
#                          E -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8       #
#                          -DMAC_CFG_RX_MAX=5 -DRTR_NWK) -f "C:\Texas         #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\Tools\CC2530D #
#                          B\f8wConfig.cfg" (-DZIGBEEPRO -DSECURE=0           #
#                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                  #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 "C:\Texas                   #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\Source\GenericApp.c" -D         #
#                          ZTOOL_P1 -D MT_TASK -D LCD_SUPPORTED=DEBUG -D      #
#                          HAL_UART=TRUE -D xNV_INIT -D NV_RESTORE -D         #
#                          xPOWER_SAVING -D BUILD_ALL_DEVICES -D              #
#                          HOLD_AUTO_START -D HAL_LED=FALSE -lC "C:\Texas     #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\RouterEB\List\" -lA    #
#                          "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Project #
#                          s\zstack\Samples\testApp_2.5\CC2530DB\RouterEB\Lis #
#                          t\" --diag_suppress Pe001,Pa010 -o "C:\Texas       #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\RouterEB\Obj\" -e      #
#                          --no_code_motion --debug --core=plain --dptr=16,1  #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Proj #
#                          ects\zstack\Samples\testApp_2.5\CC2530DB\" -I      #
#                          "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Project #
#                          s\zstack\Samples\testApp_2.5\CC2530DB\..\Source\"  #
#                          -I "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Proj #
#                          ects\zstack\Samples\testApp_2.5\CC2530DB\..\..\..\ #
#                          ZMain\TI2530DB\" -I "C:\Texas                      #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\hal\include\" -I "C:\Texas                     #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\hal\target\CC2530EB\" -I "C:\Texas             #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\mac\include\" -I "C:\Texas                     #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\mac\high_level\" -I "C:\Texas                  #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\mac\low_level\srf04\" -I "C:\Texas             #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\mac\low_level\srf04\single_chip\" -I           #
#                          "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Project #
#                          s\zstack\Samples\testApp_2.5\CC2530DB\..\..\..\..\ #
#                          ..\Components\mt\" -I "C:\Texas                    #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\osal\include\" -I "C:\Texas                    #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\services\saddr\" -I "C:\Texas                  #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\services\sdata\" -I "C:\Texas                  #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\stack\af\" -I "C:\Texas                        #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\stack\nwk\" -I "C:\Texas                       #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\stack\sapi\" -I "C:\Texas                      #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\stack\sec\" -I "C:\Texas                       #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\stack\sys\" -I "C:\Texas                       #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\stack\zdo\" -I "C:\Texas                       #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\zmac\" -I "C:\Texas Instruments\ZStack-CC2530- #
#                          2.5.1a\Projects\zstack\Samples\testApp_2.5\CC2530D #
#                          B\..\..\..\..\..\Components\zmac\f8w\" -Ohz        #
#                          --require_prototypes                               #
#    List file          =  C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects #
#                          \zstack\Samples\testApp_2.5\CC2530DB\RouterEB\List #
#                          \GenericApp.lst                                    #
#    Object file        =  C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects #
#                          \zstack\Samples\testApp_2.5\CC2530DB\RouterEB\Obj\ #
#                          GenericApp.r51                                     #
#                                                                             #
#                                                                             #
###############################################################################

C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\testApp_2.5\Source\GenericApp.c
      1          
      2          #include <iocc2530.h>

   \                                 In  segment SFR_AN, at 0x90
   \   union <unnamed> volatile __sfr _A_P1
   \                     _A_P1:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xa8
   \   union <unnamed> volatile __sfr _A_IEN0
   \                     _A_IEN0:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xb8
   \   union <unnamed> volatile __sfr _A_IEN1
   \                     _A_IEN1:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xc9
   \   unsigned char volatile __sfr WDCTL
   \                     WDCTL:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xcb
   \   unsigned char volatile __sfr T3CTL
   \                     T3CTL:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xfe
   \   unsigned char volatile __sfr P1DIR
   \                     P1DIR:
   \   000000                DS 1
      3          #include <stdio.h>
      4          #include <stdlib.h>
      5          #include <string.h>
      6          
      7          #include "OSAL.h"
      8          #include "OSAL_Nv.h"
      9          
     10          #include "AF.h"
     11          #include "ZDApp.h"
     12          #include "ZDObject.h"
     13          #include "ZDProfile.h"
     14          #include "ZDSecMgr.h"
     15          
     16          
     17          #include "GenericApp.h"
     18          #include "DebugTrace.h"
     19          
     20          #if !defined( WIN32 )
     21            #include "OnBoard.h"
     22          #endif
     23          
     24          /* HAL */
     25          #include "hal_adc.h"
     26          #include "hal_mcu.h"
     27          #include "hal_lcd.h"
     28          #include "hal_led.h"
     29          #include "hal_key.h"
     30          #include "hal_uart.h"
     31          #include "hal_drivers.h"
     32          
     33          #include "nwk_util.h"
     34          
     35          #include "mac_low_level.h"
     36          
     37          
     38          /* RTOS */
     39          #if defined( IAR_ARMCM3_LM )
     40          #include "RTOS_App.h"
     41          #endif  
     42          
     43          //#define HAL_KEY_SW_6_BIT    BV(1)
     44          //#define HAL_KEY_JOY_MOVE_BIT    BV(0)
     45          
     46          // From hal_key.c 
     47          extern uint8 FUCK_TI_KEY1; //
     48          extern uint8 FUCK_TI_KEY7;
     49          ///-----------------------------
     50          
     51          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     52          uint16 devlist[ NWK_MAX_DEVICES + 1];
   \                     devlist:
   \   000000                DS 44
   \   00002C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     53          uint8* ieeeAddr;
   \                     ieeeAddr:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     54          uint16 short_ddr;
   \                     short_ddr:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     55          uint16 panid;
   \                     panid:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     56          uint8 global_start; 
   \                     global_start:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     57          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     58          uint16 t3_counter;
   \                     t3_counter:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
     59          
     60          // This list should be filled with Application specific Cluster IDs.

   \                                 In  segment XDATA_ROM_C, align 1
     61          const cId_t GenericApp_ClusterList[GENERICAPP_MAX_CLUSTERS] =
   \                     GenericApp_ClusterList:
   \   000000   0100         DW 1
     62          {
     63            GENERICAPP_CLUSTERID
     64          };
     65          
     66          

   \                                 In  segment XDATA_I, align 1, keep-with-next
     67          SimpleDescriptionFormat_t GenericApp_SimpleDesc =
   \                     GenericApp_SimpleDesc:
   \   000000                DS 12
   \   00000C                REQUIRE `?<Initializer for GenericApp_SimpleDesc>`
   \   00000C                REQUIRE __INIT_XDATA_I
     68          {
     69            GENERICAPP_ENDPOINT,              //  int Endpoint;
     70            GENERICAPP_PROFID,                //  uint16 AppProfId[2];
     71            GENERICAPP_DEVICEID,              //  uint16 AppDeviceId[2];
     72            GENERICAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
     73            GENERICAPP_FLAGS,                 //  int   AppFlags:4;
     74            GENERICAPP_MAX_CLUSTERS,          //  byte  AppNumInClusters;
     75            (cId_t *)GenericApp_ClusterList,  //  byte *pAppInClusterList;
     76            GENERICAPP_MAX_CLUSTERS,          //  byte  AppNumInClusters;
     77            (cId_t *)GenericApp_ClusterList   //  byte *pAppInClusterList;
     78          };
     79          
     80          // This is the Endpoint/Interface description.  It is defined here, but
     81          // filled-in in GenericApp_Init().  Another way to go would be to fill
     82          // in the structure here and make it a "const" (in code space).  The
     83          // way it's defined in this sample app it is define in RAM.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     84          endPointDesc_t GenericApp_epDesc;
   \                     GenericApp_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z
     85          
     86          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     87          byte GenericApp_TaskID;   // Task ID for internal task/event processing
   \                     GenericApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     88                                    // This variable will be received when
     89                                    // GenericApp_Init() is called.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     90          devStates_t GenericApp_NwkState;
   \                     GenericApp_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     91          
     92          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     93          byte GenericApp_TransID;  // This is the unique message ID (counter)
   \                     GenericApp_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     94          
     95          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     96          devStates_t App_NwkState;
   \                     App_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     97          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     98          afAddrType_t GenericApp_DstAddr;
   \                     GenericApp_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z
     99          
    100          
    101          #define uint unsigned int
    102          #define uchar unsigned char
    103          
    104          
    105          #define SER_PORT 0
    106          
    107          #define TEST_BUTTON P0_1
    108          
    109          void Delay(unsigned  );
    110          void UART_Send_String( unsigned char *,int );
    111          void uprint( uint8*);
    112          
    113          void serial_init(void );
    114          void io_init(void);
    115          void _halProcessKeyInterrupt (void);
    116          
    117          void set_panid( uint16 );
    118          uint8 cb_ReadConfiguration( uint8 , uint8 , void * );
    119          uint8 cb_WriteConfiguration( uint8 , uint8 , void *);
    120          uint8 SendData( uint16, uint8 *, uint8);
    121          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    122          uint8 SendData( uint16 addr, uint8 *buf, uint8 Leng)
   \                     SendData:
    123          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 12
   \   000005   74F4         MOV     A,#-0xc
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
    124                  afAddrType_t SendDataAddr;
    125                  
    126                  SendDataAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00000C   7408         MOV     A,#0x8
   \   00000E   12....       LCALL   ?XSTACK_DISP0_8
   \   000011   7402         MOV     A,#0x2
   \   000013   F0           MOVX    @DPTR,A
    127                  SendDataAddr.endPoint = GENERICAPP_ENDPOINT;
   \   000014   7409         MOV     A,#0x9
   \   000016   12....       LCALL   ?XSTACK_DISP0_8
   \   000019   7414         MOV     A,#0x14
   \   00001B   12....       LCALL   ?Subroutine3 & 0xFFFF
    128                  SendDataAddr.addr.shortAddr = addr;
   \                     ??CrossCallReturnLabel_0:
   \   00001E   EA           MOV     A,R2
   \   00001F   F0           MOVX    @DPTR,A
   \   000020   A3           INC     DPTR
   \   000021   EB           MOV     A,R3
   \   000022   F0           MOVX    @DPTR,A
    129                  if ( AF_DataRequest( &SendDataAddr, &GenericApp_epDesc,
    130                                 GENERICAPP_CLUSTERID,
    131                                 Leng,
    132                                 buf,
    133                                 &GenericApp_TransID,
    134                                 AF_DISCV_ROUTE,
    135                               //  AF_ACK_REQUEST,
    136                                 AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   000023                ; Setup parameters for call to function AF_DataRequest
   \   000023   75..1E       MOV     ?V0 + 0,#0x1e
   \   000026   78..         MOV     R0,#?V0 + 0
   \   000028   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00002B   75....       MOV     ?V0 + 0,#GenericApp_TransID & 0xff
   \   00002E   75....       MOV     ?V0 + 1,#(GenericApp_TransID >> 8) & 0xff
   \   000031   78..         MOV     R0,#?V0 + 0
   \   000033   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000036   8C..         MOV     ?V0 + 0,R4
   \   000038   8D..         MOV     ?V0 + 1,R5
   \   00003A   78..         MOV     R0,#?V0 + 0
   \   00003C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003F   8E..         MOV     ?V0 + 0,R6
   \   000041   75..00       MOV     ?V0 + 1,#0x0
   \   000044   78..         MOV     R0,#?V0 + 0
   \   000046   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000049   75..01       MOV     ?V0 + 0,#0x1
   \   00004C   78..         MOV     R0,#?V0 + 0
   \   00004E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000051   7920         MOV     R1,#0x20
   \   000053   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   000055   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   000057   7409         MOV     A,#0x9
   \   000059   12....       LCALL   ?XSTACK_DISP0_8
   \   00005C   AA82         MOV     R2,DPL
   \   00005E   AB83         MOV     R3,DPH
   \   000060   12....       LCALL   ??AF_DataRequest?relay
   \   000063   7409         MOV     A,#0x9
   \   000065   12....       LCALL   ?DEALLOC_XSTACK8
   \   000068   E9           MOV     A,R1
   \   000069   7004         JNZ     ??SendData_0
    137                  {
    138                          return 1;
   \   00006B   7901         MOV     R1,#0x1
   \   00006D   8002         SJMP    ??SendData_1
    139                  }
    140                  else
    141                  {
    142                          return 0;// Error occurred in request to send.
   \                     ??SendData_0:
   \   00006F   7900         MOV     R1,#0x0
   \                     ??SendData_1:
   \   000071   740C         MOV     A,#0xc
    143                  }
   \   000073   02....       LJMP    ?Subroutine0 & 0xFFFF
    144          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function HalUARTOpen
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine37_0
   \   000003                ; // Fall through to label ??Subroutine37_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine37_0:
   \   000000   7F02         MOV     R7,#0x2
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    145          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    146          void Delay(unsigned n)  
   \                     Delay:
    147          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    148           unsigned tt;
    149           for(tt=0;tt<n;tt++);
   \   000000   7800         MOV     R0,#0x0
   \   000002   7900         MOV     R1,#0x0
   \   000004   8003         SJMP    ??CrossCallReturnLabel_18
   \                     ??Delay_0:
   \   000006   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_18:
   \   000009   C3           CLR     C
   \   00000A   E8           MOV     A,R0
   \   00000B   9A           SUBB    A,R2
   \   00000C   E9           MOV     A,R1
   \   00000D   9B           SUBB    A,R3
   \   00000E   40F6         JC      ??Delay_0
    150           for(tt=0;tt<n;tt++);
   \   000010   7800         MOV     R0,#0x0
   \   000012   7900         MOV     R1,#0x0
   \   000014   8003         SJMP    ??CrossCallReturnLabel_19
   \                     ??Delay_1:
   \   000016   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   000019   C3           CLR     C
   \   00001A   E8           MOV     A,R0
   \   00001B   9A           SUBB    A,R2
   \   00001C   E9           MOV     A,R1
   \   00001D   9B           SUBB    A,R3
   \   00001E   40F6         JC      ??Delay_1
    151           for(tt=0;tt<n;tt++);
   \   000020   7800         MOV     R0,#0x0
   \   000022   7900         MOV     R1,#0x0
   \   000024   8003         SJMP    ??CrossCallReturnLabel_20
   \                     ??Delay_2:
   \   000026   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_20:
   \   000029   C3           CLR     C
   \   00002A   E8           MOV     A,R0
   \   00002B   9A           SUBB    A,R2
   \   00002C   E9           MOV     A,R1
   \   00002D   9B           SUBB    A,R3
   \   00002E   40F6         JC      ??Delay_2
    152           for(tt=0;tt<n;tt++);
   \   000030   7800         MOV     R0,#0x0
   \   000032   7900         MOV     R1,#0x0
   \   000034   8003         SJMP    ??CrossCallReturnLabel_21
   \                     ??Delay_3:
   \   000036   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_21:
   \   000039   C3           CLR     C
   \   00003A   E8           MOV     A,R0
   \   00003B   9A           SUBB    A,R2
   \   00003C   E9           MOV     A,R1
   \   00003D   9B           SUBB    A,R3
   \   00003E   40F6         JC      ??Delay_3
    153           for(tt=0;tt<n;tt++);
   \   000040   7800         MOV     R0,#0x0
   \   000042   7900         MOV     R1,#0x0
   \   000044   8003         SJMP    ??CrossCallReturnLabel_22
   \                     ??Delay_4:
   \   000046   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_22:
   \   000049   C3           CLR     C
   \   00004A   E8           MOV     A,R0
   \   00004B   9A           SUBB    A,R2
   \   00004C   E9           MOV     A,R1
   \   00004D   9B           SUBB    A,R3
   \   00004E   40F6         JC      ??Delay_4
    154          }
   \   000050   02....       LJMP    ?BRET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   E8           MOV     A,R0
   \   000001   2401         ADD     A,#0x1
   \   000003   08           INC     R0
   \   000004   E9           MOV     A,R1
   \   000005   3400         ADDC    A,#0x0
   \   000007   F9           MOV     R1,A
   \   000008   22           RET
    155          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    156          void UART_Send_String( unsigned char *Data,int len)
   \                     UART_Send_String:
    157          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    158          
    159            HalUARTWrite( SER_PORT,  Data, len);
   \   000004                ; Setup parameters for call to function HalUARTWrite
   \   000004   7900         MOV     R1,#0x0
   \   000006   12....       LCALL   ??HalUARTWrite?relay
    160          }
   \   000009                REQUIRE ?Subroutine1
   \   000009                ; // Fall through to label ?Subroutine1

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET
    161          
    162          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    163          void uprint( uint8 * Data)
   \                     uprint:
    164          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    165            UART_Send_String( Data, strlen(Data) );
                                                  ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000009                ; Setup parameters for call to function UART_Send_String
   \   000009                ; Setup parameters for call to function strlen
   \   000009   12....       LCALL   ??strlen?relay
   \   00000C   EA           MOV     A,R2
   \   00000D   FC           MOV     R4,A
   \   00000E   EB           MOV     A,R3
   \   00000F   FD           MOV     R5,A
   \   000010   EE           MOV     A,R6
   \   000011   FA           MOV     R2,A
   \   000012   EF           MOV     A,R7
   \   000013   FB           MOV     R3,A
   \   000014   12....       LCALL   ??UART_Send_String?relay
    166          }
   \   000017   7F01         MOV     R7,#0x1
   \   000019   02....       LJMP    ?BANKED_LEAVE_XDATA
    167          
    168          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    169          void parse_procotol(uint8*buff, uint8 len)
   \                     parse_procotol:
    170          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 93
   \   000005   74A3         MOV     A,#-0x5d
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 0,R2
   \   00000C   8B..         MOV     ?V0 + 1,R3
   \   00000E   89..         MOV     ?V0 + 2,R1
    171             
    172            uint8 logicalType;
    173            char pbuf[3];
    174            char pbuf1[3];
    175            char pbuf2[65];
    176            
    177            uint16 tmp_ios;
    178            nwkActiveKeyItems keyItems;
    179            
    180            if(len == 1)
   \   000010   7401         MOV     A,#0x1
   \   000012   65..         XRL     A,?V0 + 2
   \   000014   6003         JZ      $+5
   \   000016   02....       LJMP    ??parse_procotol_0 & 0xFFFF
    181            {
    182                  if(buff[0] == 0x01)
   \   000019   8A82         MOV     DPL,R2
   \   00001B   8B83         MOV     DPH,R3
   \   00001D   E0           MOVX    A,@DPTR
   \   00001E   6401         XRL     A,#0x1
   \   000020   7010         JNZ     ??parse_procotol_1
    183                  {
    184                    SendData( 0xffff, buff, 1); 
   \   000022                ; Setup parameters for call to function SendData
   \   000022   7901         MOV     R1,#0x1
   \   000024   AC..         MOV     R4,?V0 + 0
   \   000026   AD..         MOV     R5,?V0 + 1
   \   000028   7AFF         MOV     R2,#-0x1
   \   00002A   7BFF         MOV     R3,#-0x1
   \   00002C   12....       LCALL   ??SendData?relay
    185                    return;
   \   00002F   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    186                  } 
    187                  if(buff[0]== 0x02)
   \                     ??parse_procotol_1:
   \   000032   E0           MOVX    A,@DPTR
   \   000033   6402         XRL     A,#0x2
   \   000035   700B         JNZ     ??parse_procotol_3
    188                  {
    189                    /// short address
    190                    UART_Send_String( (uint8*)&_NIB.nwkDevAddress, 2);
   \   000037                ; Setup parameters for call to function UART_Send_String
   \   000037   7C02         MOV     R4,#0x2
   \   000039   7D00         MOV     R5,#0x0
   \   00003B   7A..         MOV     R2,#(_NIB + 20) & 0xff
   \   00003D   7B..         MOV     R3,#((_NIB + 20) >> 8) & 0xff
   \   00003F   12....       LCALL   ??UART_Send_String?relay
    191                    
    192                  }
    193                  if(buff[0] == 0x05)
   \                     ??parse_procotol_3:
   \   000042   85..82       MOV     DPL,?V0 + 0
   \   000045   85..83       MOV     DPH,?V0 + 1
   \   000048   E0           MOVX    A,@DPTR
   \   000049   6405         XRL     A,#0x5
   \   00004B   7034         JNZ     ??parse_procotol_4
    194                  {
    195                    /// pan id
    196                    pbuf[0] = 0x06;
   \   00004D   7401         MOV     A,#0x1
   \   00004F   12....       LCALL   ?XSTACK_DISP0_8
   \   000052   7406         MOV     A,#0x6
   \   000054   F0           MOVX    @DPTR,A
    197                    pbuf[1] = LO_UINT16(_NIB.nwkPanId);
   \   000055   90....       MOV     DPTR,#_NIB + 33
   \   000058   E0           MOVX    A,@DPTR
   \   000059   C0E0         PUSH    A
   \   00005B   7402         MOV     A,#0x2
   \   00005D   12....       LCALL   ?XSTACK_DISP0_8
   \   000060   D0E0         POP     A
   \   000062   F0           MOVX    @DPTR,A
    198                    pbuf[2] = HI_UINT16(_NIB.nwkPanId);
   \   000063   90....       MOV     DPTR,#_NIB + 34
   \   000066   E0           MOVX    A,@DPTR
   \   000067   C0E0         PUSH    A
   \   000069   7403         MOV     A,#0x3
   \   00006B   12....       LCALL   ?XSTACK_DISP0_8
   \   00006E   D0E0         POP     A
   \   000070   F0           MOVX    @DPTR,A
    199                    
    200                    UART_Send_String( (uint8*)&pbuf, 3);          
   \   000071                ; Setup parameters for call to function UART_Send_String
   \   000071   7C03         MOV     R4,#0x3
   \   000073   7D00         MOV     R5,#0x0
   \   000075   7401         MOV     A,#0x1
   \   000077   12....       LCALL   ?XSTACK_DISP0_8
   \   00007A   AA82         MOV     R2,DPL
   \   00007C   AB83         MOV     R3,DPH
   \   00007E   12....       LCALL   ??UART_Send_String?relay
    201                  }
    202                  if(buff[0] == 0x07)/// channel
   \                     ??parse_procotol_4:
   \   000081   85..82       MOV     DPL,?V0 + 0
   \   000084   85..83       MOV     DPH,?V0 + 1
   \   000087   E0           MOVX    A,@DPTR
   \   000088   6407         XRL     A,#0x7
   \   00008A   7026         JNZ     ??parse_procotol_5
    203                  {
    204                      pbuf[0] = 0x08;
   \   00008C   7401         MOV     A,#0x1
   \   00008E   12....       LCALL   ?XSTACK_DISP0_8
   \   000091   7408         MOV     A,#0x8
   \   000093   F0           MOVX    @DPTR,A
    205                      pbuf[1] = _NIB.nwkLogicalChannel;
   \   000094   90....       MOV     DPTR,#_NIB + 22
   \   000097   E0           MOVX    A,@DPTR
   \   000098   C0E0         PUSH    A
   \   00009A   7402         MOV     A,#0x2
   \   00009C   12....       LCALL   ?XSTACK_DISP0_8
   \   00009F   D0E0         POP     A
   \   0000A1   F0           MOVX    @DPTR,A
    206                      UART_Send_String( (uint8*)&pbuf, 2);
   \   0000A2                ; Setup parameters for call to function UART_Send_String
   \   0000A2   7C02         MOV     R4,#0x2
   \   0000A4   7D00         MOV     R5,#0x0
   \   0000A6   7401         MOV     A,#0x1
   \   0000A8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000AB   AA82         MOV     R2,DPL
   \   0000AD   AB83         MOV     R3,DPH
   \   0000AF   12....       LCALL   ??UART_Send_String?relay
    207                  }
    208                  if(buff[0] ==0x03) // mac address
   \                     ??parse_procotol_5:
   \   0000B2   85..82       MOV     DPL,?V0 + 0
   \   0000B5   85..83       MOV     DPH,?V0 + 1
   \   0000B8   E0           MOVX    A,@DPTR
   \   0000B9   6403         XRL     A,#0x3
   \   0000BB   7039         JNZ     ??parse_procotol_6
    209                  {
    210                      ieeeAddr = NLME_GetExtAddr();
   \   0000BD                ; Setup parameters for call to function NLME_GetExtAddr
   \   0000BD   12....       LCALL   ?Subroutine18 & 0xFFFF
    211                      
    212                      pbuf2[0] = 0x04;
   \                     ??CrossCallReturnLabel_33:
   \   0000C0   741C         MOV     A,#0x1c
   \   0000C2   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C5   7404         MOV     A,#0x4
   \   0000C7   F0           MOVX    @DPTR,A
    213                      strncpy(&pbuf2[1], ieeeAddr,8);
                                                ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   0000C8                ; Setup parameters for call to function strncpy
   \   0000C8   75..08       MOV     ?V0 + 4,#0x8
   \   0000CB   75..00       MOV     ?V0 + 5,#0x0
   \   0000CE   78..         MOV     R0,#?V0 + 4
   \   0000D0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000D3   90....       MOV     DPTR,#ieeeAddr
   \   0000D6   E0           MOVX    A,@DPTR
   \   0000D7   FC           MOV     R4,A
   \   0000D8   A3           INC     DPTR
   \   0000D9   E0           MOVX    A,@DPTR
   \   0000DA   FD           MOV     R5,A
   \   0000DB   741F         MOV     A,#0x1f
   \   0000DD   12....       LCALL   ?XSTACK_DISP0_8
   \   0000E0   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_35:
   \   0000E3   12....       LCALL   ?DEALLOC_XSTACK8
    214                      
    215                      UART_Send_String( (uint8*)&pbuf2, 9);
   \   0000E6                ; Setup parameters for call to function UART_Send_String
   \   0000E6   7C09         MOV     R4,#0x9
   \   0000E8   7D00         MOV     R5,#0x0
   \   0000EA   741C         MOV     A,#0x1c
   \   0000EC   12....       LCALL   ?XSTACK_DISP0_8
   \   0000EF   AA82         MOV     R2,DPL
   \   0000F1   AB83         MOV     R3,DPH
   \   0000F3   12....       LCALL   ??UART_Send_String?relay
    216                      
    217                  }
    218                  if( buff[0] ==0xc0) // coordinator 
   \                     ??parse_procotol_6:
   \   0000F6   85..82       MOV     DPL,?V0 + 0
   \   0000F9   85..83       MOV     DPH,?V0 + 1
   \   0000FC   E0           MOVX    A,@DPTR
   \   0000FD   64C0         XRL     A,#0xc0
   \   0000FF   704A         JNZ     ??parse_procotol_7
    219                  {
    220                    logicalType = (uint8)ZDO_Config_Node_Descriptor.LogicalType;
   \   000101   12....       LCALL   ?Subroutine4 & 0xFFFF
    221                    osal_nv_item_init( ZCD_NV_LOGICAL_TYPE, sizeof(logicalType), &logicalType );
   \                     ??CrossCallReturnLabel_5:
   \   000104   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000107   7C01         MOV     R4,#0x1
   \   000109   7D00         MOV     R5,#0x0
   \   00010B   7A87         MOV     R2,#-0x79
   \   00010D   7B00         MOV     R3,#0x0
   \   00010F   12....       LCALL   ??Subroutine33_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_70:
   \   000112   12....       LCALL   ?DEALLOC_XSTACK8
    222                    logicalType = ZG_DEVICETYPE_COORDINATOR;
   \   000115   85..82       MOV     DPL,?XSP + 0
   \   000118   85..83       MOV     DPH,?XSP + 1
   \   00011B   E4           CLR     A
   \   00011C   F0           MOVX    @DPTR,A
    223                    if( osal_nv_write( ZCD_NV_LOGICAL_TYPE, 0 ,sizeof(logicalType), &logicalType) != ZSUCCESS)
   \   00011D                ; Setup parameters for call to function osal_nv_write
   \   00011D   78..         MOV     R0,#?V0 + 0
   \   00011F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000122   75..01       MOV     ?V0 + 0,#0x1
   \   000125   75..00       MOV     ?V0 + 1,#0x0
   \   000128   78..         MOV     R0,#?V0 + 0
   \   00012A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00012D   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_74:
   \   000130   12....       LCALL   ?DEALLOC_XSTACK8
   \   000133   E9           MOV     A,R1
   \   000134   6007         JZ      ??parse_procotol_8
    224                    {
    225                      uprint("set device to coordi failed");
   \   000136                ; Setup parameters for call to function uprint
   \   000136   7A..         MOV     R2,#`?<Constant "set device to coordi ...">` & 0xff
   \   000138   7B..         MOV     R3,#(`?<Constant "set device to coordi ...">` >> 8) & 0xff
   \   00013A   02....       LJMP    ??parse_procotol_9 & 0xFFFF
    226                    }else
    227                    {
    228                      zgWriteStartupOptions (ZG_STARTUP_SET, ZCD_STARTOPT_DEFAULT_NETWORK_STATE);
   \                     ??parse_procotol_8:
   \   00013D                ; Setup parameters for call to function zgWriteStartupOptions
   \   00013D   7A02         MOV     R2,#0x2
   \   00013F   79FF         MOV     R1,#-0x1
   \   000141   12....       LCALL   ??zgWriteStartupOptions?relay
    229                      uprint("set device to coordi,restart it");
   \   000144                ; Setup parameters for call to function uprint
   \   000144   7A..         MOV     R2,#`?<Constant "set device to coordi,...">` & 0xff
   \   000146   7B..         MOV     R3,#(`?<Constant "set device to coordi,...">` >> 8) & 0xff
   \   000148   02....       LJMP    ??parse_procotol_9 & 0xFFFF
    230                    }         
    231                    return;
    232                  }
    233          
    234                  if( buff[0] ==0xe0) // router
   \                     ??parse_procotol_7:
   \   00014B   E0           MOVX    A,@DPTR
   \   00014C   64E0         XRL     A,#0xe0
   \   00014E   704B         JNZ     ??parse_procotol_10
    235                  {
    236                    logicalType = (uint8)ZDO_Config_Node_Descriptor.LogicalType;
   \   000150   12....       LCALL   ?Subroutine4 & 0xFFFF
    237                    osal_nv_item_init( ZCD_NV_LOGICAL_TYPE, sizeof(logicalType), &logicalType );
   \                     ??CrossCallReturnLabel_6:
   \   000153   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000156   7C01         MOV     R4,#0x1
   \   000158   7D00         MOV     R5,#0x0
   \   00015A   7A87         MOV     R2,#-0x79
   \   00015C   7B00         MOV     R3,#0x0
   \   00015E   12....       LCALL   ??Subroutine33_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_71:
   \   000161   12....       LCALL   ?DEALLOC_XSTACK8
    238                    logicalType = ZG_DEVICETYPE_ROUTER;
   \   000164   85..82       MOV     DPL,?XSP + 0
   \   000167   85..83       MOV     DPH,?XSP + 1
   \   00016A   7401         MOV     A,#0x1
   \   00016C   F0           MOVX    @DPTR,A
    239                    if( osal_nv_write( ZCD_NV_LOGICAL_TYPE, 0 ,sizeof(logicalType), &logicalType) != ZSUCCESS)
   \   00016D                ; Setup parameters for call to function osal_nv_write
   \   00016D   78..         MOV     R0,#?V0 + 0
   \   00016F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000172   75..01       MOV     ?V0 + 0,#0x1
   \   000175   75..00       MOV     ?V0 + 1,#0x0
   \   000178   78..         MOV     R0,#?V0 + 0
   \   00017A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00017D   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_75:
   \   000180   12....       LCALL   ?DEALLOC_XSTACK8
   \   000183   E9           MOV     A,R1
   \   000184   6007         JZ      ??parse_procotol_11
    240                    {
    241                      uprint("set device to router failed");
   \   000186                ; Setup parameters for call to function uprint
   \   000186   7A..         MOV     R2,#`?<Constant "set device to router ...">` & 0xff
   \   000188   7B..         MOV     R3,#(`?<Constant "set device to router ...">` >> 8) & 0xff
   \   00018A   02....       LJMP    ??parse_procotol_9 & 0xFFFF
    242                    }else
    243                    {
    244                      zgWriteStartupOptions (ZG_STARTUP_SET, ZCD_STARTOPT_DEFAULT_NETWORK_STATE);
   \                     ??parse_procotol_11:
   \   00018D                ; Setup parameters for call to function zgWriteStartupOptions
   \   00018D   7A02         MOV     R2,#0x2
   \   00018F   79FF         MOV     R1,#-0x1
   \   000191   12....       LCALL   ??zgWriteStartupOptions?relay
    245                      uprint("set device to router,restart it");
   \   000194                ; Setup parameters for call to function uprint
   \   000194   7A..         MOV     R2,#`?<Constant "set device to router,...">` & 0xff
   \   000196   7B..         MOV     R3,#(`?<Constant "set device to router,...">` >> 8) & 0xff
   \   000198   02....       LJMP    ??parse_procotol_9 & 0xFFFF
    246                    }
    247                    
    248                    return;
    249                  }
    250          
    251                  if( buff[0] ==0xe1) // end device
   \                     ??parse_procotol_10:
   \   00019B   E0           MOVX    A,@DPTR
   \   00019C   64E1         XRL     A,#0xe1
   \   00019E   6003         JZ      $+5
   \   0001A0   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    252                  {
    253                    logicalType = (uint8)ZDO_Config_Node_Descriptor.LogicalType;
   \   0001A3   12....       LCALL   ?Subroutine4 & 0xFFFF
    254                    osal_nv_item_init( ZCD_NV_LOGICAL_TYPE, sizeof(logicalType), &logicalType );
   \                     ??CrossCallReturnLabel_7:
   \   0001A6   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001A9   7C01         MOV     R4,#0x1
   \   0001AB   7D00         MOV     R5,#0x0
   \   0001AD   7A87         MOV     R2,#-0x79
   \   0001AF   7B00         MOV     R3,#0x0
   \   0001B1   12....       LCALL   ??Subroutine33_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_72:
   \   0001B4   12....       LCALL   ?DEALLOC_XSTACK8
    255                    logicalType = ZG_DEVICETYPE_ENDDEVICE;
   \   0001B7   85..82       MOV     DPL,?XSP + 0
   \   0001BA   85..83       MOV     DPH,?XSP + 1
   \   0001BD   7402         MOV     A,#0x2
   \   0001BF   F0           MOVX    @DPTR,A
    256                    if( osal_nv_write( ZCD_NV_LOGICAL_TYPE, 0 ,sizeof(logicalType), &logicalType) != ZSUCCESS)
   \   0001C0                ; Setup parameters for call to function osal_nv_write
   \   0001C0   78..         MOV     R0,#?V0 + 0
   \   0001C2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001C5   75..01       MOV     ?V0 + 0,#0x1
   \   0001C8   75..00       MOV     ?V0 + 1,#0x0
   \   0001CB   78..         MOV     R0,#?V0 + 0
   \   0001CD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001D0   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_76:
   \   0001D3   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001D6   E9           MOV     A,R1
   \   0001D7   6007         JZ      ??parse_procotol_12
    257                    {
    258                      uprint("set device to end device failed");
   \   0001D9                ; Setup parameters for call to function uprint
   \   0001D9   7A..         MOV     R2,#`?<Constant "set device to end dev...">` & 0xff
   \   0001DB   7B..         MOV     R3,#(`?<Constant "set device to end dev...">` >> 8) & 0xff
   \   0001DD   02....       LJMP    ??parse_procotol_9 & 0xFFFF
    259                    }else
    260                    {
    261                      zgWriteStartupOptions (ZG_STARTUP_SET, ZCD_STARTOPT_DEFAULT_NETWORK_STATE);
   \                     ??parse_procotol_12:
   \   0001E0                ; Setup parameters for call to function zgWriteStartupOptions
   \   0001E0   7A02         MOV     R2,#0x2
   \   0001E2   79FF         MOV     R1,#-0x1
   \   0001E4   12....       LCALL   ??zgWriteStartupOptions?relay
    262                      uprint("set device to end device,restart it");
   \   0001E7                ; Setup parameters for call to function uprint
   \   0001E7   7A..         MOV     R2,#`?<Constant "set device to end dev...">_1` & 0xff
   \   0001E9   7B..         MOV     R3,#(`?<Constant "set device to end dev...">_1` >> 8) & 0xff
   \   0001EB   02....       LJMP    ??parse_procotol_9 & 0xFFFF
    263                    }
    264                    return;
    265                  }        
    266            }// len == 1
    267          
    268                if( len == 2)
   \                     ??parse_procotol_0:
   \   0001EE   7402         MOV     A,#0x2
   \   0001F0   65..         XRL     A,?V0 + 2
   \   0001F2   6003         JZ      $+5
   \   0001F4   02....       LJMP    ??parse_procotol_13 & 0xFFFF
    269                {
    270                  if(buff[0] == 0x09)
   \   0001F7   8A82         MOV     DPL,R2
   \   0001F9   8B83         MOV     DPH,R3
   \   0001FB   E0           MOVX    A,@DPTR
   \   0001FC   6409         XRL     A,#0x9
   \   0001FE   705A         JNZ     ??parse_procotol_14
    271                  {
    272                    if(buff[1] >= 0 && buff[1] <= 7)
                                      ^
Warning[Pe186]: pointless comparison of unsigned integer with zero
   \   000200   A3           INC     DPTR
   \   000201   E0           MOVX    A,@DPTR
   \   000202   C3           CLR     C
   \   000203   9408         SUBB    A,#0x8
   \   000205   4003         JC      $+5
   \   000207   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    273                    {
    274                       tmp_ios = 0x0202 + buff[1];
   \   00020A   8A82         MOV     DPL,R2
   \   00020C   8B83         MOV     DPH,R3
   \   00020E   12....       LCALL   ?Subroutine13 & 0xFFFF
    275                       if( osal_nv_item_init( tmp_ios, sizeof(uint8), NULL) == ZSUCCESS)
   \                     ??CrossCallReturnLabel_27:
   \   000211   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000214   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_66:
   \   000217   12....       LCALL   ?DEALLOC_XSTACK8
   \   00021A   E9           MOV     A,R1
   \   00021B   7036         JNZ     ??parse_procotol_15
    276                       {
    277                         osal_nv_read(tmp_ios,0, sizeof(uint8),&pbuf[1]);
   \   00021D                ; Setup parameters for call to function osal_nv_read
   \   00021D   7402         MOV     A,#0x2
   \   00021F   12....       LCALL   ?XSTACK_DISP0_8
   \   000222   8582..       MOV     ?V0 + 4,DPL
   \   000225   8583..       MOV     ?V0 + 5,DPH
   \   000228   78..         MOV     R0,#?V0 + 4
   \   00022A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00022D   75..01       MOV     ?V0 + 4,#0x1
   \   000230   75..00       MOV     ?V0 + 5,#0x0
   \   000233   78..         MOV     R0,#?V0 + 4
   \   000235   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000238   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_82:
   \   00023B   12....       LCALL   ?DEALLOC_XSTACK8
    278                         pbuf[0] = 0x09;
   \   00023E   7401         MOV     A,#0x1
   \   000240   12....       LCALL   ?XSTACK_DISP0_8
   \   000243   7409         MOV     A,#0x9
   \   000245   F0           MOVX    @DPTR,A
    279                         UART_Send_String( (uint8*)&pbuf, 2);
   \   000246                ; Setup parameters for call to function UART_Send_String
   \   000246   7C02         MOV     R4,#0x2
   \   000248   7D00         MOV     R5,#0x0
   \   00024A   AA82         MOV     R2,DPL
   \   00024C   AB83         MOV     R3,DPH
   \   00024E   12....       LCALL   ??UART_Send_String?relay
   \   000251   8007         SJMP    ??parse_procotol_14
    280                       }else
    281                       {
    282                         uprint("osal_nv_item_init 0x09 failed");
   \                     ??parse_procotol_15:
   \   000253                ; Setup parameters for call to function uprint
   \   000253   7A..         MOV     R2,#`?<Constant "osal_nv_item_init 0x0...">` & 0xff
   \   000255   7B..         MOV     R3,#(`?<Constant "osal_nv_item_init 0x0...">` >> 8) & 0xff
   \   000257   12....       LCALL   ??uprint?relay
    283                       }
    284                    }
    285                  }
    286                  if(buff[0] == 0x10)
   \                     ??parse_procotol_14:
   \   00025A   85..82       MOV     DPL,?V0 + 0
   \   00025D   85..83       MOV     DPH,?V0 + 1
   \   000260   E0           MOVX    A,@DPTR
   \   000261   6410         XRL     A,#0x10
   \   000263   705D         JNZ     ??parse_procotol_16
    287                  {
    288                    if(buff[1] >= 0 && buff[1] <= 7)
                                      ^
Warning[Pe186]: pointless comparison of unsigned integer with zero
   \   000265   A3           INC     DPTR
   \   000266   E0           MOVX    A,@DPTR
   \   000267   C3           CLR     C
   \   000268   9408         SUBB    A,#0x8
   \   00026A   4003         JC      $+5
   \   00026C   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    289                    {
    290                       tmp_ios = 0x0210 + buff[1];
   \   00026F   12....       LCALL   ?Subroutine14 & 0xFFFF
    291                       if( osal_nv_item_init( tmp_ios, sizeof(uint8)*64, NULL) == ZSUCCESS)
   \                     ??CrossCallReturnLabel_29:
   \   000272   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000275   7C40         MOV     R4,#0x40
   \   000277   12....       LCALL   ??Subroutine32_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_68:
   \   00027A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00027D   E9           MOV     A,R1
   \   00027E   703B         JNZ     ??parse_procotol_17
    292                       {
    293                         osal_nv_read(tmp_ios,0, sizeof(uint8)*64,&pbuf2[1]);
   \   000280                ; Setup parameters for call to function osal_nv_read
   \   000280   741D         MOV     A,#0x1d
   \   000282   12....       LCALL   ?XSTACK_DISP0_8
   \   000285   8582..       MOV     ?V0 + 4,DPL
   \   000288   8583..       MOV     ?V0 + 5,DPH
   \   00028B   78..         MOV     R0,#?V0 + 4
   \   00028D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000290   75..40       MOV     ?V0 + 4,#0x40
   \   000293   75..00       MOV     ?V0 + 5,#0x0
   \   000296   78..         MOV     R0,#?V0 + 4
   \   000298   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00029B   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_83:
   \   00029E   12....       LCALL   ?DEALLOC_XSTACK8
    294                         pbuf[0] = 0x10;
   \   0002A1   7401         MOV     A,#0x1
   \   0002A3   12....       LCALL   ?XSTACK_DISP0_8
   \   0002A6   7410         MOV     A,#0x10
   \   0002A8   F0           MOVX    @DPTR,A
    295                         UART_Send_String( (uint8*)&pbuf2, 65);
   \   0002A9                ; Setup parameters for call to function UART_Send_String
   \   0002A9   7C41         MOV     R4,#0x41
   \   0002AB   7D00         MOV     R5,#0x0
   \   0002AD   741C         MOV     A,#0x1c
   \   0002AF   12....       LCALL   ?XSTACK_DISP0_8
   \   0002B2   AA82         MOV     R2,DPL
   \   0002B4   AB83         MOV     R3,DPH
   \   0002B6   12....       LCALL   ??UART_Send_String?relay
   \   0002B9   8007         SJMP    ??parse_procotol_16
    296                       }else
    297                       {
    298                         uprint("osal_nv_item_init 0x10 failed");
   \                     ??parse_procotol_17:
   \   0002BB                ; Setup parameters for call to function uprint
   \   0002BB   7A..         MOV     R2,#`?<Constant "osal_nv_item_init 0x1...">` & 0xff
   \   0002BD   7B..         MOV     R3,#(`?<Constant "osal_nv_item_init 0x1...">` >> 8) & 0xff
   \   0002BF   12....       LCALL   ??uprint?relay
    299                       }
    300                    }          
    301                  }
    302                  
    303                  if( buff[0] == 0xcc )
   \                     ??parse_procotol_16:
   \   0002C2   85..82       MOV     DPL,?V0 + 0
   \   0002C5   85..83       MOV     DPH,?V0 + 1
   \   0002C8   E0           MOVX    A,@DPTR
   \   0002C9   64CC         XRL     A,#0xcc
   \   0002CB   6003         JZ      $+5
   \   0002CD   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    304                  {
    305                    if( buff[1] > 0x0a && buff[1] < 0x1b )
   \   0002D0   A3           INC     DPTR
   \   0002D1   E0           MOVX    A,@DPTR
   \   0002D2   24F5         ADD     A,#-0xb
   \   0002D4   C3           CLR     C
   \   0002D5   9410         SUBB    A,#0x10
   \   0002D7   4003         JC      $+5
   \   0002D9   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    306                    {
    307          
    308                      _NIB.nwkLogicalChannel = buff[1];
   \   0002DC   85..82       MOV     DPL,?V0 + 0
   \   0002DF   85..83       MOV     DPH,?V0 + 1
   \   0002E2   A3           INC     DPTR
   \   0002E3   AE82         MOV     R6,DPL
   \   0002E5   AF83         MOV     R7,DPH
   \   0002E7   E0           MOVX    A,@DPTR
   \   0002E8   90....       MOV     DPTR,#_NIB + 22
   \   0002EB   F0           MOVX    @DPTR,A
    309                      NLME_UpdateNV(0x01);
   \   0002EC                ; Setup parameters for call to function NLME_UpdateNV
   \   0002EC   7901         MOV     R1,#0x1
   \   0002EE   12....       LCALL   ??NLME_UpdateNV?relay
    310                      ZMacSetReq( ZMacChannel, &buff[1]);
   \   0002F1                ; Setup parameters for call to function ZMacSetReq
   \   0002F1   EE           MOV     A,R6
   \   0002F2   FA           MOV     R2,A
   \   0002F3   EF           MOV     A,R7
   \   0002F4   FB           MOV     R3,A
   \   0002F5   79E1         MOV     R1,#-0x1f
   \   0002F7   12....       LCALL   ??ZMacSetReq?relay
    311                      
    312                      osal_nv_item_init( ZCD_NV_CHANLIST, sizeof(zgDefaultChannelList), &zgDefaultChannelList);
   \   0002FA                ; Setup parameters for call to function osal_nv_item_init
   \   0002FA   75....       MOV     ?V0 + 4,#zgDefaultChannelList & 0xff
   \   0002FD   75....       MOV     ?V0 + 5,#(zgDefaultChannelList >> 8) & 0xff
   \   000300   78..         MOV     R0,#?V0 + 4
   \   000302   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000305   7C04         MOV     R4,#0x4
   \   000307   7D00         MOV     R5,#0x0
   \   000309   7A84         MOV     R2,#-0x7c
   \   00030B   7B00         MOV     R3,#0x0
   \   00030D   12....       LCALL   ??Subroutine33_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_73:
   \   000310   12....       LCALL   ?DEALLOC_XSTACK8
    313                      
    314                      if( buff[1] == 0x0b)
   \   000313   8E82         MOV     DPL,R6
   \   000315   8F83         MOV     DPH,R7
   \   000317   E0           MOVX    A,@DPTR
   \   000318   640B         XRL     A,#0xb
   \   00031A   700C         JNZ     ??parse_procotol_18
    315                      {
    316                        zgDefaultChannelList = 0x00000800;
   \   00031C   90....       MOV     DPTR,#__Constant_800
   \   00031F   12....       LCALL   ?XLOAD_R2345
   \   000322   90....       MOV     DPTR,#zgDefaultChannelList
   \   000325   12....       LCALL   ?XSTORE_R2345
    317                        
    318                      } 
    319                      if (buff[1] == 0x0c )
   \                     ??parse_procotol_18:
   \   000328   85..82       MOV     DPL,?V0 + 0
   \   00032B   85..83       MOV     DPH,?V0 + 1
   \   00032E   A3           INC     DPTR
   \   00032F   E0           MOVX    A,@DPTR
   \   000330   640C         XRL     A,#0xc
   \   000332   700C         JNZ     ??parse_procotol_19
    320                      {
    321                        zgDefaultChannelList = 0x00001000;
   \   000334   90....       MOV     DPTR,#__Constant_1000
   \   000337   12....       LCALL   ?XLOAD_R2345
   \   00033A   90....       MOV     DPTR,#zgDefaultChannelList
   \   00033D   12....       LCALL   ?XSTORE_R2345
    322                      }            
    323                      if (buff[1] == 0x0d )
   \                     ??parse_procotol_19:
   \   000340   85..82       MOV     DPL,?V0 + 0
   \   000343   85..83       MOV     DPH,?V0 + 1
   \   000346   A3           INC     DPTR
   \   000347   E0           MOVX    A,@DPTR
   \   000348   640D         XRL     A,#0xd
   \   00034A   700C         JNZ     ??parse_procotol_20
    324                      {
    325                        zgDefaultChannelList = 0x00002000;
   \   00034C   90....       MOV     DPTR,#__Constant_2000
   \   00034F   12....       LCALL   ?XLOAD_R2345
   \   000352   90....       MOV     DPTR,#zgDefaultChannelList
   \   000355   12....       LCALL   ?XSTORE_R2345
    326                      }
    327                      if (buff[1] == 0x0e )
   \                     ??parse_procotol_20:
   \   000358   85..82       MOV     DPL,?V0 + 0
   \   00035B   85..83       MOV     DPH,?V0 + 1
   \   00035E   A3           INC     DPTR
   \   00035F   E0           MOVX    A,@DPTR
   \   000360   640E         XRL     A,#0xe
   \   000362   700C         JNZ     ??parse_procotol_21
    328                      {
    329                        zgDefaultChannelList = 0x00004000;
   \   000364   90....       MOV     DPTR,#__Constant_4000
   \   000367   12....       LCALL   ?XLOAD_R2345
   \   00036A   90....       MOV     DPTR,#zgDefaultChannelList
   \   00036D   12....       LCALL   ?XSTORE_R2345
    330                      }
    331                      if (buff[1] == 0x0f )
   \                     ??parse_procotol_21:
   \   000370   85..82       MOV     DPL,?V0 + 0
   \   000373   85..83       MOV     DPH,?V0 + 1
   \   000376   A3           INC     DPTR
   \   000377   E0           MOVX    A,@DPTR
   \   000378   640F         XRL     A,#0xf
   \   00037A   700C         JNZ     ??parse_procotol_22
    332                      {
    333                        zgDefaultChannelList = 0x00008000;
   \   00037C   90....       MOV     DPTR,#__Constant_8000
   \   00037F   12....       LCALL   ?XLOAD_R2345
   \   000382   90....       MOV     DPTR,#zgDefaultChannelList
   \   000385   12....       LCALL   ?XSTORE_R2345
    334                      }
    335                      if (buff[1] == 0x10 )
   \                     ??parse_procotol_22:
   \   000388   85..82       MOV     DPL,?V0 + 0
   \   00038B   85..83       MOV     DPH,?V0 + 1
   \   00038E   A3           INC     DPTR
   \   00038F   E0           MOVX    A,@DPTR
   \   000390   6410         XRL     A,#0x10
   \   000392   700C         JNZ     ??parse_procotol_23
    336                      {
    337                        zgDefaultChannelList = 0x00010000;
   \   000394   90....       MOV     DPTR,#__Constant_10000
   \   000397   12....       LCALL   ?XLOAD_R2345
   \   00039A   90....       MOV     DPTR,#zgDefaultChannelList
   \   00039D   12....       LCALL   ?XSTORE_R2345
    338                      }
    339                      if (buff[1] == 0x11 )
   \                     ??parse_procotol_23:
   \   0003A0   85..82       MOV     DPL,?V0 + 0
   \   0003A3   85..83       MOV     DPH,?V0 + 1
   \   0003A6   A3           INC     DPTR
   \   0003A7   E0           MOVX    A,@DPTR
   \   0003A8   6411         XRL     A,#0x11
   \   0003AA   700C         JNZ     ??parse_procotol_24
    340                      {
    341                        zgDefaultChannelList = 0x00020000;
   \   0003AC   90....       MOV     DPTR,#__Constant_20000
   \   0003AF   12....       LCALL   ?XLOAD_R2345
   \   0003B2   90....       MOV     DPTR,#zgDefaultChannelList
   \   0003B5   12....       LCALL   ?XSTORE_R2345
    342                      }
    343                      if (buff[1] == 0x12 )
   \                     ??parse_procotol_24:
   \   0003B8   85..82       MOV     DPL,?V0 + 0
   \   0003BB   85..83       MOV     DPH,?V0 + 1
   \   0003BE   A3           INC     DPTR
   \   0003BF   E0           MOVX    A,@DPTR
   \   0003C0   6412         XRL     A,#0x12
   \   0003C2   700C         JNZ     ??parse_procotol_25
    344                      {
    345                        zgDefaultChannelList = 0x00040000;
   \   0003C4   90....       MOV     DPTR,#__Constant_40000
   \   0003C7   12....       LCALL   ?XLOAD_R2345
   \   0003CA   90....       MOV     DPTR,#zgDefaultChannelList
   \   0003CD   12....       LCALL   ?XSTORE_R2345
    346                      }            
    347                      if (buff[1] == 0x13 )
   \                     ??parse_procotol_25:
   \   0003D0   85..82       MOV     DPL,?V0 + 0
   \   0003D3   85..83       MOV     DPH,?V0 + 1
   \   0003D6   A3           INC     DPTR
   \   0003D7   E0           MOVX    A,@DPTR
   \   0003D8   6413         XRL     A,#0x13
   \   0003DA   700C         JNZ     ??parse_procotol_26
    348                      {
    349                        zgDefaultChannelList = 0x00080000;
   \   0003DC   90....       MOV     DPTR,#__Constant_80000
   \   0003DF   12....       LCALL   ?XLOAD_R2345
   \   0003E2   90....       MOV     DPTR,#zgDefaultChannelList
   \   0003E5   12....       LCALL   ?XSTORE_R2345
    350                      }
    351                      if (buff[1] == 0x14 )
   \                     ??parse_procotol_26:
   \   0003E8   85..82       MOV     DPL,?V0 + 0
   \   0003EB   85..83       MOV     DPH,?V0 + 1
   \   0003EE   A3           INC     DPTR
   \   0003EF   E0           MOVX    A,@DPTR
   \   0003F0   6414         XRL     A,#0x14
   \   0003F2   700C         JNZ     ??parse_procotol_27
    352                      {
    353                        zgDefaultChannelList = 0x00100000;
   \   0003F4   90....       MOV     DPTR,#__Constant_100000
   \   0003F7   12....       LCALL   ?XLOAD_R2345
   \   0003FA   90....       MOV     DPTR,#zgDefaultChannelList
   \   0003FD   12....       LCALL   ?XSTORE_R2345
    354                      }
    355                      if (buff[1] == 0x15 )
   \                     ??parse_procotol_27:
   \   000400   85..82       MOV     DPL,?V0 + 0
   \   000403   85..83       MOV     DPH,?V0 + 1
   \   000406   A3           INC     DPTR
   \   000407   E0           MOVX    A,@DPTR
   \   000408   6415         XRL     A,#0x15
   \   00040A   700C         JNZ     ??parse_procotol_28
    356                      {
    357                        zgDefaultChannelList = 0x00200000;
   \   00040C   90....       MOV     DPTR,#__Constant_200000
   \   00040F   12....       LCALL   ?XLOAD_R2345
   \   000412   90....       MOV     DPTR,#zgDefaultChannelList
   \   000415   12....       LCALL   ?XSTORE_R2345
    358                      }            
    359                      if (buff[1] == 0x16 )
   \                     ??parse_procotol_28:
   \   000418   85..82       MOV     DPL,?V0 + 0
   \   00041B   85..83       MOV     DPH,?V0 + 1
   \   00041E   A3           INC     DPTR
   \   00041F   E0           MOVX    A,@DPTR
   \   000420   6416         XRL     A,#0x16
   \   000422   700C         JNZ     ??parse_procotol_29
    360                      {
    361                        zgDefaultChannelList = 0x00400000;
   \   000424   90....       MOV     DPTR,#__Constant_400000
   \   000427   12....       LCALL   ?XLOAD_R2345
   \   00042A   90....       MOV     DPTR,#zgDefaultChannelList
   \   00042D   12....       LCALL   ?XSTORE_R2345
    362                      }
    363                      if (buff[1] == 0x17 )
   \                     ??parse_procotol_29:
   \   000430   85..82       MOV     DPL,?V0 + 0
   \   000433   85..83       MOV     DPH,?V0 + 1
   \   000436   A3           INC     DPTR
   \   000437   E0           MOVX    A,@DPTR
   \   000438   6417         XRL     A,#0x17
   \   00043A   700C         JNZ     ??parse_procotol_30
    364                      {
    365                        zgDefaultChannelList = 0x00800000;
   \   00043C   90....       MOV     DPTR,#__Constant_800000
   \   00043F   12....       LCALL   ?XLOAD_R2345
   \   000442   90....       MOV     DPTR,#zgDefaultChannelList
   \   000445   12....       LCALL   ?XSTORE_R2345
    366                      }
    367                      if (buff[1] == 0x18 )
   \                     ??parse_procotol_30:
   \   000448   85..82       MOV     DPL,?V0 + 0
   \   00044B   85..83       MOV     DPH,?V0 + 1
   \   00044E   A3           INC     DPTR
   \   00044F   E0           MOVX    A,@DPTR
   \   000450   6418         XRL     A,#0x18
   \   000452   700C         JNZ     ??parse_procotol_31
    368                      {
    369                        zgDefaultChannelList = 0x01000000;
   \   000454   90....       MOV     DPTR,#__Constant_1000000
   \   000457   12....       LCALL   ?XLOAD_R2345
   \   00045A   90....       MOV     DPTR,#zgDefaultChannelList
   \   00045D   12....       LCALL   ?XSTORE_R2345
    370                      }
    371          
    372                      if (buff[1] == 0x19 )
   \                     ??parse_procotol_31:
   \   000460   85..82       MOV     DPL,?V0 + 0
   \   000463   85..83       MOV     DPH,?V0 + 1
   \   000466   A3           INC     DPTR
   \   000467   E0           MOVX    A,@DPTR
   \   000468   6419         XRL     A,#0x19
   \   00046A   700C         JNZ     ??parse_procotol_32
    373                      {
    374                        zgDefaultChannelList = 0x02000000;
   \   00046C   90....       MOV     DPTR,#__Constant_2000000
   \   00046F   12....       LCALL   ?XLOAD_R2345
   \   000472   90....       MOV     DPTR,#zgDefaultChannelList
   \   000475   12....       LCALL   ?XSTORE_R2345
    375                      }
    376                      if (buff[1] == 0x1a )
   \                     ??parse_procotol_32:
   \   000478   85..82       MOV     DPL,?V0 + 0
   \   00047B   85..83       MOV     DPH,?V0 + 1
   \   00047E   A3           INC     DPTR
   \   00047F   E0           MOVX    A,@DPTR
   \   000480   641A         XRL     A,#0x1a
   \   000482   700C         JNZ     ??parse_procotol_33
    377                      {
    378                        zgDefaultChannelList = 0x04000000;
   \   000484   90....       MOV     DPTR,#__Constant_4000000
   \   000487   12....       LCALL   ?XLOAD_R2345
   \   00048A   90....       MOV     DPTR,#zgDefaultChannelList
   \   00048D   12....       LCALL   ?XSTORE_R2345
    379                      }
    380                      
    381                      osal_nv_write(  ZCD_NV_CHANLIST, 0 ,sizeof(zgDefaultChannelList), &zgDefaultChannelList);
   \                     ??parse_procotol_33:
   \   000490                ; Setup parameters for call to function osal_nv_write
   \   000490   75....       MOV     ?V0 + 0,#zgDefaultChannelList & 0xff
   \   000493   75....       MOV     ?V0 + 1,#(zgDefaultChannelList >> 8) & 0xff
   \   000496   78..         MOV     R0,#?V0 + 0
   \   000498   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00049B   75..04       MOV     ?V0 + 0,#0x4
   \   00049E   75..00       MOV     ?V0 + 1,#0x0
   \   0004A1   78..         MOV     R0,#?V0 + 0
   \   0004A3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004A6   7C00         MOV     R4,#0x0
   \   0004A8   7D00         MOV     R5,#0x0
   \   0004AA   7A84         MOV     R2,#-0x7c
   \   0004AC   12....       LCALL   ??Subroutine34_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_77:
   \   0004AF   12....       LCALL   ?DEALLOC_XSTACK8
    382                      
    383                      UART_Send_String( (uint8*)&zgDefaultChannelList, sizeof(zgDefaultChannelList) );
   \   0004B2                ; Setup parameters for call to function UART_Send_String
   \   0004B2   7C04         MOV     R4,#0x4
   \   0004B4   7D00         MOV     R5,#0x0
   \   0004B6   7A..         MOV     R2,#zgDefaultChannelList & 0xff
   \   0004B8   7B..         MOV     R3,#(zgDefaultChannelList >> 8) & 0xff
   \                     ??parse_procotol_34:
   \   0004BA   12....       LCALL   ??UART_Send_String?relay
   \   0004BD   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    384          
    385                      /*
    386                      _NIB.nwkLogicalChannel = buff[1];
    387                      ZMacSetReq( ZMacChannel, &buff[1]);
    388                      ZDApp_NwkStateUpdateCB();
    389                      _NIB.nwkTotalTransmissions = 0;
    390                      nwkTransmissionFailures( TRUE );
    391                      */
    392                    }
    393                  }
    394                }  
    395            
    396                if( len == 3)
   \                     ??parse_procotol_13:
   \   0004C0   7403         MOV     A,#0x3
   \   0004C2   65..         XRL     A,?V0 + 2
   \   0004C4   6003         JZ      $+5
   \   0004C6   02....       LJMP    ??parse_procotol_35 & 0xFFFF
    397                {
    398          #if defined( ZDO_COORDINATOR )
    399              // only coordinator can have this function
    400                
    401                if( buff[0] == 0xCA || buff[0] == 0x03 || buff[0] == 0x01 )
    402                {
    403                  // CA xx xx ,send CA to a node ,with it's short address, 0x03 ,mac address, 0x01 short address
    404                  ///uprint("it's CA ");
    405                  short_ddr = BUILD_UINT16( buff[1], buff[2] );        
    406                  if(  SendData( short_ddr, buff, 1) == 0 )
    407                  {
    408                    uprint("send failed,0xca 0x03 0x01");
    409                  }
    410                  return;
    411                }
    412              
    413          #endif 
    414                  if(buff[0] == 0xed)
   \   0004C9   8A82         MOV     DPL,R2
   \   0004CB   8B83         MOV     DPH,R3
   \   0004CD   E0           MOVX    A,@DPTR
   \   0004CE   64ED         XRL     A,#0xed
   \   0004D0   6003         JZ      $+5
   \   0004D2   02....       LJMP    ??parse_procotol_36 & 0xFFFF
    415                  {
    416                    if(buff[1] == 0xfa)
   \   0004D5   A3           INC     DPTR
   \   0004D6   E0           MOVX    A,@DPTR
   \   0004D7   64FA         XRL     A,#0xfa
   \   0004D9   8A82         MOV     DPL,R2
   \   0004DB   8B83         MOV     DPH,R3
   \   0004DD   A3           INC     DPTR
   \   0004DE   701E         JNZ     ??parse_procotol_37
    417                    {
    418                      if(buff[2] == 0x01)
   \   0004E0   A3           INC     DPTR
   \   0004E1   E0           MOVX    A,@DPTR
   \   0004E2   6401         XRL     A,#0x1
   \   0004E4   7005         JNZ     ??parse_procotol_38
    419                      {
    420                        LED1 = 1;return;
   \   0004E6   D290         SETB    0x90.0
   \   0004E8   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    421                      }
    422                      if(buff[2] == 0x02)
   \                     ??parse_procotol_38:
   \   0004EB   8A82         MOV     DPL,R2
   \   0004ED   8B83         MOV     DPH,R3
   \   0004EF   A3           INC     DPTR
   \   0004F0   A3           INC     DPTR
   \   0004F1   E0           MOVX    A,@DPTR
   \   0004F2   6402         XRL     A,#0x2
   \   0004F4   6003         JZ      $+5
   \   0004F6   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    423                      {
    424                        LED2 = 1;return;
   \   0004F9   D291         SETB    0x90.1
   \   0004FB   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    425                      }
    426                    }
    427                    if(buff[1] ==0xff)
   \                     ??parse_procotol_37:
   \   0004FE   E0           MOVX    A,@DPTR
   \   0004FF   F4           CPL     A
   \   000500   8A82         MOV     DPL,R2
   \   000502   8B83         MOV     DPH,R3
   \   000504   A3           INC     DPTR
   \   000505   701E         JNZ     ??parse_procotol_39
    428                    {
    429                      if(buff[2] == 0x01)
   \   000507   A3           INC     DPTR
   \   000508   E0           MOVX    A,@DPTR
   \   000509   6401         XRL     A,#0x1
   \   00050B   7005         JNZ     ??parse_procotol_40
    430                      {
    431                        LED1 = 0;return;
   \   00050D   C290         CLR     0x90.0
   \   00050F   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    432                      }
    433                      if(buff[2] == 0x02)
   \                     ??parse_procotol_40:
   \   000512   8A82         MOV     DPL,R2
   \   000514   8B83         MOV     DPH,R3
   \   000516   A3           INC     DPTR
   \   000517   A3           INC     DPTR
   \   000518   E0           MOVX    A,@DPTR
   \   000519   6402         XRL     A,#0x2
   \   00051B   6003         JZ      $+5
   \   00051D   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    434                      {
    435                        LED2 = 0;return;
   \   000520   C291         CLR     0x90.1
   \   000522   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    436                      }
    437                    }
    438                    if(buff[1] == 0xfc)
   \                     ??parse_procotol_39:
   \   000525   E0           MOVX    A,@DPTR
   \   000526   64FC         XRL     A,#0xfc
   \   000528   6003         JZ      $+5
   \   00052A   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    439                    {
    440                      if(buff[2]== 0x01)
   \   00052D   8A82         MOV     DPL,R2
   \   00052F   8B83         MOV     DPH,R3
   \   000531   A3           INC     DPTR
   \   000532   A3           INC     DPTR
   \   000533   E0           MOVX    A,@DPTR
   \   000534   6401         XRL     A,#0x1
   \   000536   700D         JNZ     ??parse_procotol_41
    441                      {
    442                        LED1= !LED1;return;
   \   000538   D2F0         SETB    B.0
   \   00053A   A290         MOV     C,0x90.0
   \   00053C   30F001       JNB     B.0,??parse_procotol_42
   \   00053F   B3           CPL     C
   \                     ??parse_procotol_42:
   \   000540   9290         MOV     0x90.0,C
   \   000542   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    443                      }
    444                      if(buff[2] == 0x02)
   \                     ??parse_procotol_41:
   \   000545   8A82         MOV     DPL,R2
   \   000547   8B83         MOV     DPH,R3
   \   000549   A3           INC     DPTR
   \   00054A   A3           INC     DPTR
   \   00054B   E0           MOVX    A,@DPTR
   \   00054C   6402         XRL     A,#0x2
   \   00054E   6003         JZ      $+5
   \   000550   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    445                      {
    446                        LED2 = !LED2;return;
   \   000553   D2F0         SETB    B.0
   \   000555   A291         MOV     C,0x90.1
   \   000557   30F001       JNB     B.0,??parse_procotol_43
   \   00055A   B3           CPL     C
   \                     ??parse_procotol_43:
   \   00055B   9291         MOV     0x90.1,C
   \   00055D   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    447                      }
    448                    }
    449                    
    450                  }
    451                  
    452                  if(buff[0] == 0xdc)
   \                     ??parse_procotol_36:
   \   000560   E0           MOVX    A,@DPTR
   \   000561   64DC         XRL     A,#0xdc
   \   000563   6003         JZ      $+5
   \   000565   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    453                  {
    454                    if( buff[1] >= 0 && buff[1] <= 0x0f)
                                       ^
Warning[Pe186]: pointless comparison of unsigned integer with zero
   \   000568   A3           INC     DPTR
   \   000569   E0           MOVX    A,@DPTR
   \   00056A   C3           CLR     C
   \   00056B   9410         SUBB    A,#0x10
   \   00056D   4003         JC      $+5
   \   00056F   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    455                    {
    456                      switch (buff[2])
   \   000572   8A82         MOV     DPL,R2
   \   000574   8B83         MOV     DPH,R3
   \   000576   A3           INC     DPTR
   \   000577   A3           INC     DPTR
   \   000578   E0           MOVX    A,@DPTR
   \   000579   24F8         ADD     A,#-0x8
   \   00057B   600E         JZ      ??parse_procotol_44
   \   00057D   24FE         ADD     A,#-0x2
   \   00057F   601E         JZ      ??parse_procotol_45
   \   000581   24FE         ADD     A,#-0x2
   \   000583   601E         JZ      ??parse_procotol_46
   \   000585   24FE         ADD     A,#-0x2
   \   000587   601E         JZ      ??parse_procotol_47
   \   000589   8020         SJMP    ??parse_procotol_48
    457                      {
    458                      case 8:
    459                        UART_Send_String( (uint8*)HalAdcRead ( buff[1], HAL_ADC_RESOLUTION_8), 2);
   \                     ??parse_procotol_44:
   \   00058B                ; Setup parameters for call to function UART_Send_String
   \   00058B                ; Setup parameters for call to function HalAdcRead
   \   00058B   7A01         MOV     R2,#0x1
   \                     ??parse_procotol_49:
   \   00058D   85..82       MOV     DPL,?V0 + 0
   \   000590   8B83         MOV     DPH,R3
   \   000592   A3           INC     DPTR
   \   000593   E0           MOVX    A,@DPTR
   \   000594   F9           MOV     R1,A
   \   000595   12....       LCALL   ??HalAdcRead?relay
   \   000598   7C02         MOV     R4,#0x2
   \   00059A   7D00         MOV     R5,#0x0
   \   00059C   02....       LJMP    ??parse_procotol_34 & 0xFFFF
    460                        break;
    461                      case 10:
    462                        UART_Send_String( (uint8*)HalAdcRead ( buff[1], HAL_ADC_RESOLUTION_10), 2);
   \                     ??parse_procotol_45:
   \   00059F                ; Setup parameters for call to function UART_Send_String
   \   00059F                ; Setup parameters for call to function HalAdcRead
   \   00059F   7A02         MOV     R2,#0x2
   \   0005A1   80EA         SJMP    ??parse_procotol_49
    463                        break;
    464                      case 12:
    465                        UART_Send_String( (uint8*)HalAdcRead ( buff[1], HAL_ADC_RESOLUTION_12), 2);
   \                     ??parse_procotol_46:
   \   0005A3                ; Setup parameters for call to function UART_Send_String
   \   0005A3                ; Setup parameters for call to function HalAdcRead
   \   0005A3   7A03         MOV     R2,#0x3
   \   0005A5   80E6         SJMP    ??parse_procotol_49
    466                        break;
    467                      case 14:
    468                        UART_Send_String( (uint8*)HalAdcRead ( buff[1], HAL_ADC_RESOLUTION_14), 2);
   \                     ??parse_procotol_47:
   \   0005A7                ; Setup parameters for call to function UART_Send_String
   \   0005A7                ; Setup parameters for call to function HalAdcRead
   \   0005A7   7A04         MOV     R2,#0x4
   \   0005A9   80E2         SJMP    ??parse_procotol_49
    469                        break;
    470                      default:
    471                        UART_Send_String( (uint8*)HalAdcRead ( buff[1], 0), 2);
   \                     ??parse_procotol_48:
   \   0005AB                ; Setup parameters for call to function UART_Send_String
   \   0005AB                ; Setup parameters for call to function HalAdcRead
   \   0005AB   7A00         MOV     R2,#0x0
   \   0005AD   80DE         SJMP    ??parse_procotol_49
    472                        break;
    473                      }
    474                    }
    475                  }
    476                  
    477                }
    478                
    479                if( len == 6)
   \                     ??parse_procotol_35:
   \   0005AF   7406         MOV     A,#0x6
   \   0005B1   65..         XRL     A,?V0 + 2
   \   0005B3   6003         JZ      $+5
   \   0005B5   02....       LJMP    ??parse_procotol_50 & 0xFFFF
    480                {
    481                  if( strstr( buff,"reboot") )
                                     ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   0005B8                ; Setup parameters for call to function strstr
   \   0005B8   7C..         MOV     R4,#`?<Constant "reboot">` & 0xff
   \   0005BA   7D..         MOV     R5,#(`?<Constant "reboot">` >> 8) & 0xff
   \   0005BC   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_42:
   \   0005BF   600C         JZ      ??parse_procotol_51
    482                  {
    483                    SystemReset();
   \   0005C1   C2AF         CLR     0xa8.7
   \   0005C3   C2AF         CLR     0xa8.7
   \   0005C5   75C9AB       MOV     0xc9,#-0x55
   \   0005C8   75C95B       MOV     0xc9,#0x5b
   \                     ??parse_procotol_52:
   \   0005CB   80FE         SJMP    ??parse_procotol_52
    484                  }
    485                  
    486                  if(buff[0] == 'p' && buff[1]==':') // pan id
   \                     ??parse_procotol_51:
   \   0005CD   85..82       MOV     DPL,?V0 + 0
   \   0005D0   85..83       MOV     DPH,?V0 + 1
   \   0005D3   E0           MOVX    A,@DPTR
   \   0005D4   6470         XRL     A,#0x70
   \   0005D6   6003         JZ      $+5
   \   0005D8   02....       LJMP    ??parse_procotol_53 & 0xFFFF
   \   0005DB   A3           INC     DPTR
   \   0005DC   E0           MOVX    A,@DPTR
   \   0005DD   643A         XRL     A,#0x3a
   \   0005DF   6003         JZ      $+5
   \   0005E1   02....       LJMP    ??parse_procotol_54 & 0xFFFF
    487                  {
    488                     // NLME_SetDefaultNV();
    489                      strncpy(pbuf, &buff[2],2); pbuf[2] = '\0';
                                           ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   0005E4                ; Setup parameters for call to function strncpy
   \   0005E4   75..02       MOV     ?V0 + 4,#0x2
   \   0005E7   75..00       MOV     ?V0 + 5,#0x0
   \   0005EA   78..         MOV     R0,#?V0 + 4
   \   0005EC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005EF   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_40:
   \   0005F2   12....       LCALL   ?XSTACK_DISP0_8
   \   0005F5   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_36:
   \   0005F8   12....       LCALL   ?DEALLOC_XSTACK8
   \   0005FB   7403         MOV     A,#0x3
   \   0005FD   12....       LCALL   ?XSTACK_DISP0_8
   \   000600   E4           CLR     A
   \   000601   F0           MOVX    @DPTR,A
    490                      strncpy(pbuf1, &buff[4],2); pbuf1[2] = '\0';
                                            ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000602                ; Setup parameters for call to function strncpy
   \   000602   78..         MOV     R0,#?V0 + 4
   \   000604   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000607   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_50:
   \   00060A   12....       LCALL   ?XSTACK_DISP0_8
   \   00060D   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_37:
   \   000610   12....       LCALL   ?DEALLOC_XSTACK8
   \   000613   7406         MOV     A,#0x6
   \   000615   12....       LCALL   ?XSTACK_DISP0_8
   \   000618   E4           CLR     A
   \   000619   F0           MOVX    @DPTR,A
    491                      
    492                      set_panid( BUILD_UINT16( strtol(pbuf1,NULL,16),strtol(pbuf,NULL,16) ));
   \   00061A                ; Setup parameters for call to function strtol
   \   00061A   75..10       MOV     ?V0 + 4,#0x10
   \   00061D   78..         MOV     R0,#?V0 + 4
   \   00061F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000622   7C00         MOV     R4,#0x0
   \   000624   7D00         MOV     R5,#0x0
   \   000626   7406         MOV     A,#0x6
   \   000628   12....       LCALL   ?XSTACK_DISP0_8
   \   00062B   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_52:
   \   00062E   12....       LCALL   ?DEALLOC_XSTACK8
   \   000631                ; Setup parameters for call to function set_panid
   \   000631   EA           MOV     A,R2
   \   000632   FE           MOV     R6,A
   \   000633                ; Setup parameters for call to function strtol
   \   000633   78..         MOV     R0,#?V0 + 4
   \   000635   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000638   7C00         MOV     R4,#0x0
   \   00063A   7D00         MOV     R5,#0x0
   \   00063C   7403         MOV     A,#0x3
   \   00063E   12....       LCALL   ?XSTACK_DISP0_8
   \   000641   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_53:
   \   000644   12....       LCALL   ?DEALLOC_XSTACK8
   \   000647   EA           MOV     A,R2
   \   000648   F5..         MOV     ?V0 + 5,A
   \   00064A   EE           MOV     A,R6
   \   00064B   2400         ADD     A,#0x0
   \   00064D   FA           MOV     R2,A
   \   00064E   E4           CLR     A
   \   00064F   35..         ADDC    A,?V0 + 5
   \   000651   FB           MOV     R3,A
   \   000652   12....       LCALL   ??set_panid?relay
    493                      
    494                      //_NIB.nwkPanId = BUILD_UINT16( strtol(pbuf1,NULL,16),strtol(pbuf,NULL,16));
    495          
    496                      
    497          //            NLME_UpdateNV(0x01);
    498                      
    499                      /*
    500                      ZAddr.addr.shortAddr = NLME_GetShortAddr();
    501                      ZAddr.addrMode = Addr16Bit;
    502                      ZDP_MgmtLeaveReq( &ZAddr, NLME_GetExtAddr(), 0 ); 
    503                      */
    504                      
    505                      
    506                      if(_NIB.nwkPanId == 0xffff)
   \   000655   90....       MOV     DPTR,#_NIB + 33
   \   000658   E0           MOVX    A,@DPTR
   \   000659   F4           CPL     A
   \   00065A   7003         JNZ     ??parse_procotol_55
   \   00065C   A3           INC     DPTR
   \   00065D   E0           MOVX    A,@DPTR
   \   00065E   F4           CPL     A
   \                     ??parse_procotol_55:
   \   00065F   7013         JNZ     ??parse_procotol_53
    507                      {
    508                        zgWriteStartupOptions (ZG_STARTUP_SET, ZCD_STARTOPT_DEFAULT_NETWORK_STATE);
   \   000661                ; Setup parameters for call to function zgWriteStartupOptions
   \   000661   7A02         MOV     R2,#0x2
   \   000663   79FF         MOV     R1,#-0x1
   \   000665   12....       LCALL   ??zgWriteStartupOptions?relay
    509                        
    510                        /*
    511                        if( _NIB.nwkLogicalChannel == 0x0b )
    512                        {
    513                          zgDefaultChannelList = 0x00000800;  
    514                        } 
    515                        if ( _NIB.nwkLogicalChannel == 0x0c )
    516                        {
    517                          zgDefaultChannelList = 0x00001000;
    518                        }
    519                        */
    520                        /*
    521                        osal_nv_item_init( ZCD_NV_CHANLIST, sizeof(zgDefaultChannelList), &zgDefaultChannelList);
    522                        osal_nv_read(  ZCD_NV_CHANLIST, 0, sizeof(zgDefaultChannelList), &zgDefaultChannelList);
    523                        
    524                        UART_Send_String( (uint8*)&zgDefaultChannelList, sizeof(zgDefaultChannelList) );
    525                        */
    526                        //ZDOInitDevice( 0 );
    527                        
    528                        /*
    529                        if ( ZG_BUILD_COORDINATOR_TYPE && logicalType == NODETYPE_COORDINATOR )
    530                        {
    531                         // if( 
    532                          NLME_NetworkFormationRequest( zgConfigPANID, zgApsUseExtendedPANID, _NIB.nwkLogicalChannel,
    533                                                         zgDefaultStartingScanDuration, BEACON_ORDER_NO_BEACONS , BEACON_ORDER_NO_BEACONS,false);
    534                          //NLME_StartRouterRequest( BEACON_ORDER_NO_BEACONS, BEACON_ORDER_NO_BEACONS, false );
    535                        }
    536                        if ( ZG_BUILD_JOINING_TYPE && (logicalType == NODETYPE_ROUTER || logicalType == NODETYPE_DEVICE) )
    537                        {
    538                          NLME_NetworkDiscoveryRequest( _NIB.nwkLogicalChannel, zgDefaultStartingScanDuration );
    539                          uprint("researching");
    540                        }
    541                        */
    542                        // after reset, search and join new network
    543                      
    544                        SystemReset();
   \   000668   C2AF         CLR     0xa8.7
   \   00066A   C2AF         CLR     0xa8.7
   \   00066C   75C9AB       MOV     0xc9,#-0x55
   \   00066F   75C95B       MOV     0xc9,#0x5b
   \                     ??parse_procotol_56:
   \   000672   80FE         SJMP    ??parse_procotol_56
    545                      }
    546                      
    547                  }
    548                  
    549                  if(buff[0] == 's' && buff[1]==':') // short address
   \                     ??parse_procotol_53:
   \   000674   85..82       MOV     DPL,?V0 + 0
   \   000677   85..83       MOV     DPH,?V0 + 1
   \   00067A   E0           MOVX    A,@DPTR
   \   00067B   6473         XRL     A,#0x73
   \   00067D   6003         JZ      $+5
   \   00067F   02....       LJMP    ??parse_procotol_54 & 0xFFFF
   \   000682   A3           INC     DPTR
   \   000683   E0           MOVX    A,@DPTR
   \   000684   643A         XRL     A,#0x3a
   \   000686   707B         JNZ     ??parse_procotol_54
    550                  {
    551                      strncpy(pbuf, &buff[2],2); pbuf[2] = '\0';
                                           ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000688                ; Setup parameters for call to function strncpy
   \   000688   75..02       MOV     ?V0 + 4,#0x2
   \   00068B   75..00       MOV     ?V0 + 5,#0x0
   \   00068E   78..         MOV     R0,#?V0 + 4
   \   000690   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000693   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_41:
   \   000696   12....       LCALL   ?XSTACK_DISP0_8
   \   000699   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_38:
   \   00069C   12....       LCALL   ?DEALLOC_XSTACK8
   \   00069F   7403         MOV     A,#0x3
   \   0006A1   12....       LCALL   ?XSTACK_DISP0_8
   \   0006A4   E4           CLR     A
   \   0006A5   F0           MOVX    @DPTR,A
    552                      strncpy(pbuf1, &buff[4],2); pbuf1[2] = '\0';
                                            ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   0006A6                ; Setup parameters for call to function strncpy
   \   0006A6   78..         MOV     R0,#?V0 + 4
   \   0006A8   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0006AB   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_51:
   \   0006AE   12....       LCALL   ?XSTACK_DISP0_8
   \   0006B1   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_39:
   \   0006B4   12....       LCALL   ?DEALLOC_XSTACK8
   \   0006B7   7406         MOV     A,#0x6
   \   0006B9   12....       LCALL   ?XSTACK_DISP0_8
   \   0006BC   E4           CLR     A
   \   0006BD   F0           MOVX    @DPTR,A
    553                      _NIB.nwkDevAddress = BUILD_UINT16( strtol(pbuf1,NULL,16),strtol(pbuf,NULL,16));
   \   0006BE                ; Setup parameters for call to function strtol
   \   0006BE   75..10       MOV     ?V0 + 4,#0x10
   \   0006C1   78..         MOV     R0,#?V0 + 4
   \   0006C3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0006C6   7C00         MOV     R4,#0x0
   \   0006C8   7D00         MOV     R5,#0x0
   \   0006CA   7406         MOV     A,#0x6
   \   0006CC   12....       LCALL   ?XSTACK_DISP0_8
   \   0006CF   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_54:
   \   0006D2   12....       LCALL   ?DEALLOC_XSTACK8
   \   0006D5   EA           MOV     A,R2
   \   0006D6   FE           MOV     R6,A
   \   0006D7                ; Setup parameters for call to function strtol
   \   0006D7   78..         MOV     R0,#?V0 + 4
   \   0006D9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0006DC   7C00         MOV     R4,#0x0
   \   0006DE   7D00         MOV     R5,#0x0
   \   0006E0   7403         MOV     A,#0x3
   \   0006E2   12....       LCALL   ?XSTACK_DISP0_8
   \   0006E5   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_55:
   \   0006E8   12....       LCALL   ?DEALLOC_XSTACK8
   \   0006EB   EA           MOV     A,R2
   \   0006EC   F5..         MOV     ?V0 + 5,A
   \   0006EE   EE           MOV     A,R6
   \   0006EF   2400         ADD     A,#0x0
   \   0006F1   F8           MOV     R0,A
   \   0006F2   E4           CLR     A
   \   0006F3   35..         ADDC    A,?V0 + 5
   \   0006F5   F9           MOV     R1,A
   \   0006F6   90....       MOV     DPTR,#_NIB + 20
   \   0006F9   E8           MOV     A,R0
   \   0006FA   F0           MOVX    @DPTR,A
   \   0006FB   A3           INC     DPTR
   \   0006FC   E9           MOV     A,R1
   \   0006FD   F0           MOVX    @DPTR,A
    554                      NLME_UpdateNV(0x01);
   \   0006FE                ; Setup parameters for call to function NLME_UpdateNV
   \   0006FE   7901         MOV     R1,#0x1
   \   000700   12....       LCALL   ??NLME_UpdateNV?relay
    555                      //SystemResetSoft();
    556                      
    557                  }
    558                  
    559                  if( strstr(buff, "nwkkey")  )
                                    ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \                     ??parse_procotol_54:
   \   000703                ; Setup parameters for call to function strstr
   \   000703   7C..         MOV     R4,#`?<Constant "nwkkey">` & 0xff
   \   000705   7D..         MOV     R5,#(`?<Constant "nwkkey">` >> 8) & 0xff
   \   000707   AA..         MOV     R2,?V0 + 0
   \   000709   AB..         MOV     R3,?V0 + 1
   \   00070B   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_43:
   \   00070E   7003         JNZ     $+5
   \   000710   02....       LJMP    ??parse_procotol_57 & 0xFFFF
    560                  {
    561                    if ( osal_nv_read( ZCD_NV_NWKKEY, 0, sizeof(nwkActiveKeyItems), (void*)&keyItems ) ==   ZSUCCESS )
   \   000713                ; Setup parameters for call to function osal_nv_read
   \   000713   7407         MOV     A,#0x7
   \   000715   12....       LCALL   ?XSTACK_DISP0_8
   \   000718   8582..       MOV     ?V0 + 4,DPL
   \   00071B   8583..       MOV     ?V0 + 5,DPH
   \   00071E   78..         MOV     R0,#?V0 + 4
   \   000720   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000723   75..15       MOV     ?V0 + 4,#0x15
   \   000726   75..00       MOV     ?V0 + 5,#0x0
   \   000729   78..         MOV     R0,#?V0 + 4
   \   00072B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00072E   7C00         MOV     R4,#0x0
   \   000730   7D00         MOV     R5,#0x0
   \   000732   7A82         MOV     R2,#-0x7e
   \   000734   7B00         MOV     R3,#0x0
   \   000736   12....       LCALL   ??Subroutine36_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_84:
   \   000739   12....       LCALL   ?DEALLOC_XSTACK8
   \   00073C   E9           MOV     A,R1
   \   00073D   7013         JNZ     ??parse_procotol_58
    562                    {
    563                      UART_Send_String( keyItems.active.key, SEC_KEY_LEN);
   \   00073F                ; Setup parameters for call to function UART_Send_String
   \   00073F   7C10         MOV     R4,#0x10
   \   000741   7D00         MOV     R5,#0x0
   \   000743   7408         MOV     A,#0x8
   \   000745   12....       LCALL   ?XSTACK_DISP0_8
   \   000748   AA82         MOV     R2,DPL
   \   00074A   AB83         MOV     R3,DPH
   \   00074C   12....       LCALL   ??UART_Send_String?relay
   \   00074F   02....       LJMP    ??parse_procotol_57 & 0xFFFF
    564                    }else
    565                    {
    566                      uprint("osal nv read nwkkey error");
   \                     ??parse_procotol_58:
   \   000752                ; Setup parameters for call to function uprint
   \   000752   7A..         MOV     R2,#`?<Constant "osal nv read nwkkey e...">` & 0xff
   \   000754   7B..         MOV     R3,#(`?<Constant "osal nv read nwkkey e...">` >> 8) & 0xff
   \                     ??parse_procotol_59:
   \   000756   12....       LCALL   ??uprint?relay
   \   000759   02....       LJMP    ??parse_procotol_57 & 0xFFFF
    567                    }
    568                  }
    569                }
    570            
    571                if( len == 4 )
   \                     ??parse_procotol_50:
   \   00075C   7404         MOV     A,#0x4
   \   00075E   65..         XRL     A,?V0 + 2
   \   000760   706B         JNZ     ??parse_procotol_60
    572                {
    573                  if( strstr( buff,"type") )
                                     ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000762                ; Setup parameters for call to function strstr
   \   000762   7C..         MOV     R4,#`?<Constant "type">` & 0xff
   \   000764   7D..         MOV     R5,#(`?<Constant "type">` >> 8) & 0xff
   \   000766   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_44:
   \   000769   6027         JZ      ??parse_procotol_61
    574                  {
    575                    switch(zgDeviceLogicalType)
   \   00076B   90....       MOV     DPTR,#zgDeviceLogicalType
   \   00076E   E0           MOVX    A,@DPTR
   \   00076F   6008         JZ      ??parse_procotol_62
   \   000771   14           DEC     A
   \   000772   600B         JZ      ??parse_procotol_63
   \   000774   14           DEC     A
   \   000775   600E         JZ      ??parse_procotol_64
   \   000777   8012         SJMP    ??parse_procotol_65
    576                    {
    577                    case ZG_DEVICETYPE_COORDINATOR:
    578                      uprint("Coordi");
   \                     ??parse_procotol_62:
   \   000779                ; Setup parameters for call to function uprint
   \   000779   7A..         MOV     R2,#`?<Constant "Coordi">` & 0xff
   \   00077B   7B..         MOV     R3,#(`?<Constant "Coordi">` >> 8) & 0xff
   \   00077D   8010         SJMP    ??parse_procotol_66
    579                      break;
    580                    case ZG_DEVICETYPE_ROUTER:
    581                      uprint("Router");
   \                     ??parse_procotol_63:
   \   00077F                ; Setup parameters for call to function uprint
   \   00077F   7A..         MOV     R2,#`?<Constant "Router">` & 0xff
   \   000781   7B..         MOV     R3,#(`?<Constant "Router">` >> 8) & 0xff
   \   000783   800A         SJMP    ??parse_procotol_66
    582                      break;
    583                    case ZG_DEVICETYPE_ENDDEVICE:
    584                      uprint("Enddev");
   \                     ??parse_procotol_64:
   \   000785                ; Setup parameters for call to function uprint
   \   000785   7A..         MOV     R2,#`?<Constant "Enddev">` & 0xff
   \   000787   7B..         MOV     R3,#(`?<Constant "Enddev">` >> 8) & 0xff
   \   000789   8004         SJMP    ??parse_procotol_66
    585                      break;
    586                    default:
    587                      uprint("Unknow");
   \                     ??parse_procotol_65:
   \   00078B                ; Setup parameters for call to function uprint
   \   00078B   7A..         MOV     R2,#`?<Constant "Unknow">` & 0xff
   \   00078D   7B..         MOV     R3,#(`?<Constant "Unknow">` >> 8) & 0xff
   \                     ??parse_procotol_66:
   \   00078F   12....       LCALL   ??uprint?relay
    588                      break;
    589          
    590                    } 
    591                  }
    592                  
    593                  if(buff[0] == 'p' && buff[1] == 'i' && buff[2]=='n' && buff[3] == 'g')
   \                     ??parse_procotol_61:
   \   000792   85..82       MOV     DPL,?V0 + 0
   \   000795   85..83       MOV     DPH,?V0 + 1
   \   000798   E0           MOVX    A,@DPTR
   \   000799   6470         XRL     A,#0x70
   \   00079B   7066         JNZ     ??parse_procotol_57
   \   00079D   A3           INC     DPTR
   \   00079E   E0           MOVX    A,@DPTR
   \   00079F   6469         XRL     A,#0x69
   \   0007A1   6003         JZ      $+5
   \   0007A3   02....       LJMP    ??parse_procotol_2 & 0xFFFF
   \   0007A6   85..82       MOV     DPL,?V0 + 0
   \   0007A9   85..83       MOV     DPH,?V0 + 1
   \   0007AC   A3           INC     DPTR
   \   0007AD   A3           INC     DPTR
   \   0007AE   E0           MOVX    A,@DPTR
   \   0007AF   646E         XRL     A,#0x6e
   \   0007B1   6003         JZ      $+5
   \   0007B3   02....       LJMP    ??parse_procotol_2 & 0xFFFF
   \   0007B6   85..82       MOV     DPL,?V0 + 0
   \   0007B9   85..83       MOV     DPH,?V0 + 1
   \   0007BC   A3           INC     DPTR
   \   0007BD   A3           INC     DPTR
   \   0007BE   A3           INC     DPTR
   \   0007BF   E0           MOVX    A,@DPTR
   \   0007C0   6467         XRL     A,#0x67
   \   0007C2   6003         JZ      $+5
   \   0007C4   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    594                  {
    595                      uprint("pong");
   \   0007C7                ; Setup parameters for call to function uprint
   \   0007C7   7A..         MOV     R2,#`?<Constant "pong">` & 0xff
   \   0007C9   7B..         MOV     R3,#(`?<Constant "pong">` >> 8) & 0xff
   \   0007CB   8089         SJMP    ??parse_procotol_59
    596                  }
    597                
    598                }
    599            
    600              if( len == 21 )
   \                     ??parse_procotol_60:
   \   0007CD   7415         MOV     A,#0x15
   \   0007CF   65..         XRL     A,?V0 + 2
   \   0007D1   7027         JNZ     ??parse_procotol_67
    601              {
    602                
    603                if(strstr(buff, "pass:"))
                                 ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   0007D3                ; Setup parameters for call to function strstr
   \   0007D3   7C..         MOV     R4,#`?<Constant "pass:">` & 0xff
   \   0007D5   7D..         MOV     R5,#(`?<Constant "pass:">` >> 8) & 0xff
   \   0007D7   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_45:
   \   0007DA   6027         JZ      ??parse_procotol_57
    604                {
    605          #if defined (SECURE)
    606                    SSP_UpdateNwkKey( (byte*)(buff+5), 0);
   \   0007DC                ; Setup parameters for call to function SSP_UpdateNwkKey
   \   0007DC   7900         MOV     R1,#0x0
   \   0007DE   E5..         MOV     A,?V0 + 0
   \   0007E0   2405         ADD     A,#0x5
   \   0007E2   FA           MOV     R2,A
   \   0007E3   E5..         MOV     A,?V0 + 1
   \   0007E5   3400         ADDC    A,#0x0
   \   0007E7   FB           MOV     R3,A
   \   0007E8   12....       LCALL   ??SSP_UpdateNwkKey?relay
    607                    SSP_SwitchNwkKey( 0 );
   \   0007EB                ; Setup parameters for call to function SSP_SwitchNwkKey
   \   0007EB   7900         MOV     R1,#0x0
   \   0007ED   12....       LCALL   ??SSP_SwitchNwkKey?relay
    608          	  ZDApp_NVUpdate();
   \   0007F0                ; Setup parameters for call to function ZDApp_NVUpdate
   \   0007F0   12....       LCALL   ??ZDApp_NVUpdate?relay
    609                    uprint("change key");
   \   0007F3                ; Setup parameters for call to function uprint
   \   0007F3   7A..         MOV     R2,#`?<Constant "change key">` & 0xff
   \   0007F5   7B..         MOV     R3,#(`?<Constant "change key">` >> 8) & 0xff
   \   0007F7   02....       LJMP    ??parse_procotol_59 & 0xFFFF
    610          #endif
    611                }
    612              }
    613              
    614              if( len > 3 )
   \                     ??parse_procotol_67:
   \   0007FA   E9           MOV     A,R1
   \   0007FB   C3           CLR     C
   \   0007FC   9404         SUBB    A,#0x4
   \   0007FE   5003         JNC     $+5
   \   000800   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    615              {
    616                if(buff[0] == 0x09)
   \                     ??parse_procotol_57:
   \   000803   85..82       MOV     DPL,?V0 + 0
   \   000806   85..83       MOV     DPH,?V0 + 1
   \   000809   E0           MOVX    A,@DPTR
   \   00080A   6409         XRL     A,#0x9
   \   00080C   7052         JNZ     ??parse_procotol_68
    617                {
    618                  if(buff[1] >= 0 && buff[1] <= 7)
                                    ^
Warning[Pe186]: pointless comparison of unsigned integer with zero
   \   00080E   A3           INC     DPTR
   \   00080F   E0           MOVX    A,@DPTR
   \   000810   C3           CLR     C
   \   000811   9408         SUBB    A,#0x8
   \   000813   4003         JC      $+5
   \   000815   02....       LJMP    ??parse_procotol_2 & 0xFFFF
    619                  {
    620                       tmp_ios = 0x0202 + buff[1];
   \   000818   85..82       MOV     DPL,?V0 + 0
   \   00081B   85..83       MOV     DPH,?V0 + 1
   \   00081E   12....       LCALL   ?Subroutine13 & 0xFFFF
    621                       if( osal_nv_item_init( tmp_ios, sizeof(uint8), NULL) == SUCCESS)
   \                     ??CrossCallReturnLabel_28:
   \   000821   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000824   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_67:
   \   000827   12....       LCALL   ?DEALLOC_XSTACK8
   \   00082A   E9           MOV     A,R1
   \   00082B   702C         JNZ     ??parse_procotol_69
    622                       {
    623                         osal_nv_write(tmp_ios,0, sizeof(uint8),&buff[2]);
   \   00082D                ; Setup parameters for call to function osal_nv_write
   \   00082D   E5..         MOV     A,?V0 + 0
   \   00082F   2402         ADD     A,#0x2
   \   000831   F5..         MOV     ?V0 + 4,A
   \   000833   E5..         MOV     A,?V0 + 1
   \   000835   3400         ADDC    A,#0x0
   \   000837   F5..         MOV     ?V0 + 5,A
   \   000839   78..         MOV     R0,#?V0 + 4
   \   00083B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00083E   75..01       MOV     ?V0 + 4,#0x1
   \   000841   75..00       MOV     ?V0 + 5,#0x0
   \   000844   78..         MOV     R0,#?V0 + 4
   \   000846   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000849   7C00         MOV     R4,#0x0
   \   00084B   7D00         MOV     R5,#0x0
   \   00084D   EE           MOV     A,R6
   \   00084E   FA           MOV     R2,A
   \   00084F   EF           MOV     A,R7
   \   000850   FB           MOV     R3,A
   \   000851   12....       LCALL   ??Subroutine35_0 & 0xFFFF
    624                       }else
   \                     ??CrossCallReturnLabel_80:
   \   000854   12....       LCALL   ?DEALLOC_XSTACK8
   \   000857   8007         SJMP    ??parse_procotol_68
    625                       {
    626                         uprint("osal_nv_item_init 0x09 failed");
   \                     ??parse_procotol_69:
   \   000859                ; Setup parameters for call to function uprint
   \   000859   7A..         MOV     R2,#`?<Constant "osal_nv_item_init 0x0...">` & 0xff
   \   00085B   7B..         MOV     R3,#(`?<Constant "osal_nv_item_init 0x0...">` >> 8) & 0xff
   \   00085D   12....       LCALL   ??uprint?relay
    627                       }
    628                  }
    629                }
    630                if(buff[0] == 0x10)
   \                     ??parse_procotol_68:
   \   000860   85..82       MOV     DPL,?V0 + 0
   \   000863   85..83       MOV     DPH,?V0 + 1
   \   000866   E0           MOVX    A,@DPTR
   \   000867   6410         XRL     A,#0x10
   \   000869   7053         JNZ     ??parse_procotol_2
    631                {
    632                  if(buff[1] >= 0 && buff[1] <= 7)
                                    ^
Warning[Pe186]: pointless comparison of unsigned integer with zero
   \   00086B   A3           INC     DPTR
   \   00086C   E0           MOVX    A,@DPTR
   \   00086D   C3           CLR     C
   \   00086E   9408         SUBB    A,#0x8
   \   000870   504C         JNC     ??parse_procotol_2
    633                  {
    634                    tmp_ios = 0x0210 + buff[1];
   \   000872   12....       LCALL   ?Subroutine14 & 0xFFFF
    635                    if( osal_nv_item_init( tmp_ios, 64*sizeof(uint8), NULL) == SUCCESS)
   \                     ??CrossCallReturnLabel_30:
   \   000875   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000878   7C40         MOV     R4,#0x40
   \   00087A   12....       LCALL   ??Subroutine32_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_69:
   \   00087D   12....       LCALL   ?DEALLOC_XSTACK8
   \   000880   E9           MOV     A,R1
   \   000881   7034         JNZ     ??parse_procotol_70
    636                    {
    637                      osal_nv_write(tmp_ios,0, sizeof(uint8)*buff[2],&buff[3]);
   \   000883                ; Setup parameters for call to function osal_nv_write
   \   000883   E5..         MOV     A,?V0 + 0
   \   000885   2403         ADD     A,#0x3
   \   000887   F5..         MOV     ?V0 + 4,A
   \   000889   E5..         MOV     A,?V0 + 1
   \   00088B   3400         ADDC    A,#0x0
   \   00088D   F5..         MOV     ?V0 + 5,A
   \   00088F   78..         MOV     R0,#?V0 + 4
   \   000891   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000894   85..82       MOV     DPL,?V0 + 0
   \   000897   85..83       MOV     DPH,?V0 + 1
   \   00089A   A3           INC     DPTR
   \   00089B   A3           INC     DPTR
   \   00089C   E0           MOVX    A,@DPTR
   \   00089D   F5..         MOV     ?V0 + 0,A
   \   00089F   75..00       MOV     ?V0 + 1,#0x0
   \   0008A2   78..         MOV     R0,#?V0 + 0
   \   0008A4   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0008A7   7C00         MOV     R4,#0x0
   \   0008A9   7D00         MOV     R5,#0x0
   \   0008AB   EE           MOV     A,R6
   \   0008AC   FA           MOV     R2,A
   \   0008AD   EF           MOV     A,R7
   \   0008AE   FB           MOV     R3,A
   \   0008AF   12....       LCALL   ??Subroutine35_0 & 0xFFFF
    638                    }else
   \                     ??CrossCallReturnLabel_81:
   \   0008B2   12....       LCALL   ?DEALLOC_XSTACK8
   \   0008B5   8007         SJMP    ??parse_procotol_2
    639                    {
    640                      uprint("osal_nv_item_init 0x10 failed");
   \                     ??parse_procotol_70:
   \   0008B7                ; Setup parameters for call to function uprint
   \   0008B7   7A..         MOV     R2,#`?<Constant "osal_nv_item_init 0x1...">` & 0xff
   \   0008B9   7B..         MOV     R3,#(`?<Constant "osal_nv_item_init 0x1...">` >> 8) & 0xff
   \                     ??parse_procotol_9:
   \   0008BB   12....       LCALL   ??uprint?relay
   \                     ??parse_procotol_2:
   \   0008BE   745D         MOV     A,#0x5d
   \   0008C0   12....       LCALL   ?DEALLOC_XSTACK8
   \   0008C3   7F08         MOV     R7,#0x8
   \   0008C5   02....       LJMP    ?BANKED_LEAVE_XDATA
   \   0008C8                REQUIRE _A_P1
   \   0008C8                REQUIRE _A_IEN0
   \   0008C8                REQUIRE WDCTL
    641                    }
    642                  }
    643                }
    644              }
    645          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine26:
   \   000000   AA82         MOV     R2,DPL
   \   000002   AB83         MOV     R3,DPH
   \   000004   12....       LCALL   ??strtol?relay
   \   000007   7402         MOV     A,#0x2
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine25:
   \   000000   E5..         MOV     A,?V0 + 0
   \   000002   2404         ADD     A,#0x4
   \   000004   FC           MOV     R4,A
   \   000005   E5..         MOV     A,?V0 + 1
   \   000007   3400         ADDC    A,#0x0
   \   000009   FD           MOV     R5,A
   \   00000A   7406         MOV     A,#0x6
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine22:
   \   000000   12....       LCALL   ??strstr?relay
   \   000003   8B..         MOV     ?V0 + 5,R3
   \   000005   EA           MOV     A,R2
   \   000006   45..         ORL     A,?V0 + 5
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine20:
   \   000000   E5..         MOV     A,?V0 + 0
   \   000002   2402         ADD     A,#0x2
   \   000004   FC           MOV     R4,A
   \   000005   E5..         MOV     A,?V0 + 1
   \   000007   3400         ADDC    A,#0x0
   \   000009   FD           MOV     R5,A
   \   00000A   7403         MOV     A,#0x3
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   AA82         MOV     R2,DPL
   \   000002   AB83         MOV     R3,DPH
   \   000004   12....       LCALL   ??strncpy?relay
   \   000007   7402         MOV     A,#0x2
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   7C01         MOV     R4,#0x1
   \   000002                REQUIRE ??Subroutine32_0
   \   000002                ; // Fall through to label ??Subroutine32_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine32_0:
   \   000000   7D00         MOV     R5,#0x0
   \   000002   EE           MOV     A,R6
   \   000003   FA           MOV     R2,A
   \   000004   EF           MOV     A,R7
   \   000005   FB           MOV     R3,A
   \   000006                REQUIRE ??Subroutine33_0
   \   000006                ; // Fall through to label ??Subroutine33_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine33_0:
   \   000000   12....       LCALL   ??osal_nv_item_init?relay
   \   000003   7402         MOV     A,#0x2
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   85..82       MOV     DPL,?V0 + 0
   \   000003   85..83       MOV     DPH,?V0 + 1
   \   000006   A3           INC     DPTR
   \   000007   E0           MOVX    A,@DPTR
   \   000008   2410         ADD     A,#0x10
   \   00000A   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_62:
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   A3           INC     DPTR
   \   000001   E0           MOVX    A,@DPTR
   \   000002   2402         ADD     A,#0x2
   \   000004   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_63:
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine30:
   \   000000   FE           MOV     R6,A
   \   000001   E4           CLR     A
   \   000002   3402         ADDC    A,#0x2
   \   000004   FF           MOV     R7,A
   \   000005                ; Setup parameters for call to function osal_nv_item_init
   \   000005                ; Setup parameters for call to function osal_nv_item_init
   \   000005                ; Setup parameters for call to function osal_nv_item_init
   \   000005                ; Setup parameters for call to function osal_nv_item_init
   \   000005   E4           CLR     A
   \   000006   F5..         MOV     ?V0 + 4,A
   \   000008   F5..         MOV     ?V0 + 5,A
   \   00000A   78..         MOV     R0,#?V0 + 4
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   90....       MOV     DPTR,#ZDO_Config_Node_Descriptor
   \   000003   E0           MOVX    A,@DPTR
   \   000004   5407         ANL     A,#0x7
   \   000006   85..82       MOV     DPL,?XSP + 0
   \   000009   85..83       MOV     DPH,?XSP + 1
   \   00000C   F0           MOVX    @DPTR,A
   \   00000D                ; Setup parameters for call to function osal_nv_item_init
   \   00000D                ; Setup parameters for call to function osal_nv_item_init
   \   00000D                ; Setup parameters for call to function osal_nv_item_init
   \   00000D   8582..       MOV     ?V0 + 0,DPL
   \   000010   8583..       MOV     ?V0 + 1,DPH
   \   000013   78..         MOV     R0,#?V0 + 0
   \   000015   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   7C00         MOV     R4,#0x0
   \   000002   7D00         MOV     R5,#0x0
   \   000004   7A87         MOV     R2,#-0x79
   \   000006                REQUIRE ??Subroutine34_0
   \   000006                ; // Fall through to label ??Subroutine34_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine34_0:
   \   000000   7B00         MOV     R3,#0x0
   \   000002                REQUIRE ??Subroutine35_0
   \   000002                ; // Fall through to label ??Subroutine35_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine35_0:
   \   000000   12....       LCALL   ??osal_nv_write?relay
   \   000003   7404         MOV     A,#0x4
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine21:
   \   000000   7C00         MOV     R4,#0x0
   \   000002   7D00         MOV     R5,#0x0
   \   000004   EE           MOV     A,R6
   \   000005   FA           MOV     R2,A
   \   000006   EF           MOV     A,R7
   \   000007   FB           MOV     R3,A
   \   000008                REQUIRE ??Subroutine36_0
   \   000008                ; // Fall through to label ??Subroutine36_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine36_0:
   \   000000   12....       LCALL   ??osal_nv_read?relay
   \   000003   7404         MOV     A,#0x4
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   12....       LCALL   ??NLME_GetExtAddr?relay
   \   000003   90....       MOV     DPTR,#ieeeAddr
   \   000006   EA           MOV     A,R2
   \   000007   F0           MOVX    @DPTR,A
   \   000008   A3           INC     DPTR
   \   000009   EB           MOV     A,R3
   \   00000A   F0           MOVX    @DPTR,A
   \   00000B   22           RET
    646          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    647          static void Serial_callBack(uint8 port, uint8 event)
   \                     Serial_callBack:
    648          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 41
   \   000005   74D7         MOV     A,#-0x29
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    649            
    650            zAddrType_t dstAddr;
    651          
    652            
    653            uint8 buff[32];
    654            uint8 readBytes = 0;
    655            
    656          
    657            
    658            uint8 yy1;
    659          
    660            
    661            uint8 i;
    662            byte nr;  
    663            
    664          
    665            
    666          
    667            //short_ddr = GenericApp_DstAddr.addr.shortAddr;
    668          
    669          //     uint16 devlist[ NWK_MAX_DEVICES + 1];
    670              
    671            
    672            readBytes = HalUARTRead(SER_PORT, buff, 31);
   \   00000A                ; Setup parameters for call to function HalUARTRead
   \   00000A   7C1F         MOV     R4,#0x1f
   \   00000C   7D00         MOV     R5,#0x0
   \   00000E   7409         MOV     A,#0x9
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   AA82         MOV     R2,DPL
   \   000015   AB83         MOV     R3,DPH
   \   000017   7900         MOV     R1,#0x0
   \   000019   12....       LCALL   ??HalUARTRead?relay
   \   00001C   EA           MOV     A,R2
   \   00001D   FE           MOV     R6,A
    673            if (readBytes > 0)
   \   00001E   7003         JNZ     $+5
   \   000020   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
    674            {
    675              //HalUARTWrite( SER_PORT, "DataRead: ",10);
    676              // HalUARTWrite( SER_PORT, buff, readBytes);
    677              
    678              if( readBytes == 1)
   \   000023   7401         MOV     A,#0x1
   \   000025   6E           XRL     A,R6
   \   000026   704D         JNZ     ??Serial_callBack_1
    679              {   
    680                  if(buff[0] == 0xCA)
   \   000028   7409         MOV     A,#0x9
   \   00002A   12....       LCALL   ?XSTACK_DISP0_8
   \   00002D   E0           MOVX    A,@DPTR
   \   00002E   64CA         XRL     A,#0xca
   \   000030   6003         JZ      $+5
   \   000032   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
    681                  {
    682                    // 
    683                    // read self AssociatedDevList
    684                    yy1 = 1;
   \   000035   7E01         MOV     R6,#0x1
    685                    for(i=0;i< NWK_MAX_DEVICES; i++)
   \   000037   7C00         MOV     R4,#0x0
    686                    {
    687                       nr = AssociatedDevList[ i ].nodeRelation;
    688                       //if(nr > 0 && nr < 5) //CHILD_RFD CHILD_RFD_RX_IDLE CHILD_FFD CHILD_FFD_RX_IDLE
    689                       if( nr != 0XFF)
   \                     ??Serial_callBack_2:
   \   000039   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_56:
   \   00003C   F4           CPL     A
   \   00003D   6008         JZ      ??Serial_callBack_3
    690                       {
    691                         //   myaddr.addrMode = (afAddrMode_t)Addr16Bit;
    692                         //   myaddr.endPoint = GENERICAPP_ENDPOINT;
    693                       //  if( AssociatedDevList[ i ].shortAddr != 0x0000)
    694                       //  {
    695                            //if( AssocIsChild( AssociatedDevList[ i ].shortAddr ) != 1 || AssociatedDevList[ i ].age > NWK_ROUTE_AGE_LIMIT)
    696                            //if( AssocIsChild( AssociatedDevList[ i ].shortAddr ) == 1 && AssociatedDevList[ i ].age > NWK_ROUTE_AGE_LIMIT )
    697                           // {
    698                              //  myaddr.addr.shortAddr = AssociatedDevList[ i ].shortAddr;
    699                                /*
    700                                if ( AF_DataRequest( &myaddr, &GenericApp_epDesc, GENERICAPP_CLUSTERID,(byte)osal_strlen( theMessageData ) + 1,
    701                                        (byte *)&theMessageData,
    702                                        &GenericApp_TransID,
    703                                        AF_ACK_REQUEST, AF_DEFAULT_RADIUS ) != afStatus_SUCCESS )
    704                                  {
    705                                    uprint("delete asso");
    706                                  */
    707                             //       delete_asso( AssociatedDevList[ i ]. addrIdx);
    708                                    
    709                            // }
    710                              //    else
    711                               //   {
    712                                  //  if( ZDSecMgrAuthenticationCheck(AssociatedDevList[ i ].shortAddr) == TRUE)
    713                                    {
    714                                      devlist[yy1] = AssociatedDevList[ i ].shortAddr;
   \   00003F   12....       LCALL   ?Subroutine23 & 0xFFFF
   \                     ??CrossCallReturnLabel_46:
   \   000042   EE           MOV     A,R6
   \   000043   12....       LCALL   ?Subroutine24 & 0xFFFF
    715                                      yy1++;
   \                     ??CrossCallReturnLabel_48:
   \   000046   0E           INC     R6
    716                                    }
    717                               //   }
    718                            
    719                            // }
    720                       }//else {break;}
    721                    }
   \                     ??Serial_callBack_3:
   \   000047   0C           INC     R4
   \   000048   EC           MOV     A,R4
   \   000049   C3           CLR     C
   \   00004A   9415         SUBB    A,#0x15
   \   00004C   40EB         JC      ??Serial_callBack_2
    722                    devlist[0] = BUILD_UINT16(0xce,  AssocCount( PARENT, CHILD_FFD_RX_IDLE ) );
   \   00004E                ; Setup parameters for call to function AssocCount
   \   00004E   7A04         MOV     R2,#0x4
   \   000050   7900         MOV     R1,#0x0
   \   000052   12....       LCALL   ??AssocCount?relay
   \   000055   EA           MOV     A,R2
   \   000056   FB           MOV     R3,A
   \   000057   E4           CLR     A
   \   000058   24CE         ADD     A,#-0x32
   \   00005A   EB           MOV     A,R3
   \   00005B   F9           MOV     R1,A
   \   00005C   90....       MOV     DPTR,#devlist
   \   00005F   74CE         MOV     A,#-0x32
   \   000061   F0           MOVX    @DPTR,A
   \   000062   A3           INC     DPTR
   \   000063   E9           MOV     A,R1
   \   000064   F0           MOVX    @DPTR,A
    723                    ///devlist[0] = BUILD_UINT16(0xce,  yy1-1 );
    724                    UART_Send_String( (uint8*)&devlist[0], yy1*2);
   \   000065                ; Setup parameters for call to function UART_Send_String
   \   000065   EE           MOV     A,R6
   \   000066   33           RLC     A
   \   000067   FC           MOV     R4,A
   \   000068   E4           CLR     A
   \   000069   33           RLC     A
   \   00006A   FD           MOV     R5,A
   \   00006B   7A..         MOV     R2,#devlist & 0xff
   \   00006D   7B..         MOV     R3,#(devlist >> 8) & 0xff
   \   00006F   12....       LCALL   ??UART_Send_String?relay
    725                      //p1 = AssocMakeList( &cnt );
    726                      //UART_Send_String( (uint8*)p1,  AssocCount(1, 4)*2);
    727                      //osal_mem_free(p1);
    728                    return;
   \   000072   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
    729                  }
    730              }
    731              
    732              
    733              
    734              if( readBytes >= 2)
   \                     ??Serial_callBack_1:
   \   000075   EE           MOV     A,R6
   \   000076   C3           CLR     C
   \   000077   9402         SUBB    A,#0x2
   \   000079   5003         JNC     $+5
   \   00007B   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
    735              {
    736                if( buff[0] == 'e' && buff[1] == '#')
   \   00007E   7409         MOV     A,#0x9
   \   000080   12....       LCALL   ?XSTACK_DISP0_8
   \   000083   E0           MOVX    A,@DPTR
   \   000084   6465         XRL     A,#0x65
   \   000086   707D         JNZ     ??Serial_callBack_4
   \   000088   740A         MOV     A,#0xa
   \   00008A   12....       LCALL   ?XSTACK_DISP0_8
   \   00008D   E0           MOVX    A,@DPTR
   \   00008E   6423         XRL     A,#0x23
   \   000090   6003         JZ      $+5
   \   000092   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
    737                {
    738                    uprint("EndDevice match");
   \   000095                ; Setup parameters for call to function uprint
   \   000095   7A..         MOV     R2,#`?<Constant "EndDevice match">` & 0xff
   \   000097   7B..         MOV     R3,#(`?<Constant "EndDevice match">` >> 8) & 0xff
   \   000099   12....       LCALL   ??uprint?relay
    739                    HalLedSet ( HAL_LED_1, HAL_LED_MODE_OFF );
   \   00009C                ; Setup parameters for call to function HalLedSet
   \   00009C   7A00         MOV     R2,#0x0
   \   00009E   7901         MOV     R1,#0x1
   \   0000A0   12....       LCALL   ??HalLedSet?relay
    740          
    741                    dstAddr.addrMode = Addr16Bit;
   \   0000A3   7408         MOV     A,#0x8
   \   0000A5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A8   7402         MOV     A,#0x2
   \   0000AA   12....       LCALL   ?Subroutine3 & 0xFFFF
    742                    dstAddr.addr.shortAddr = 0x0000; // Coordinator
   \                     ??CrossCallReturnLabel_1:
   \   0000AD   E4           CLR     A
   \   0000AE   F0           MOVX    @DPTR,A
   \   0000AF   A3           INC     DPTR
   \   0000B0   F0           MOVX    @DPTR,A
    743                    ZDP_EndDeviceBindReq( &dstAddr, NLME_GetShortAddr(), GenericApp_epDesc.endPoint,
    744                                      GENERICAPP_PROFID,
    745                                      GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    746                                      GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    747                                      FALSE );
   \   0000B1                ; Setup parameters for call to function NLME_GetShortAddr
   \   0000B1   12....       LCALL   ??NLME_GetShortAddr?relay
   \   0000B4   8A..         MOV     ?V0 + 0,R2
   \   0000B6   8B..         MOV     ?V0 + 1,R3
   \   0000B8   AC..         MOV     R4,?V0 + 0
   \   0000BA   AD..         MOV     R5,?V0 + 1
   \   0000BC   75....       MOV     ?V0 + 0,#GenericApp_ClusterList & 0xff
   \   0000BF   75....       MOV     ?V0 + 1,#(GenericApp_ClusterList >> 8) & 0xff
   \   0000C2                ; Setup parameters for call to function ZDP_EndDeviceBindReq
   \   0000C2   75..00       MOV     ?V0 + 2,#0x0
   \   0000C5   78..         MOV     R0,#?V0 + 2
   \   0000C7   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000CA   78..         MOV     R0,#?V0 + 0
   \   0000CC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000CF   75..01       MOV     ?V0 + 2,#0x1
   \   0000D2   78..         MOV     R0,#?V0 + 2
   \   0000D4   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000D7   78..         MOV     R0,#?V0 + 0
   \   0000D9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000DC   75..01       MOV     ?V0 + 0,#0x1
   \   0000DF   78..         MOV     R0,#?V0 + 0
   \   0000E1   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000E4   75..04       MOV     ?V0 + 0,#0x4
   \   0000E7   75..0F       MOV     ?V0 + 1,#0xf
   \   0000EA   78..         MOV     R0,#?V0 + 0
   \   0000EC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000EF   90....       MOV     DPTR,#GenericApp_epDesc
   \   0000F2   E0           MOVX    A,@DPTR
   \   0000F3   F9           MOV     R1,A
   \   0000F4   7409         MOV     A,#0x9
   \   0000F6   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F9   AA82         MOV     R2,DPL
   \   0000FB   AB83         MOV     R3,DPH
   \   0000FD   12....       LCALL   ??ZDP_EndDeviceBindReq?relay
   \   000100   7409         MOV     A,#0x9
   \   000102   12....       LCALL   ?DEALLOC_XSTACK8
    748                
    749                }
    750           
    751                if( buff[0] == 'r' && buff[1] == '#')
   \                     ??Serial_callBack_4:
   \   000105   7409         MOV     A,#0x9
   \   000107   12....       LCALL   ?XSTACK_DISP0_8
   \   00010A   E0           MOVX    A,@DPTR
   \   00010B   6472         XRL     A,#0x72
   \   00010D   7065         JNZ     ??Serial_callBack_5
   \   00010F   740A         MOV     A,#0xa
   \   000111   12....       LCALL   ?XSTACK_DISP0_8
   \   000114   E0           MOVX    A,@DPTR
   \   000115   6423         XRL     A,#0x23
   \   000117   6003         JZ      $+5
   \   000119   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
    752                {
    753                    uprint("Router Device match");
   \   00011C                ; Setup parameters for call to function uprint
   \   00011C   7A..         MOV     R2,#`?<Constant "Router Device match">` & 0xff
   \   00011E   7B..         MOV     R3,#(`?<Constant "Router Device match">` >> 8) & 0xff
   \   000120   12....       LCALL   ??uprint?relay
    754                    
    755          //        HalLedSet ( HAL_LED_1, HAL_LED_MODE_FLASH );
    756          
    757                dstAddr.addrMode = AddrBroadcast;
   \   000123   7408         MOV     A,#0x8
   \   000125   12....       LCALL   ?XSTACK_DISP0_8
   \   000128   740F         MOV     A,#0xf
   \   00012A   12....       LCALL   ?Subroutine3 & 0xFFFF
    758                dstAddr.addr.shortAddr = NWK_BROADCAST_SHORTADDR;
   \                     ??CrossCallReturnLabel_2:
   \   00012D   74FF         MOV     A,#-0x1
   \   00012F   F0           MOVX    @DPTR,A
   \   000130   A3           INC     DPTR
   \   000131   F0           MOVX    @DPTR,A
    759                ZDP_MatchDescReq( &dstAddr, NWK_BROADCAST_SHORTADDR,
    760                                  GENERICAPP_PROFID,
    761                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    762                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    763                                  FALSE );
   \   000132   75....       MOV     ?V0 + 0,#GenericApp_ClusterList & 0xff
   \   000135   75....       MOV     ?V0 + 1,#(GenericApp_ClusterList >> 8) & 0xff
   \   000138                ; Setup parameters for call to function ZDP_MatchDescReq
   \   000138   75..00       MOV     ?V0 + 2,#0x0
   \   00013B   78..         MOV     R0,#?V0 + 2
   \   00013D   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000140   78..         MOV     R0,#?V0 + 0
   \   000142   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000145   75..01       MOV     ?V0 + 2,#0x1
   \   000148   78..         MOV     R0,#?V0 + 2
   \   00014A   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00014D   78..         MOV     R0,#?V0 + 0
   \   00014F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000152   75..04       MOV     ?V0 + 0,#0x4
   \   000155   75..0F       MOV     ?V0 + 1,#0xf
   \   000158   78..         MOV     R0,#?V0 + 0
   \   00015A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00015D   7901         MOV     R1,#0x1
   \   00015F   7CFF         MOV     R4,#-0x1
   \   000161   7DFF         MOV     R5,#-0x1
   \   000163   7408         MOV     A,#0x8
   \   000165   12....       LCALL   ?XSTACK_DISP0_8
   \   000168   AA82         MOV     R2,DPL
   \   00016A   AB83         MOV     R3,DPH
   \   00016C   12....       LCALL   ??ZDP_MatchDescReq?relay
   \   00016F   7408         MOV     A,#0x8
   \   000171   12....       LCALL   ?DEALLOC_XSTACK8
    764                
    765                }
    766          
    767          
    768               
    769                
    770                if(buff[0] == 0xd8 ) // d8 xx xx i o t ,etc,d8 xx xx ed f[a,c,f] 01
   \                     ??Serial_callBack_5:
   \   000174   7409         MOV     A,#0x9
   \   000176   12....       LCALL   ?XSTACK_DISP0_8
   \   000179   E0           MOVX    A,@DPTR
   \   00017A   64D8         XRL     A,#0xd8
   \   00017C   7020         JNZ     ??Serial_callBack_0
    771                {
    772                    //short_ddr = BUILD_UINT16(buff[1],buff[2]);
    773                   // if(short_ddr != 0x0000)
    774                    //{
    775                      SendData( BUILD_UINT16(buff[1],buff[2]), &buff[3], readBytes - 3);
   \   00017E                ; Setup parameters for call to function SendData
   \   00017E   74FD         MOV     A,#-0x3
   \   000180   2E           ADD     A,R6
   \   000181   F9           MOV     R1,A
   \   000182   740C         MOV     A,#0xc
   \   000184   12....       LCALL   ?XSTACK_DISP0_8
   \   000187   AC82         MOV     R4,DPL
   \   000189   AD83         MOV     R5,DPH
   \   00018B   740A         MOV     A,#0xa
   \   00018D   12....       LCALL   ?XSTACK_DISP0_8
   \   000190   E0           MOVX    A,@DPTR
   \   000191   FE           MOV     R6,A
   \   000192   740B         MOV     A,#0xb
   \   000194   12....       LCALL   ?XSTACK_DISP0_8
   \   000197   E0           MOVX    A,@DPTR
   \   000198   FB           MOV     R3,A
   \   000199   EE           MOV     A,R6
   \   00019A   FA           MOV     R2,A
   \   00019B   12....       LCALL   ??SendData?relay
    776                    //}else
    777                    //{
    778                      // send to myself
    779                    //}
    780                      return;
   \                     ??Serial_callBack_0:
   \   00019E   7429         MOV     A,#0x29
   \   0001A0   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001A3   7F03         MOV     R7,#0x3
   \   0001A5   02....       LJMP    ?BANKED_LEAVE_XDATA
    781                }
    782                
    783              }
    784          
    785          
    786            }  
    787          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine27:
   \   000000   EC           MOV     A,R4
   \   000001   75F012       MOV     B,#0x12
   \   000004   A4           MUL     AB
   \   000005   F8           MOV     R0,A
   \   000006   A9F0         MOV     R1,B
   \   000008   74..         MOV     A,#(AssociatedDevList + 4) & 0xff
   \   00000A   28           ADD     A,R0
   \   00000B   F582         MOV     DPL,A
   \   00000D   74..         MOV     A,#((AssociatedDevList + 4) >> 8) & 0xff
   \   00000F   39           ADDC    A,R1
   \   000010   F583         MOV     DPH,A
   \   000012   E0           MOVX    A,@DPTR
   \   000013   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine24:
   \   000000   C3           CLR     C
   \   000001   33           RLC     A
   \   000002   F8           MOV     R0,A
   \   000003   E4           CLR     A
   \   000004   33           RLC     A
   \   000005   F9           MOV     R1,A
   \   000006   74..         MOV     A,#devlist & 0xff
   \   000008   28           ADD     A,R0
   \   000009   F582         MOV     DPL,A
   \   00000B   74..         MOV     A,#(devlist >> 8) & 0xff
   \   00000D   39           ADDC    A,R1
   \   00000E   F583         MOV     DPH,A
   \   000010   EA           MOV     A,R2
   \   000011   F0           MOVX    @DPTR,A
   \   000012   A3           INC     DPTR
   \   000013   EB           MOV     A,R3
   \   000014   F0           MOVX    @DPTR,A
   \   000015   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine23:
   \   000000   74..         MOV     A,#AssociatedDevList & 0xff
   \   000002   28           ADD     A,R0
   \   000003   F582         MOV     DPL,A
   \   000005   74..         MOV     A,#(AssociatedDevList >> 8) & 0xff
   \   000007   39           ADDC    A,R1
   \   000008   F583         MOV     DPH,A
   \   00000A   E0           MOVX    A,@DPTR
   \   00000B   FA           MOV     R2,A
   \   00000C   A3           INC     DPTR
   \   00000D   E0           MOVX    A,@DPTR
   \   00000E   FB           MOV     R3,A
   \   00000F   22           RET
    788          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    789          void serial_init(void )
   \                     serial_init:
    790          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 29
   \   000004   74E3         MOV     A,#-0x1d
   \   000006   12....       LCALL   ?ALLOC_XSTACK8
    791            halUARTCfg_t uartConfig;
    792          
    793           
    794            uartConfig.configured           = TRUE;                                                   // 2x30 don't care - see uart driver.
   \   000009   85..82       MOV     DPL,?XSP + 0
   \   00000C   85..83       MOV     DPH,?XSP + 1
   \   00000F   7401         MOV     A,#0x1
   \   000011   F0           MOVX    @DPTR,A
    795            uartConfig.baudRate             = HAL_UART_BR_38400;                       //38400
   \   000012   12....       LCALL   ?XSTACK_DISP0_8
   \   000015   7402         MOV     A,#0x2
   \   000017   F0           MOVX    @DPTR,A
    796            uartConfig.flowControl          = FALSE;
   \   000018   12....       LCALL   ?XSTACK_DISP0_8
   \   00001B   E4           CLR     A
   \   00001C   F0           MOVX    @DPTR,A
    797            uartConfig.flowControlThreshold = 64;        // 64.
   \   00001D   7403         MOV     A,#0x3
   \   00001F   12....       LCALL   ?XSTACK_DISP0_8
   \   000022   7440         MOV     A,#0x40
   \   000024   F0           MOVX    @DPTR,A
   \   000025   A3           INC     DPTR
   \   000026   E4           CLR     A
   \   000027   F0           MOVX    @DPTR,A
    798            uartConfig.rx.maxBufSize        = 512;                  // 128
   \   000028   740A         MOV     A,#0xa
   \   00002A   12....       LCALL   ?XSTACK_DISP0_8
   \   00002D   E4           CLR     A
   \   00002E   F0           MOVX    @DPTR,A
   \   00002F   A3           INC     DPTR
   \   000030   7402         MOV     A,#0x2
   \   000032   F0           MOVX    @DPTR,A
    799            uartConfig.tx.maxBufSize        = 512;                  // 128
   \   000033   7412         MOV     A,#0x12
   \   000035   12....       LCALL   ?XSTACK_DISP0_8
   \   000038   E4           CLR     A
   \   000039   F0           MOVX    @DPTR,A
   \   00003A   A3           INC     DPTR
   \   00003B   7402         MOV     A,#0x2
   \   00003D   F0           MOVX    @DPTR,A
    800            uartConfig.idleTimeout          = 6;                      // 6
   \   00003E   7405         MOV     A,#0x5
   \   000040   12....       LCALL   ?XSTACK_DISP0_8
   \   000043   7406         MOV     A,#0x6
   \   000045   F0           MOVX    @DPTR,A
    801            uartConfig.intEnable            = TRUE;                                                 
   \   000046   7416         MOV     A,#0x16
   \   000048   12....       LCALL   ?XSTACK_DISP0_8
   \   00004B   7401         MOV     A,#0x1
   \   00004D   F0           MOVX    @DPTR,A
    802            uartConfig.callBackFunc         = Serial_callBack;                   // Call back function
   \   00004E   741B         MOV     A,#0x1b
   \   000050   12....       LCALL   ?XSTACK_DISP0_8
   \   000053   74..         MOV     A,#??Serial_callBack?relay & 0xff
   \   000055   F0           MOVX    @DPTR,A
   \   000056   A3           INC     DPTR
   \   000057   74..         MOV     A,#(??Serial_callBack?relay >> 8) & 0xff
   \   000059   12....       LCALL   ?Subroutine3 & 0xFFFF
    803            
    804            HalUARTOpen (SER_PORT, &uartConfig);
   \                     ??CrossCallReturnLabel_3:
   \   00005C   AA82         MOV     R2,DPL
   \   00005E   AB83         MOV     R3,DPH
   \   000060   7900         MOV     R1,#0x0
   \   000062   12....       LCALL   ??HalUARTOpen?relay
    805          
    806          }
   \   000065   741D         MOV     A,#0x1d
   \   000067   12....       LCALL   ?DEALLOC_XSTACK8
   \   00006A   02....       LJMP    ?Subroutine1 & 0xFFFF
    807          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    808          void io_init(void)
   \                     io_init:
    809          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    810              /* For falling edge, the bit must be set. */
    811          /*
    812              PICTL &= ~(  HAL_KEY_JOY_MOVE_BIT ); 
    813              PICTL |= HAL_KEY_JOY_MOVE_BIT;
    814          
    815              P0IEN  |= HAL_KEY_SW_6_BIT;
    816              IEN1 |= BV(5);
    817              P0IFG = ~(HAL_KEY_SW_6_BIT);
    818          */
    819           // P0DIR &= ~0x01;
    820            
    821           // P0DIR |= 0x80;
    822            
    823           // P0IFG &= ~0x01;
    824            P1DIR |= 0x03; 
   \   000000   43FE03       ORL     0xfe,#0x3
    825           // P0_7 = 1;
    826            P1_1 = 0;
   \   000003   C291         CLR     0x90.1
    827            P1_0 = 0;
   \   000005   C290         CLR     0x90.0
    828            
    829            
    830              T3CTL &= ~0x10;             // Stop timer 3 (if it was running)
   \   000007   53CBEF       ANL     0xcb,#0xef
    831              T3CTL |= 0x04;              // Clear timer 3
   \   00000A   43CB04       ORL     0xcb,#0x4
    832              T3CTL |= 0x08;             // enable Timer 3 overflow interrupts
   \   00000D   43CB08       ORL     0xcb,#0x8
    833              T3CTL |= 0x00;              // Timer 3 mode = free-running mode,with overflowe interrupt
   \   000010   85CBCB       MOV     0xcb,0xcb
    834              T3CTL |= 224; //  Tick frequency/128
   \   000013   43CBE0       ORL     0xcb,#0xe0
    835              
    836          
    837              T3IE = 1;
   \   000016   D2BB         SETB    0xb8.3
    838              
    839          }
   \   000018   02....       LJMP    ?BRET
   \   00001B                REQUIRE P1DIR
   \   00001B                REQUIRE _A_P1
   \   00001B                REQUIRE T3CTL
   \   00001B                REQUIRE _A_IEN1
    840          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    841          void set_panid( uint16 u16NewPanid)
   \                     set_panid:
    842          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   85..82       MOV     DPL,?XSP + 0
   \   00000D   85..83       MOV     DPH,?XSP + 1
   \   000010   EA           MOV     A,R2
   \   000011   F0           MOVX    @DPTR,A
   \   000012   A3           INC     DPTR
   \   000013   EB           MOV     A,R3
   \   000014   12....       LCALL   ?Subroutine3 & 0xFFFF
    843            uint8 u8BackCode;
    844            _NIB.nwkPanId = u16NewPanid;
   \                     ??CrossCallReturnLabel_4:
   \   000017   E0           MOVX    A,@DPTR
   \   000018   F8           MOV     R0,A
   \   000019   A3           INC     DPTR
   \   00001A   E0           MOVX    A,@DPTR
   \   00001B   F9           MOV     R1,A
   \   00001C   90....       MOV     DPTR,#_NIB + 33
   \   00001F   E8           MOV     A,R0
   \   000020   F0           MOVX    @DPTR,A
   \   000021   A3           INC     DPTR
   \   000022   E9           MOV     A,R1
   \   000023   F0           MOVX    @DPTR,A
    845            macRadioSetPanID ( _NIB.nwkPanId);
   \   000024                ; Setup parameters for call to function macRadioSetPanID
   \   000024   90....       MOV     DPTR,#_NIB + 33
   \   000027   E0           MOVX    A,@DPTR
   \   000028   FA           MOV     R2,A
   \   000029   12....       LCALL   ??macRadioSetPanID?relay
    846            ZMacSetReq( ZMacPanId, (byte *)& _NIB.nwkPanId);
   \   00002C                ; Setup parameters for call to function ZMacSetReq
   \   00002C   7A..         MOV     R2,#(_NIB + 33) & 0xff
   \   00002E   7B..         MOV     R3,#((_NIB + 33) >> 8) & 0xff
   \   000030   7950         MOV     R1,#0x50
   \   000032   12....       LCALL   ??ZMacSetReq?relay
    847            
    848            u8BackCode = osal_nv_write(ZCD_NV_PANID, 0, 2, &u16NewPanid);
    849            if( u8BackCode == ZSUCCESS)
   \   000035                ; Setup parameters for call to function osal_nv_write
   \   000035   85..82       MOV     DPL,?XSP + 0
   \   000038   85..83       MOV     DPH,?XSP + 1
   \   00003B   8582..       MOV     ?V0 + 0,DPL
   \   00003E   8583..       MOV     ?V0 + 1,DPH
   \   000041   78..         MOV     R0,#?V0 + 0
   \   000043   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000046   75..02       MOV     ?V0 + 0,#0x2
   \   000049   75..00       MOV     ?V0 + 1,#0x0
   \   00004C   78..         MOV     R0,#?V0 + 0
   \   00004E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000051   7C00         MOV     R4,#0x0
   \   000053   7D00         MOV     R5,#0x0
   \   000055   7A83         MOV     R2,#-0x7d
   \   000057   12....       LCALL   ??Subroutine34_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_78:
   \   00005A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00005D   E9           MOV     A,R1
   \   00005E   7007         JNZ     ??set_panid_0
    850            {
    851              NLME_UpdateNV(0x01);
   \   000060                ; Setup parameters for call to function NLME_UpdateNV
   \   000060   7901         MOV     R1,#0x1
   \   000062   12....       LCALL   ??NLME_UpdateNV?relay
   \   000065   8007         SJMP    ??set_panid_1
    852          //    HAL_SYSTEM_RESET();
    853            }
    854            else
    855            {
    856              uprint("set_panid failed");
   \                     ??set_panid_0:
   \   000067                ; Setup parameters for call to function uprint
   \   000067   7A..         MOV     R2,#`?<Constant "set_panid failed">` & 0xff
   \   000069   7B..         MOV     R3,#(`?<Constant "set_panid failed">` >> 8) & 0xff
   \   00006B   12....       LCALL   ??uprint?relay
    857            }
    858            
    859          }
   \                     ??set_panid_1:
   \   00006E   7402         MOV     A,#0x2
   \   000070   02....       LJMP    ?Subroutine0 & 0xFFFF
    860          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    861          uint8 cb_ReadConfiguration( uint8 configId, uint8 len, void *pValue ) // it's just check the configId if existed,wont create one,unlikely osal_nv_item_init
   \                     cb_ReadConfiguration:
    862          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FF           MOV     R7,A
   \   000007   EA           MOV     A,R2
   \   000008   FE           MOV     R6,A
   \   000009   8C..         MOV     ?V0 + 0,R4
   \   00000B   8D..         MOV     ?V0 + 1,R5
    863            uint8 size;
    864          
    865            size = (uint8)osal_nv_item_len( configId );
   \   00000D                ; Setup parameters for call to function osal_nv_item_len
   \   00000D   8F..         MOV     ?V0 + 2,R7
   \   00000F   AA..         MOV     R2,?V0 + 2
   \   000011   7B00         MOV     R3,#0x0
   \   000013   12....       LCALL   ??osal_nv_item_len?relay
   \   000016   EA           MOV     A,R2
   \   000017   F9           MOV     R1,A
    866            if ( size > len )
   \   000018   EE           MOV     A,R6
   \   000019   C3           CLR     C
   \   00001A   99           SUBB    A,R1
   \   00001B   5004         JNC     ??cb_ReadConfiguration_0
    867            {
    868              return ZFailure;
   \   00001D   7901         MOV     R1,#0x1
   \   00001F   801F         SJMP    ??cb_ReadConfiguration_1
    869            }
    870            else
    871            {
    872              return( osal_nv_read(configId, 0, size, pValue) );
   \                     ??cb_ReadConfiguration_0:
   \   000021                ; Setup parameters for call to function osal_nv_read
   \   000021   78..         MOV     R0,#?V0 + 0
   \   000023   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000026   89..         MOV     ?V0 + 0,R1
   \   000028   75..00       MOV     ?V0 + 1,#0x0
   \   00002B   78..         MOV     R0,#?V0 + 0
   \   00002D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000030   7C00         MOV     R4,#0x0
   \   000032   7D00         MOV     R5,#0x0
   \   000034   8F..         MOV     ?V0 + 0,R7
   \   000036   AA..         MOV     R2,?V0 + 0
   \   000038   7B00         MOV     R3,#0x0
   \   00003A   12....       LCALL   ??Subroutine36_0 & 0xFFFF
    873            }
   \                     ??CrossCallReturnLabel_85:
   \   00003D   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??cb_ReadConfiguration_1:
   \   000040                REQUIRE ?Subroutine2
   \   000040                ; // Fall through to label ?Subroutine2
    874          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   7F04         MOV     R7,#0x4
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    875          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    876          uint8 cb_WriteConfiguration( uint8 configId, uint8 len, void *pValue )
   \                     cb_WriteConfiguration:
    877          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FF           MOV     R7,A
   \   000007   EA           MOV     A,R2
   \   000008   FE           MOV     R6,A
    878            return( osal_nv_write(configId, 0, len, pValue) );
   \   000009                ; Setup parameters for call to function osal_nv_write
   \   000009   8C..         MOV     ?V0 + 0,R4
   \   00000B   8D..         MOV     ?V0 + 1,R5
   \   00000D   78..         MOV     R0,#?V0 + 0
   \   00000F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000012   8E..         MOV     ?V0 + 0,R6
   \   000014   75..00       MOV     ?V0 + 1,#0x0
   \   000017   78..         MOV     R0,#?V0 + 0
   \   000019   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00001C   7C00         MOV     R4,#0x0
   \   00001E   7D00         MOV     R5,#0x0
   \   000020   8F..         MOV     ?V0 + 0,R7
   \   000022   AA..         MOV     R2,?V0 + 0
   \   000024   12....       LCALL   ??Subroutine34_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_79:
   \   000027                REQUIRE ?Subroutine0
   \   000027                ; // Fall through to label ?Subroutine0
    879          }
    880          
    881          
    882          /*********************************************************************
    883           * LOCAL FUNCTIONS
    884           */
    885          static void GenericApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg );
    886          static void GenericApp_HandleKeys( byte shift, byte keys );
    887          static void GenericApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
    888          static void GenericApp_SendTheMessage( afIncomingMSGPacket_t* );
    889          
    890          #if defined( IAR_ARMCM3_LM )
    891          static void GenericApp_ProcessRtosMessage( void );
    892          #endif
    893          
    894          /*********************************************************************
    895           * NETWORK LAYER CALLBACKS
    896           */
    897          
    898          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    899          void GenericApp_Init( uint8 task_id )
   \                     GenericApp_Init:
    900          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
    901            
    902          //  zclSE_Init( &GenericApp_SimpleDesc );
    903            uint16 size;
    904            
    905            
    906            GenericApp_TaskID = task_id;
   \   000006   90....       MOV     DPTR,#GenericApp_TaskID
   \   000009   F0           MOVX    @DPTR,A
    907            GenericApp_NwkState = DEV_INIT;
   \   00000A   90....       MOV     DPTR,#GenericApp_NwkState
   \   00000D   7401         MOV     A,#0x1
   \   00000F   F0           MOVX    @DPTR,A
    908            GenericApp_TransID = 0;
   \   000010   90....       MOV     DPTR,#GenericApp_TransID
   \   000013   E4           CLR     A
   \   000014   F0           MOVX    @DPTR,A
    909          
    910            // Device hardware initialization can be added here or in main() (Zmain.c).
    911            // If the hardware is application specific - add it here.
    912            // If the hardware is other parts of the device add it in main().
    913          
    914            GenericApp_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   000015   90....       MOV     DPTR,#GenericApp_DstAddr + 8
   \   000018   7402         MOV     A,#0x2
   \   00001A   F0           MOVX    @DPTR,A
    915            GenericApp_DstAddr.endPoint = GENERICAPP_ENDPOINT;
   \   00001B   A3           INC     DPTR
   \   00001C   7414         MOV     A,#0x14
   \   00001E   F0           MOVX    @DPTR,A
    916            GenericApp_DstAddr.addr.shortAddr = 0xFFFF;
   \   00001F   90....       MOV     DPTR,#GenericApp_DstAddr
   \   000022   74FF         MOV     A,#-0x1
   \   000024   F0           MOVX    @DPTR,A
   \   000025   A3           INC     DPTR
   \   000026   F0           MOVX    @DPTR,A
    917          
    918            // Fill out the endpoint description.
    919            GenericApp_epDesc.endPoint = GENERICAPP_ENDPOINT;
   \   000027   90....       MOV     DPTR,#GenericApp_epDesc
   \   00002A   7414         MOV     A,#0x14
   \   00002C   F0           MOVX    @DPTR,A
    920            GenericApp_epDesc.task_id = &GenericApp_TaskID;
   \   00002D   A3           INC     DPTR
   \   00002E   74..         MOV     A,#GenericApp_TaskID & 0xff
   \   000030   F0           MOVX    @DPTR,A
   \   000031   A3           INC     DPTR
   \   000032   74..         MOV     A,#(GenericApp_TaskID >> 8) & 0xff
   \   000034   F0           MOVX    @DPTR,A
    921            GenericApp_epDesc.simpleDesc
    922                      = (SimpleDescriptionFormat_t *)&GenericApp_SimpleDesc;
   \   000035   A3           INC     DPTR
   \   000036   74..         MOV     A,#GenericApp_SimpleDesc & 0xff
   \   000038   F0           MOVX    @DPTR,A
   \   000039   A3           INC     DPTR
   \   00003A   74..         MOV     A,#(GenericApp_SimpleDesc >> 8) & 0xff
   \   00003C   F0           MOVX    @DPTR,A
    923            GenericApp_epDesc.latencyReq = noLatencyReqs;
   \   00003D   A3           INC     DPTR
   \   00003E   E4           CLR     A
   \   00003F   F0           MOVX    @DPTR,A
    924          
    925            // Register the endpoint description with the AF
    926            afRegister( &GenericApp_epDesc );
   \   000040                ; Setup parameters for call to function afRegister
   \   000040   7A..         MOV     R2,#GenericApp_epDesc & 0xff
   \   000042   7B..         MOV     R3,#(GenericApp_epDesc >> 8) & 0xff
   \   000044   12....       LCALL   ??afRegister?relay
    927          
    928          
    929            RegisterForKeys( GenericApp_TaskID );
   \   000047                ; Setup parameters for call to function RegisterForKeys
   \   000047   90....       MOV     DPTR,#GenericApp_TaskID
   \   00004A   E0           MOVX    A,@DPTR
   \   00004B   F9           MOV     R1,A
   \   00004C   12....       LCALL   ??RegisterForKeys?relay
    930          
    931            // Update the display
    932          #if defined ( LCD_SUPPORTED )
    933            HalLcdWriteString( "GenericApp", HAL_LCD_LINE_1 );
   \   00004F                ; Setup parameters for call to function HalLcdWriteString
   \   00004F   7901         MOV     R1,#0x1
   \   000051   7A..         MOV     R2,#`?<Constant "GenericApp">` & 0xff
   \   000053   7B..         MOV     R3,#(`?<Constant "GenericApp">` >> 8) & 0xff
   \   000055   12....       LCALL   ??HalLcdWriteString?relay
    934          #endif
    935          
    936          #if !defined( ZDO_COORDINATOR )
    937            ZDO_RegisterForZDOMsg( GenericApp_TaskID, End_Device_Bind_rsp );
   \   000058                ; Setup parameters for call to function ZDO_RegisterForZDOMsg
   \   000058   7A20         MOV     R2,#0x20
   \   00005A   7B80         MOV     R3,#-0x80
   \   00005C   90....       MOV     DPTR,#GenericApp_TaskID
   \   00005F   E0           MOVX    A,@DPTR
   \   000060   F9           MOV     R1,A
   \   000061   12....       LCALL   ??ZDO_RegisterForZDOMsg?relay
    938            ZDO_RegisterForZDOMsg( GenericApp_TaskID, Match_Desc_rsp );
   \   000064                ; Setup parameters for call to function ZDO_RegisterForZDOMsg
   \   000064   7A06         MOV     R2,#0x6
   \   000066   7B80         MOV     R3,#-0x80
   \   000068   90....       MOV     DPTR,#GenericApp_TaskID
   \   00006B   E0           MOVX    A,@DPTR
   \   00006C   F9           MOV     R1,A
   \   00006D   12....       LCALL   ??ZDO_RegisterForZDOMsg?relay
    939            
    940          #endif
    941          
    942          
    943          #if defined( IAR_ARMCM3_LM )
    944          
    945            RTOS_RegisterApp( task_id, GENERICAPP_RTOS_MSG_EVT );
    946          #endif
    947            
    948          #if defined ( BUILD_ALL_DEVICES )
    949            size = osal_nv_item_len( ZCD_NV_LOGICAL_TYPE );
   \   000070                ; Setup parameters for call to function osal_nv_item_len
   \   000070   7A87         MOV     R2,#-0x79
   \   000072   7B00         MOV     R3,#0x0
   \   000074   12....       LCALL   ??osal_nv_item_len?relay
   \   000077   8A..         MOV     ?V0 + 0,R2
   \   000079   8B..         MOV     ?V0 + 1,R3
   \   00007B   A8..         MOV     R0,?V0 + 0
   \   00007D   A9..         MOV     R1,?V0 + 1
    950            if( size  <= sizeof(zgDeviceLogicalType) && size != 0 )
   \   00007F   C3           CLR     C
   \   000080   E8           MOV     A,R0
   \   000081   9402         SUBB    A,#0x2
   \   000083   E9           MOV     A,R1
   \   000084   9400         SUBB    A,#0x0
   \   000086   500F         JNC     ??GenericApp_Init_0
   \   000088   E8           MOV     A,R0
   \   000089   49           ORL     A,R1
   \   00008A   600B         JZ      ??GenericApp_Init_0
    951            {
    952              cb_ReadConfiguration( ZCD_NV_LOGICAL_TYPE, sizeof(zgDeviceLogicalType), &zgDeviceLogicalType);
   \   00008C                ; Setup parameters for call to function cb_ReadConfiguration
   \   00008C   7C..         MOV     R4,#zgDeviceLogicalType & 0xff
   \   00008E   7D..         MOV     R5,#(zgDeviceLogicalType >> 8) & 0xff
   \   000090   7A01         MOV     R2,#0x1
   \   000092   7987         MOV     R1,#-0x79
   \   000094   12....       LCALL   ??cb_ReadConfiguration?relay
    953            }
    954            
    955          #endif
    956          
    957          #if defined ( HOLD_AUTO_START )
    958              // HOLD_AUTO_START is a compile option that will surpress ZDApp
    959              //  from starting the device and wait for the application to
    960              //  start the device.
    961            
    962            if(zgDeviceLogicalType == ZG_DEVICETYPE_COORDINATOR)
   \                     ??GenericApp_Init_0:
   \   000097   90....       MOV     DPTR,#zgDeviceLogicalType
   \   00009A   E0           MOVX    A,@DPTR
   \   00009B   7007         JNZ     ??GenericApp_Init_1
    963              uprint("Coord0\n");
   \   00009D                ; Setup parameters for call to function uprint
   \   00009D   7A..         MOV     R2,#`?<Constant "Coord0\\n">` & 0xff
   \   00009F   7B..         MOV     R3,#(`?<Constant "Coord0\\n">` >> 8) & 0xff
   \   0000A1   12....       LCALL   ??uprint?relay
    964            if(zgDeviceLogicalType == ZG_DEVICETYPE_ROUTER)
   \                     ??GenericApp_Init_1:
   \   0000A4   90....       MOV     DPTR,#zgDeviceLogicalType
   \   0000A7   E0           MOVX    A,@DPTR
   \   0000A8   6401         XRL     A,#0x1
   \   0000AA   7007         JNZ     ??GenericApp_Init_2
    965              uprint("Router0\n");
   \   0000AC                ; Setup parameters for call to function uprint
   \   0000AC   7A..         MOV     R2,#`?<Constant "Router0\\n">` & 0xff
   \   0000AE   7B..         MOV     R3,#(`?<Constant "Router0\\n">` >> 8) & 0xff
   \   0000B0   12....       LCALL   ??uprint?relay
    966            
    967            ZDOInitDevice(0);
   \                     ??GenericApp_Init_2:
   \   0000B3                ; Setup parameters for call to function ZDOInitDevice
   \   0000B3   7A00         MOV     R2,#0x0
   \   0000B5   7B00         MOV     R3,#0x0
   \   0000B7   12....       LCALL   ??ZDOInitDevice?relay
    968            
    969            if(zgDeviceLogicalType == ZG_DEVICETYPE_COORDINATOR)
   \   0000BA   90....       MOV     DPTR,#zgDeviceLogicalType
   \   0000BD   E0           MOVX    A,@DPTR
   \   0000BE   7007         JNZ     ??GenericApp_Init_3
    970              uprint("Coord\n");
   \   0000C0                ; Setup parameters for call to function uprint
   \   0000C0   7A..         MOV     R2,#`?<Constant "Coord\\n">` & 0xff
   \   0000C2   7B..         MOV     R3,#(`?<Constant "Coord\\n">` >> 8) & 0xff
   \   0000C4   12....       LCALL   ??uprint?relay
    971            if(zgDeviceLogicalType == ZG_DEVICETYPE_ROUTER)
   \                     ??GenericApp_Init_3:
   \   0000C7   90....       MOV     DPTR,#zgDeviceLogicalType
   \   0000CA   E0           MOVX    A,@DPTR
   \   0000CB   6401         XRL     A,#0x1
   \   0000CD   7007         JNZ     ??GenericApp_Init_4
    972              uprint("Router\n");
   \   0000CF                ; Setup parameters for call to function uprint
   \   0000CF   7A..         MOV     R2,#`?<Constant "Router\\n">` & 0xff
   \   0000D1   7B..         MOV     R3,#(`?<Constant "Router\\n">` >> 8) & 0xff
   \   0000D3   12....       LCALL   ??uprint?relay
    973          
    974            
    975          #endif   
    976            
    977            io_init();
   \                     ??GenericApp_Init_4:
   \   0000D6                ; Setup parameters for call to function io_init
   \   0000D6   12....       LCALL   ??io_init?relay
    978            
    979            serial_init( );
   \   0000D9                ; Setup parameters for call to function serial_init
   \   0000D9   12....       LCALL   ??serial_init?relay
    980          
    981            
    982          //  HalLedSet( HAL_LED_2, HAL_LED_MODE_ON );
    983          //  HalLedSet( HAL_LED_1, HAL_LED_MODE_ON );
    984          //  NLME_PermitJoiningRequest(0xFE);
    985          
    986          
    987            
    988          }
   \   0000DC   02....       LJMP    ??Subroutine37_0 & 0xFFFF
    989          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    990          uint16 GenericApp_ProcessEvent( uint8 task_id, uint16 events )
   \                     GenericApp_ProcessEvent:
    991          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
    992            afIncomingMSGPacket_t *MSGpkt;
    993            afDataConfirm_t *afDataConfirm;
    994          
    995            // Data Confirmation message fields
    996            byte sentEP;
    997            ZStatus_t sentStatus;
    998            byte sentTransID;       // This should match the value sent
    999            (void)task_id;  // Intentionally unreferenced parameter
   1000          
   1001            if ( events & SYS_EVENT_MSG )
   \   000009   EB           MOV     A,R3
   \   00000A   5480         ANL     A,#0x80
   \   00000C   7003         JNZ     $+5
   \   00000E   02....       LJMP    ??GenericApp_ProcessEvent_0 & 0xFFFF
   1002            {
   1003              MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( GenericApp_TaskID );
   \   000011                ; Setup parameters for call to function osal_msg_receive
   \   000011   8013         SJMP    ??GenericApp_ProcessEvent_1
   1004              while ( MSGpkt )
   1005              {
   1006                switch ( MSGpkt->hdr.event )
   1007                {
   1008                  case ZDO_CB_MSG:
   1009                    GenericApp_ProcessZDOMsgs( (zdoIncomingMsg_t *)MSGpkt );
   1010                    break;
   1011          
   1012                  case KEY_CHANGE:
   1013                    {
   1014                     // HalLedSet ( HAL_LED_1, HAL_LED_MODE_BLINK );
   1015                     // UART_Send_String("KEY_CHANGE", 10);
   1016                      GenericApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
   1017                    }
   1018                    break;
   1019          
   1020                  case AF_DATA_CONFIRM_CMD:
   1021                    // This message is received as a confirmation of a data packet sent.
   1022                    // The status is of ZStatus_t type [defined in ZComDef.h]
   1023                    // The message fields are defined in AF.h
   1024                    afDataConfirm = (afDataConfirm_t *)MSGpkt;
   1025                    sentEP = afDataConfirm->endpoint;
   1026                    sentStatus = afDataConfirm->hdr.status;
   1027                    sentTransID = afDataConfirm->transID;
   1028                    (void)sentEP;
   1029                    (void)sentTransID;
   1030          
   1031                    // Action taken when confirmation is received.
   1032                    if ( sentStatus != ZSuccess )
   1033                    {
   1034                      // The data wasn't delivered -- Do something
   1035                      uprint("AF_DATA_CONFIRM_CMD ERR");
   1036                      
   1037                    }
   1038                    break;
   1039                            
   1040                  case AF_INCOMING_MSG_CMD:
   1041                    
   1042                    
   1043                    GenericApp_MessageMSGCB( MSGpkt );
   1044                    break;
   1045          
   1046                  case ZDO_STATE_CHANGE:
   1047                    GenericApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
   \                     ??GenericApp_ProcessEvent_2:
   \   000013   A3           INC     DPTR
   \   000014   E0           MOVX    A,@DPTR
   \   000015   90....       MOV     DPTR,#GenericApp_NwkState
   \   000018   F0           MOVX    @DPTR,A
   1048                    if ( (GenericApp_NwkState == DEV_ZB_COORD)
   1049                        || (GenericApp_NwkState == DEV_ROUTER)
   1050                        || (GenericApp_NwkState == DEV_END_DEVICE) )
   1051                    {
   1052          /*
   1053                      osal_start_timerEx( GenericApp_TaskID,
   1054                                          GENERICAPP_SEND_MSG_EVT,
   1055                                          GENERICAPP_SEND_MSG_TIMEOUT );
   1056          */
   1057                    }
   1058                    global_start = 1;
   \   000019   90....       MOV     DPTR,#global_start
   \   00001C   7401         MOV     A,#0x1
   \   00001E   F0           MOVX    @DPTR,A
   1059                    break;
   1060          
   1061                  default:
   1062                    break;
   1063                }
   1064          
   1065                // Release the memory
   1066                osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??GenericApp_ProcessEvent_3:
   \   00001F                ; Setup parameters for call to function osal_msg_deallocate
   \   00001F   EE           MOV     A,R6
   \   000020   FA           MOV     R2,A
   \   000021   EF           MOV     A,R7
   \   000022   FB           MOV     R3,A
   \   000023   12....       LCALL   ??osal_msg_deallocate?relay
   1067          
   1068                // Next
   1069                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( GenericApp_TaskID );
   \   000026                ; Setup parameters for call to function osal_msg_receive
   \                     ??GenericApp_ProcessEvent_1:
   \   000026   90....       MOV     DPTR,#GenericApp_TaskID
   \   000029   E0           MOVX    A,@DPTR
   \   00002A   F9           MOV     R1,A
   \   00002B   12....       LCALL   ??osal_msg_receive?relay
   \   00002E   8A..         MOV     ?V0 + 2,R2
   \   000030   8B..         MOV     ?V0 + 3,R3
   \   000032   AE..         MOV     R6,?V0 + 2
   \   000034   AF..         MOV     R7,?V0 + 3
   \   000036   EE           MOV     A,R6
   \   000037   4F           ORL     A,R7
   \   000038   7003         JNZ     $+5
   \   00003A   02....       LJMP    ??GenericApp_ProcessEvent_4 & 0xFFFF
   \   00003D   8E82         MOV     DPL,R6
   \   00003F   8F83         MOV     DPH,R7
   \   000041   E0           MOVX    A,@DPTR
   \   000042   24E6         ADD     A,#-0x1a
   \   000044   7003         JNZ     $+5
   \   000046   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
   \   000049   245A         ADD     A,#0x5a
   \   00004B   7003         JNZ     $+5
   \   00004D   02....       LJMP    ??GenericApp_ProcessEvent_6 & 0xFFFF
   \   000050   24EF         ADD     A,#-0x11
   \   000052   60BF         JZ      ??GenericApp_ProcessEvent_2
   \   000054   24FE         ADD     A,#-0x2
   \   000056   6009         JZ      ??GenericApp_ProcessEvent_7
   \   000058   24D6         ADD     A,#-0x2a
   \   00005A   7003         JNZ     $+5
   \   00005C   02....       LJMP    ??GenericApp_ProcessEvent_8 & 0xFFFF
   \   00005F   80BE         SJMP    ??GenericApp_ProcessEvent_3
   \                     ??GenericApp_ProcessEvent_7:
   \   000061   EE           MOV     A,R6
   \   000062   240C         ADD     A,#0xc
   \   000064   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_86:
   \   000067   F5..         MOV     ?V0 + 2,A
   \   000069   A3           INC     DPTR
   \   00006A   E0           MOVX    A,@DPTR
   \   00006B   F5..         MOV     ?V0 + 3,A
   \   00006D   78..         MOV     R0,#?V0 + 2
   \   00006F   12....       LCALL   ?US_SWITCH_SPARSE
   \                     `?<Jumptable for GenericApp_ProcessEvent>_0`:
   \   000072   0000         DW        0
   \   000074   0200         DW        2
   \   000076   0680         DW        32774
   \   000078   ....         DW        ??GenericApp_ProcessEvent_9
   \   00007A   2080         DW        32800
   \   00007C   ....         DW        ??GenericApp_ProcessEvent_10
   \   00007E   ....         DW        ??GenericApp_ProcessEvent_11
   \                     ??GenericApp_ProcessEvent_9:
   \   000080                ; Setup parameters for call to function uprint
   \   000080   7A..         MOV     R2,#`?<Constant "Match_Desc_rsp">` & 0xff
   \   000082   7B..         MOV     R3,#(`?<Constant "Match_Desc_rsp">` >> 8) & 0xff
   \   000084   12....       LCALL   ??uprint?relay
   \   000087                ; Setup parameters for call to function ZDO_ParseEPListRsp
   \   000087   EE           MOV     A,R6
   \   000088   FA           MOV     R2,A
   \   000089   EF           MOV     A,R7
   \   00008A   FB           MOV     R3,A
   \   00008B   12....       LCALL   ??ZDO_ParseEPListRsp?relay
   \   00008E   EA           MOV     A,R2
   \   00008F   4B           ORL     A,R3
   \   000090   608D         JZ      ??GenericApp_ProcessEvent_3
   \   000092   8A82         MOV     DPL,R2
   \   000094   8B83         MOV     DPH,R3
   \   000096   E0           MOVX    A,@DPTR
   \   000097   702B         JNZ     ??GenericApp_ProcessEvent_12
   \   000099   A3           INC     DPTR
   \   00009A   A3           INC     DPTR
   \   00009B   A3           INC     DPTR
   \   00009C   E0           MOVX    A,@DPTR
   \   00009D   6025         JZ      ??GenericApp_ProcessEvent_12
   \   00009F   90....       MOV     DPTR,#GenericApp_DstAddr + 8
   \   0000A2   7402         MOV     A,#0x2
   \   0000A4   F0           MOVX    @DPTR,A
   \   0000A5   8A82         MOV     DPL,R2
   \   0000A7   8B83         MOV     DPH,R3
   \   0000A9   A3           INC     DPTR
   \   0000AA   E0           MOVX    A,@DPTR
   \   0000AB   F8           MOV     R0,A
   \   0000AC   A3           INC     DPTR
   \   0000AD   E0           MOVX    A,@DPTR
   \   0000AE   F9           MOV     R1,A
   \   0000AF   90....       MOV     DPTR,#GenericApp_DstAddr
   \   0000B2   E8           MOV     A,R0
   \   0000B3   F0           MOVX    @DPTR,A
   \   0000B4   A3           INC     DPTR
   \   0000B5   E9           MOV     A,R1
   \   0000B6   F0           MOVX    @DPTR,A
   \   0000B7   8A82         MOV     DPL,R2
   \   0000B9   8B83         MOV     DPH,R3
   \   0000BB   A3           INC     DPTR
   \   0000BC   A3           INC     DPTR
   \   0000BD   A3           INC     DPTR
   \   0000BE   A3           INC     DPTR
   \   0000BF   E0           MOVX    A,@DPTR
   \   0000C0   90....       MOV     DPTR,#GenericApp_DstAddr + 9
   \   0000C3   F0           MOVX    @DPTR,A
   \                     ??GenericApp_ProcessEvent_12:
   \   0000C4                ; Setup parameters for call to function osal_mem_free
   \   0000C4   12....       LCALL   ??osal_mem_free?relay
   \   0000C7   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_10:
   \   0000CA                ; Setup parameters for call to function uprint
   \   0000CA   7A..         MOV     R2,#`?<Constant "End_Device_Bind_rsp">` & 0xff
   \   0000CC   7B..         MOV     R3,#(`?<Constant "End_Device_Bind_rsp">` >> 8) & 0xff
   \   0000CE   12....       LCALL   ??uprint?relay
   \   0000D1   EE           MOV     A,R6
   \   0000D2   2413         ADD     A,#0x13
   \   0000D4   12....       LCALL   ??Subroutine39_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_94:
   \   0000D7   6003         JZ      $+5
   \   0000D9   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   \   0000DC                ; Setup parameters for call to function HalLedSet
   \   0000DC   7A01         MOV     R2,#0x1
   \   0000DE   7902         MOV     R1,#0x2
   \   0000E0   12....       LCALL   ??HalLedSet?relay
   \   0000E3   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_11:
   \   0000E6                ; Setup parameters for call to function uprint
   \   0000E6   7A..         MOV     R2,#`?<Constant "GenericApp_ProcessZDO...">` & 0xff
   \   0000E8   7B..         MOV     R3,#(`?<Constant "GenericApp_ProcessZDO...">` >> 8) & 0xff
   \                     ??GenericApp_ProcessEvent_13:
   \   0000EA   12....       LCALL   ??uprint?relay
   \   0000ED   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_6:
   \   0000F0   A3           INC     DPTR
   \   0000F1   A3           INC     DPTR
   \   0000F2   A3           INC     DPTR
   \   0000F3   E0           MOVX    A,@DPTR
   \   0000F4   F5..         MOV     ?V0 + 2,A
   \   0000F6   A2E0         MOV     C,0xE0 /* A   */.0
   \   0000F8   5012         JNC     ??GenericApp_ProcessEvent_14
   \   0000FA                ; Setup parameters for call to function uprint
   \   0000FA   7A..         MOV     R2,#`?<Constant "key1">` & 0xff
   \   0000FC   7B..         MOV     R3,#(`?<Constant "key1">` >> 8) & 0xff
   \   0000FE   12....       LCALL   ??uprint?relay
   \   000101   90....       MOV     DPTR,#global_start
   \   000104   E0           MOVX    A,@DPTR
   \   000105   6401         XRL     A,#0x1
   \   000107   7003         JNZ     ??GenericApp_ProcessEvent_14
   \   000109   43CB10       ORL     0xcb,#0x10
   \                     ??GenericApp_ProcessEvent_14:
   \   00010C   E5..         MOV     A,?V0 + 2
   \   00010E   A2E1         MOV     C,0xE0 /* A   */.1
   \   000110   5007         JNC     ??GenericApp_ProcessEvent_15
   \   000112                ; Setup parameters for call to function uprint
   \   000112   7A..         MOV     R2,#`?<Constant "key2">` & 0xff
   \   000114   7B..         MOV     R3,#(`?<Constant "key2">` >> 8) & 0xff
   \   000116   12....       LCALL   ??uprint?relay
   \                     ??GenericApp_ProcessEvent_15:
   \   000119   E5..         MOV     A,?V0 + 2
   \   00011B   A2E4         MOV     C,0xE0 /* A   */.4
   \   00011D   5007         JNC     ??GenericApp_ProcessEvent_16
   \   00011F                ; Setup parameters for call to function uprint
   \   00011F   7A..         MOV     R2,#`?<Constant "key3">` & 0xff
   \   000121   7B..         MOV     R3,#(`?<Constant "key3">` >> 8) & 0xff
   \   000123   12....       LCALL   ??uprint?relay
   \                     ??GenericApp_ProcessEvent_16:
   \   000126   E5..         MOV     A,?V0 + 2
   \   000128   A2E3         MOV     C,0xE0 /* A   */.3
   \   00012A   5007         JNC     ??GenericApp_ProcessEvent_17
   \   00012C                ; Setup parameters for call to function uprint
   \   00012C   7A..         MOV     R2,#`?<Constant "key4">` & 0xff
   \   00012E   7B..         MOV     R3,#(`?<Constant "key4">` >> 8) & 0xff
   \   000130   12....       LCALL   ??uprint?relay
   \                     ??GenericApp_ProcessEvent_17:
   \   000133   E5..         MOV     A,?V0 + 2
   \   000135   A2E2         MOV     C,0xE0 /* A   */.2
   \   000137   5007         JNC     ??GenericApp_ProcessEvent_18
   \   000139                ; Setup parameters for call to function uprint
   \   000139   7A..         MOV     R2,#`?<Constant "key5">` & 0xff
   \   00013B   7B..         MOV     R3,#(`?<Constant "key5">` >> 8) & 0xff
   \   00013D   12....       LCALL   ??uprint?relay
   \                     ??GenericApp_ProcessEvent_18:
   \   000140   E5..         MOV     A,?V0 + 2
   \   000142   A2E6         MOV     C,0xE0 /* A   */.6
   \   000144   4003         JC      $+5
   \   000146   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   \   000149                ; Setup parameters for call to function uprint
   \   000149   7A..         MOV     R2,#`?<Constant "key7">` & 0xff
   \   00014B   7B..         MOV     R3,#(`?<Constant "key7">` >> 8) & 0xff
   \   00014D   809B         SJMP    ??GenericApp_ProcessEvent_13
   \                     ??GenericApp_ProcessEvent_8:
   \   00014F   A3           INC     DPTR
   \   000150   E0           MOVX    A,@DPTR
   \   000151   7003         JNZ     $+5
   \   000153   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   \   000156                ; Setup parameters for call to function uprint
   \   000156   7A..         MOV     R2,#`?<Constant "AF_DATA_CONFIRM_CMD ERR">` & 0xff
   \   000158   7B..         MOV     R3,#(`?<Constant "AF_DATA_CONFIRM_CMD ERR">` >> 8) & 0xff
   \   00015A   808E         SJMP    ??GenericApp_ProcessEvent_13
   \                     ??GenericApp_ProcessEvent_5:
   \   00015C                ; Setup parameters for call to function GenericApp_MessageMSGCB
   \   00015C   EE           MOV     A,R6
   \   00015D   FA           MOV     R2,A
   \   00015E   EF           MOV     A,R7
   \   00015F   FB           MOV     R3,A
   \   000160   12....       LCALL   ??GenericApp_MessageMSGCB?relay
   \   000163   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   1070              }
   1071          
   1072              // return unprocessed events
   1073              return (events ^ SYS_EVENT_MSG);
   \                     ??GenericApp_ProcessEvent_4:
   \   000166   AA..         MOV     R2,?V0 + 0
   \   000168   E5..         MOV     A,?V0 + 1
   \   00016A   6480         XRL     A,#0x80
   \   00016C   FB           MOV     R3,A
   \   00016D   8004         SJMP    ??GenericApp_ProcessEvent_19
   1074            }
   1075          
   1076            // Send a message out - This event is generated by a timer
   1077            //  (setup in GenericApp_Init()).
   1078          
   1079          
   1080            
   1081          #if defined( IAR_ARMCM3_LM )
   1082            // Receive a message from the RTOS queue
   1083            if ( events & GENERICAPP_RTOS_MSG_EVT )
   1084            {
   1085              // Process message from RTOS queue
   1086              GenericApp_ProcessRtosMessage();
   1087          
   1088              // return unprocessed events
   1089              return (events ^ GENERICAPP_RTOS_MSG_EVT);
   1090            }
   1091          #endif
   1092          
   1093            // Discard unknown events
   1094            return 0;
   \                     ??GenericApp_ProcessEvent_0:
   \   00016F   7A00         MOV     R2,#0x0
   \   000171   7B00         MOV     R3,#0x0
   \                     ??GenericApp_ProcessEvent_19:
   \   000173   02....       LJMP    ?Subroutine2 & 0xFFFF
   \   000176                REQUIRE T3CTL
   1095          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine38_0:
   \   000000   F582         MOV     DPL,A
   \   000002   EF           MOV     A,R7
   \   000003   3400         ADDC    A,#0x0
   \   000005   F583         MOV     DPH,A
   \   000007   E0           MOVX    A,@DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine39_0:
   \   000000   F582         MOV     DPL,A
   \   000002   EF           MOV     A,R7
   \   000003   3400         ADDC    A,#0x0
   \   000005   F583         MOV     DPH,A
   \   000007   E0           MOVX    A,@DPTR
   \   000008   F8           MOV     R0,A
   \   000009   A3           INC     DPTR
   \   00000A   E0           MOVX    A,@DPTR
   \   00000B   F583         MOV     DPH,A
   \   00000D   8882         MOV     DPL,R0
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   22           RET
   1096          
   1097          
   1098          static void GenericApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg )
   1099          {
   1100            
   1101            
   1102            switch ( inMsg->clusterID )
   1103            {
   1104              case End_Device_Bind_rsp:
   1105                uprint("End_Device_Bind_rsp");
   1106                if ( ZDO_ParseBindRsp( inMsg ) == ZSuccess )
   1107                {
   1108                  // Light LED
   1109                  HalLedSet( HAL_LED_2, HAL_LED_MODE_ON );
   1110                }
   1111          #if defined( BLINK_LEDS )
   1112                else
   1113                {
   1114                  // Flash LED to show failure
   1115                  //HalLedSet ( HAL_LED_1, HAL_LED_MODE_FLASH );
   1116                }
   1117          #endif
   1118                break;
   1119          
   1120              case Match_Desc_rsp:
   1121                {
   1122                  uprint("Match_Desc_rsp");
   1123                  
   1124                  ZDO_ActiveEndpointRsp_t *pRsp = ZDO_ParseEPListRsp( inMsg );
   1125                  if ( pRsp )
   1126                  {
   1127                    if ( pRsp->status == ZSuccess && pRsp->cnt )
   1128                    {
   1129                      GenericApp_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   1130                      GenericApp_DstAddr.addr.shortAddr = pRsp->nwkAddr;
   1131                      // Take the first endpoint, Can be changed to search through endpoints
   1132                      GenericApp_DstAddr.endPoint = pRsp->epList[0];
   1133          
   1134                      // Light LED
   1135                      //HalLedSet( HAL_LED_1, HAL_LED_MODE_ON );
   1136                    }
   1137                    osal_mem_free( pRsp );
   1138                  }
   1139                }
   1140                break;
   1141            default:
   1142                uprint("GenericApp_ProcessZDOMsgs");
   1143                break;
   1144            }
   1145          }
   1146          
   1147          /*********************************************************************
   1148           * @fn      GenericApp_HandleKeys
   1149           *
   1150           * @brief   Handles all key events for this device.
   1151           *
   1152           * @param   shift - true if in shift/alt.
   1153           * @param   keys - bit field for key events. Valid entries:
   1154           *                 HAL_KEY_SW_4
   1155           *                 HAL_KEY_SW_3
   1156           *                 HAL_KEY_SW_2
   1157           *                 HAL_KEY_SW_1
   1158           *
   1159           * @return  none
   1160           */
   1161          static void GenericApp_HandleKeys( uint8 shift, uint8 keys )
   1162          {
   1163          
   1164          
   1165            // Shift is used to make each button/switch dual purpose.
   1166            ///UART_Send_String( (byte*)keys, 1);
   1167          
   1168              if ( keys & HAL_KEY_SW_1 )
   1169              {
   1170                 uprint("key1");
   1171                 if(global_start == 1)
   1172                 {
   1173                    T3CTL |= 0x10;
   1174                 }
   1175              }
   1176              if ( keys & HAL_KEY_SW_2 )
   1177              {
   1178                uprint("key2");
   1179              }
   1180              if ( keys & HAL_KEY_SW_3 )
   1181              {
   1182                uprint("key3");
   1183              }
   1184              if ( keys & HAL_KEY_SW_4 )
   1185              {
   1186                uprint("key4");
   1187              }
   1188              
   1189              if ( keys & HAL_KEY_SW_5 )
   1190              {
   1191                uprint("key5");
   1192              }
   1193          
   1194              /*
   1195              if ( keys & HAL_KEY_SW_6 )
   1196              {
   1197                uprint("key6");
   1198              }
   1199              */
   1200              if ( keys & HAL_KEY_SW_7 )
   1201              {
   1202                uprint("key7");
   1203              }
   1204             
   1205          /*  
   1206            if ( shift )
   1207            {
   1208           
   1209              if ( keys & HAL_KEY_SW_1 )
   1210              {
   1211                 uprint("key1");
   1212              }
   1213              if ( keys & HAL_KEY_SW_2 )
   1214              {
   1215                uprint("key2");
   1216              }
   1217              if ( keys & HAL_KEY_SW_3 )
   1218              {
   1219                uprint("key3");
   1220              }
   1221              if ( keys & HAL_KEY_SW_4 )
   1222              {
   1223                uprint("key4");
   1224              }
   1225              
   1226              if ( keys & HAL_KEY_SW_5 )
   1227              {
   1228                uprint("key5");
   1229              }
   1230          
   1231              if ( keys & HAL_KEY_SW_6 )
   1232             {
   1233                uprint("key6");
   1234             }
   1235             if ( keys & HAL_KEY_SW_7 )
   1236             {
   1237                uprint("key7");
   1238             }
   1239            }
   1240            else
   1241            {
   1242          
   1243              if ( keys & HAL_KEY_SW_2 )
   1244              {
   1245                uprint("key2 no s");
   1246                HalLedSet ( HAL_LED_1, HAL_LED_MODE_OFF );
   1247          
   1248                // Initiate an End Device Bind Request for the mandatory endpoint
   1249                dstAddr.addrMode = Addr16Bit;
   1250                dstAddr.addr.shortAddr = 0x0000; // Coordinator
   1251                ZDP_EndDeviceBindReq( &dstAddr, NLME_GetShortAddr(),
   1252                                      GenericApp_epDesc.endPoint,
   1253                                      GENERICAPP_PROFID,
   1254                                      GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
   1255                                      GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
   1256                                      FALSE );
   1257              }
   1258          
   1259              if ( keys & HAL_KEY_SW_1 )
   1260              {
   1261                uprint("key1 no s");
   1262              }
   1263              
   1264              if ( keys & HAL_KEY_SW_4 )
   1265             {
   1266                uprint("key4 no s");
   1267                HalLedSet ( HAL_LED_1, HAL_LED_MODE_OFF );
   1268                // Initiate a Match Description Request (Service Discovery)
   1269                dstAddr.addrMode = AddrBroadcast;
   1270                dstAddr.addr.shortAddr = NWK_BROADCAST_SHORTADDR;
   1271                ZDP_MatchDescReq( &dstAddr, NWK_BROADCAST_SHORTADDR,
   1272                                  GENERICAPP_PROFID,
   1273                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
   1274                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
   1275                                  FALSE );
   1276              }
   1277              
   1278              if ( keys & HAL_KEY_SW_6 )
   1279              {
   1280                uprint("key6 no s");
   1281                AF_DataRequest( &GenericApp_DstAddr, &GenericApp_epDesc,
   1282                                 GENERICAPP_CLUSTERID,
   1283                                 6,
   1284                                 "hello6",
   1285                                 &GenericApp_TransID,
   1286                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS );         
   1287              }   
   1288          
   1289              if ( keys & HAL_KEY_SW_7 )
   1290              {
   1291                uprint("key7 no s");    
   1292              }
   1293            }
   1294          */
   1295            /*
   1296                HalLedSet ( HAL_LED_1, HAL_LED_MODE_FLASH );
   1297          
   1298                dstAddr.addrMode = AddrBroadcast;
   1299                dstAddr.addr.shortAddr = NWK_BROADCAST_SHORTADDR;
   1300                ZDP_MatchDescReq( &dstAddr, NWK_BROADCAST_SHORTADDR,
   1301                                  GENERICAPP_PROFID,
   1302                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
   1303                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
   1304                                  FALSE );
   1305              */  
   1306          
   1307          }
   1308          
   1309          /*********************************************************************
   1310           * LOCAL FUNCTIONS
   1311           */
   1312          
   1313          /*********************************************************************
   1314           * @fn      GenericApp_MessageMSGCB
   1315           *
   1316           * @brief   Data message processor callback.  This function processes
   1317           *          any incoming data - probably from other devices.  So, based
   1318           *          on cluster ID, perform the intended action.
   1319           *
   1320           * @param   none
   1321           *
   1322           * @return  none
   1323           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1324          static void GenericApp_MessageMSGCB( afIncomingMSGPacket_t *pkt )
   \                     GenericApp_MessageMSGCB:
   1325          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 24
   \   000005   74E8         MOV     A,#-0x18
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
   1326            unsigned char buff[12];
   1327          
   1328            byte nr;
   1329            uint8 i;
   1330            uint8 ass_num;
   1331            uint8*u8p;
   1332            
   1333            uint8 yy1;
   1334            
   1335            
   1336            afAddrType_t myaddr; // use for p2p
   1337            
   1338            ass_num = 0;
   1339            
   1340            switch ( pkt->clusterId )
   \   00000E   8E82         MOV     DPL,R6
   \   000010   8F83         MOV     DPH,R7
   \   000012   A3           INC     DPTR
   \   000013   A3           INC     DPTR
   \   000014   A3           INC     DPTR
   \   000015   A3           INC     DPTR
   \   000016   E0           MOVX    A,@DPTR
   \   000017   6401         XRL     A,#0x1
   \   000019   7002         JNZ     ??GenericApp_MessageMSGCB_0
   \   00001B   A3           INC     DPTR
   \   00001C   E0           MOVX    A,@DPTR
   \                     ??GenericApp_MessageMSGCB_0:
   \   00001D   6003         JZ      $+5
   \   00001F   02....       LJMP    ??GenericApp_MessageMSGCB_1 & 0xFFFF
   1341            {
   1342              case GENERICAPP_CLUSTERID:
   1343              if( pkt->cmd.DataLength == 1)
   \   000022   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_90:
   \   000025   6401         XRL     A,#0x1
   \   000027   7002         JNZ     ??GenericApp_MessageMSGCB_2
   \   000029   A3           INC     DPTR
   \   00002A   E0           MOVX    A,@DPTR
   \                     ??GenericApp_MessageMSGCB_2:
   \   00002B   6003         JZ      $+5
   \   00002D   02....       LJMP    ??GenericApp_MessageMSGCB_3 & 0xFFFF
   1344              {      
   1345                  yy1 = 1;
   \   000030   75..01       MOV     ?V0 + 0,#0x1
   1346                  if(pkt->cmd.Data[0] == 0x01) /// GET short address 
   \   000033   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_95:
   \   000036   6401         XRL     A,#0x1
   \   000038   702A         JNZ     ??CrossCallReturnLabel_31
   1347                  {
   1348                    buff[0] = 0x02;
   \   00003A   85..82       MOV     DPL,?XSP + 0
   \   00003D   85..83       MOV     DPH,?XSP + 1
   \   000040   7402         MOV     A,#0x2
   \   000042   F0           MOVX    @DPTR,A
   1349                    buff[1] = LO_UINT16(_NIB.nwkDevAddress);
   \   000043   90....       MOV     DPTR,#_NIB + 20
   \   000046   E0           MOVX    A,@DPTR
   \   000047   C0E0         PUSH    A
   \   000049   7401         MOV     A,#0x1
   \   00004B   12....       LCALL   ?XSTACK_DISP0_8
   \   00004E   D0E0         POP     A
   \   000050   F0           MOVX    @DPTR,A
   1350                    buff[2] = HI_UINT16(_NIB.nwkDevAddress);
   \   000051   90....       MOV     DPTR,#_NIB + 21
   \   000054   E0           MOVX    A,@DPTR
   \   000055   C0E0         PUSH    A
   \   000057   7402         MOV     A,#0x2
   \   000059   12....       LCALL   ?XSTACK_DISP0_8
   \   00005C   D0E0         POP     A
   \   00005E   F0           MOVX    @DPTR,A
   1351                    SendData( pkt->srcAddr.addr.shortAddr, buff, 3);
   \   00005F                ; Setup parameters for call to function SendData
   \   00005F   7903         MOV     R1,#0x3
   \   000061   12....       LCALL   ?Subroutine15 & 0xFFFF
   1352                  }
   1353          #if !defined( ZDO_COORDINATOR ) 
   1354                  if(pkt->cmd.Data[0] == 0x03)
   \                     ??CrossCallReturnLabel_31:
   \   000064   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_96:
   \   000067   6403         XRL     A,#0x3
   \   000069   6003         JZ      $+5
   \   00006B   02....       LJMP    ??GenericApp_MessageMSGCB_4 & 0xFFFF
   1355                  {
   1356                    /// return mac address : ac xx xx ieee addr
   1357                         myaddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00006E   7414         MOV     A,#0x14
   \   000070   12....       LCALL   ?XSTACK_DISP0_8
   \   000073   7402         MOV     A,#0x2
   \   000075   F0           MOVX    @DPTR,A
   1358                         myaddr.endPoint = GENERICAPP_ENDPOINT;          
   \   000076   7415         MOV     A,#0x15
   \   000078   12....       LCALL   ?XSTACK_DISP0_8
   \   00007B   7414         MOV     A,#0x14
   \   00007D   F0           MOVX    @DPTR,A
   1359                         myaddr.addr.shortAddr = 0x0000;
   \   00007E   740C         MOV     A,#0xc
   \   000080   12....       LCALL   ?XSTACK_DISP0_8
   \   000083   E4           CLR     A
   \   000084   F0           MOVX    @DPTR,A
   \   000085   A3           INC     DPTR
   \   000086   F0           MOVX    @DPTR,A
   1360                         
   1361                      ieeeAddr = NLME_GetExtAddr();
   \   000087                ; Setup parameters for call to function NLME_GetExtAddr
   \   000087   12....       LCALL   ?Subroutine18 & 0xFFFF
   1362                      osal_cpyExtAddr(buff+3, ieeeAddr);
   \                     ??CrossCallReturnLabel_34:
   \   00008A                ; Setup parameters for call to function sAddrExtCpy
   \   00008A   90....       MOV     DPTR,#ieeeAddr
   \   00008D   E0           MOVX    A,@DPTR
   \   00008E   FC           MOV     R4,A
   \   00008F   A3           INC     DPTR
   \   000090   E0           MOVX    A,@DPTR
   \   000091   FD           MOV     R5,A
   \   000092   7403         MOV     A,#0x3
   \   000094   12....       LCALL   ?XSTACK_DISP0_8
   \   000097   AA82         MOV     R2,DPL
   \   000099   AB83         MOV     R3,DPH
   \   00009B   12....       LCALL   ??sAddrExtCpy?relay
   1363                      buff[0] = 0x04;
   \   00009E   85..82       MOV     DPL,?XSP + 0
   \   0000A1   85..83       MOV     DPH,?XSP + 1
   \   0000A4   7404         MOV     A,#0x4
   \   0000A6   F0           MOVX    @DPTR,A
   1364                      buff[1] = LO_UINT16(_NIB.nwkDevAddress);
   \   0000A7   90....       MOV     DPTR,#_NIB + 20
   \   0000AA   E0           MOVX    A,@DPTR
   \   0000AB   C0E0         PUSH    A
   \   0000AD   7401         MOV     A,#0x1
   \   0000AF   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B2   D0E0         POP     A
   \   0000B4   F0           MOVX    @DPTR,A
   1365                      buff[2] = HI_UINT16(_NIB.nwkDevAddress);
   \   0000B5   90....       MOV     DPTR,#_NIB + 21
   \   0000B8   E0           MOVX    A,@DPTR
   \   0000B9   C0E0         PUSH    A
   \   0000BB   7402         MOV     A,#0x2
   \   0000BD   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C0   D0E0         POP     A
   \   0000C2   F0           MOVX    @DPTR,A
   1366                      AF_DataRequest( &myaddr, &GenericApp_epDesc, GENERICAPP_CLUSTERID,  11,
   1367                                    &buff[0],
   1368                                    &GenericApp_TransID,
   1369                                    AF_DISCV_ROUTE, AF_DEFAULT_RADIUS );
   \   0000C3                ; Setup parameters for call to function AF_DataRequest
   \   0000C3   75..1E       MOV     ?V0 + 1,#0x1e
   \   0000C6   78..         MOV     R0,#?V0 + 1
   \   0000C8   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000CB   75....       MOV     ?V0 + 2,#GenericApp_TransID & 0xff
   \   0000CE   75....       MOV     ?V0 + 3,#(GenericApp_TransID >> 8) & 0xff
   \   0000D1   78..         MOV     R0,#?V0 + 2
   \   0000D3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000D6   7403         MOV     A,#0x3
   \   0000D8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DB   8582..       MOV     ?V0 + 2,DPL
   \   0000DE   8583..       MOV     ?V0 + 3,DPH
   \   0000E1   78..         MOV     R0,#?V0 + 2
   \   0000E3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000E6   75..0B       MOV     ?V0 + 2,#0xb
   \   0000E9   75..00       MOV     ?V0 + 3,#0x0
   \   0000EC   78..         MOV     R0,#?V0 + 2
   \   0000EE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F1   75..01       MOV     ?V0 + 2,#0x1
   \   0000F4   78..         MOV     R0,#?V0 + 2
   \   0000F6   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F9   7920         MOV     R1,#0x20
   \   0000FB   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   0000FD   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   0000FF   7415         MOV     A,#0x15
   \   000101   12....       LCALL   ?XSTACK_DISP0_8
   \   000104   AA82         MOV     R2,DPL
   \   000106   AB83         MOV     R3,DPH
   \   000108   12....       LCALL   ??AF_DataRequest?relay
   \   00010B   7409         MOV     A,#0x9
   \   00010D   12....       LCALL   ?DEALLOC_XSTACK8
   1370                           
   1371                      
   1372                  }
   1373                  // only routers return devlist
   1374                  if( pkt->cmd.Data[0] == 0xCA )
   \                     ??GenericApp_MessageMSGCB_4:
   \   000110   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_97:
   \   000113   64CA         XRL     A,#0xca
   \   000115   6003         JZ      $+5
   \   000117   02....       LJMP    ??GenericApp_MessageMSGCB_3 & 0xFFFF
   1375                  {
   1376                         myaddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00011A   7414         MOV     A,#0x14
   \   00011C   12....       LCALL   ?XSTACK_DISP0_8
   \   00011F   7402         MOV     A,#0x2
   \   000121   F0           MOVX    @DPTR,A
   1377                         myaddr.endPoint = GENERICAPP_ENDPOINT;          
   \   000122   7415         MOV     A,#0x15
   \   000124   12....       LCALL   ?XSTACK_DISP0_8
   \   000127   7414         MOV     A,#0x14
   \   000129   F0           MOVX    @DPTR,A
   1378                         myaddr.addr.shortAddr = 0x0000;
   \   00012A   740C         MOV     A,#0xc
   \   00012C   12....       LCALL   ?XSTACK_DISP0_8
   \   00012F   E4           CLR     A
   \   000130   F0           MOVX    @DPTR,A
   \   000131   A3           INC     DPTR
   \   000132   F0           MOVX    @DPTR,A
   1379                    
   1380                  ass_num = AssocCount(0, 4);
   \   000133                ; Setup parameters for call to function AssocCount
   \   000133   7A04         MOV     R2,#0x4
   \   000135   F9           MOV     R1,A
   \   000136   12....       LCALL   ??AssocCount?relay
   \   000139   EA           MOV     A,R2
   \   00013A   FD           MOV     R5,A
   1381                //  if( ass_num > 0)
   1382                  //{
   1383                    for(i=0;i< NWK_MAX_DEVICES; i++)
   \   00013B   7C00         MOV     R4,#0x0
   1384                    {
   1385                       nr = AssociatedDevList[ i ].nodeRelation;
   1386                        if(nr > 0 && nr < 5) //CHILD_RFD CHILD_RFD_RX_IDLE CHILD_FFD CHILD_FFD_RX_IDLE
   \                     ??GenericApp_MessageMSGCB_5:
   \   00013D   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_57:
   \   000140   14           DEC     A
   \   000141   C3           CLR     C
   \   000142   9404         SUBB    A,#0x4
   \   000144   5011         JNC     ??GenericApp_MessageMSGCB_6
   1387                       //if( nr != 0XFF)
   1388                       {
   1389                       //  if( AssociatedDevList[ i ].shortAddr != 0x0000)
   1390                       //  {
   1391                            //if( AssocIsChild( AssociatedDevList[ i ].shortAddr ) != 1 || AssociatedDevList[ i ].age > NWK_ROUTE_AGE_LIMIT)
   1392                            //if( AssocIsChild( AssociatedDevList[ i ].shortAddr ) == 1 && AssociatedDevList[ i ].age > NWK_ROUTE_AGE_LIMIT )
   1393                           // {
   1394                              //  myaddr.addr.shortAddr = AssociatedDevList[ i ].shortAddr;
   1395                                /*
   1396                                if ( AF_DataRequest( &myaddr, &GenericApp_epDesc, GENERICAPP_CLUSTERID,(byte)osal_strlen( theMessageData ) + 1,
   1397                                        (byte *)&theMessageData,
   1398                                        &GenericApp_TransID,
   1399                                        AF_ACK_REQUEST, AF_DEFAULT_RADIUS ) != afStatus_SUCCESS )
   1400                                  {
   1401                                    uprint("delete asso");
   1402                                  */
   1403                             //       delete_asso( AssociatedDevList[ i ]. addrIdx);
   1404                                    
   1405                            // }
   1406                              //    else
   1407                               //   {
   1408                                    devlist[yy1] = AssociatedDevList[ i ].shortAddr;
   \   000146   12....       LCALL   ?Subroutine23 & 0xFFFF
   \                     ??CrossCallReturnLabel_47:
   \   000149   E5..         MOV     A,?V0 + 0
   \   00014B   12....       LCALL   ?Subroutine24 & 0xFFFF
   1409                                    yy1++;
   \                     ??CrossCallReturnLabel_49:
   \   00014E   05..         INC     ?V0 + 0
   1410                               //   }
   1411                            
   1412                            // }
   1413                       }
   1414                        else { break; }
   1415                    }
   \   000150   0C           INC     R4
   \   000151   EC           MOV     A,R4
   \   000152   C3           CLR     C
   \   000153   9415         SUBB    A,#0x15
   \   000155   40E6         JC      ??GenericApp_MessageMSGCB_5
   1416                 // }else
   1417                  //{
   1418                    //devlist[yy1] = 0;
   1419                  //}
   1420                    devlist[0] = BUILD_UINT16(0xce,  ass_num );
   \                     ??GenericApp_MessageMSGCB_6:
   \   000157   ED           MOV     A,R5
   \   000158   F9           MOV     R1,A
   \   000159   90....       MOV     DPTR,#devlist
   \   00015C   74CE         MOV     A,#-0x32
   \   00015E   F0           MOVX    @DPTR,A
   \   00015F   A3           INC     DPTR
   \   000160   E9           MOV     A,R1
   \   000161   F0           MOVX    @DPTR,A
   1421                    if ( AF_DataRequest( &myaddr, &GenericApp_epDesc, GENERICAPP_CLUSTERID, yy1*2,
   1422                                    (byte *)&devlist,
   1423                                    &GenericApp_TransID,
   1424                                    AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) != afStatus_SUCCESS )
   \   000162                ; Setup parameters for call to function AF_DataRequest
   \   000162   75..1E       MOV     ?V0 + 1,#0x1e
   \   000165   78..         MOV     R0,#?V0 + 1
   \   000167   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00016A   75....       MOV     ?V0 + 2,#GenericApp_TransID & 0xff
   \   00016D   75....       MOV     ?V0 + 3,#(GenericApp_TransID >> 8) & 0xff
   \   000170   78..         MOV     R0,#?V0 + 2
   \   000172   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000175   75....       MOV     ?V0 + 2,#devlist & 0xff
   \   000178   75....       MOV     ?V0 + 3,#(devlist >> 8) & 0xff
   \   00017B   78..         MOV     R0,#?V0 + 2
   \   00017D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000180   75..00       MOV     ?V0 + 1,#0x0
   \   000183   7401         MOV     A,#0x1
   \   000185   78..         MOV     R0,#?V0 + 0
   \   000187   12....       LCALL   ?S_SHL
   \   00018A   78..         MOV     R0,#?V0 + 0
   \   00018C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00018F   75..01       MOV     ?V0 + 0,#0x1
   \   000192   75..00       MOV     ?V0 + 1,#0x0
   \   000195   78..         MOV     R0,#?V0 + 0
   \   000197   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00019A   7920         MOV     R1,#0x20
   \   00019C   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   00019E   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   0001A0   7415         MOV     A,#0x15
   \   0001A2   12....       LCALL   ?XSTACK_DISP0_8
   \   0001A5   AA82         MOV     R2,DPL
   \   0001A7   AB83         MOV     R3,DPH
   \   0001A9   12....       LCALL   ??AF_DataRequest?relay
   \   0001AC   7409         MOV     A,#0x9
   \   0001AE   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001B1   E9           MOV     A,R1
   \   0001B2   6007         JZ      ??GenericApp_MessageMSGCB_3
   1425                    {
   1426                        uprint("send failed");
   \   0001B4                ; Setup parameters for call to function uprint
   \   0001B4   7A..         MOV     R2,#`?<Constant "send failed">` & 0xff
   \   0001B6   7B..         MOV     R3,#(`?<Constant "send failed">` >> 8) & 0xff
   \   0001B8   12....       LCALL   ??uprint?relay
   1427                    }
   1428                  
   1429                    
   1430                    //cb_SendDataRequest( 0x0000, GENERICAPP_CLUSTERID, yy1*2+1, (uint8*)&devlist[0], 0, AF_DISCV_ROUTE, 0 );
   1431                    
   1432                    //UART_Send_String( (uint8*)&devlist[0], yy1*2);
   1433                    
   1434                      //p1 = AssocMakeList( &cnt );
   1435                      //UART_Send_String( (uint8*)p1,  AssocCount(1, 4)*2);
   1436                      //osal_mem_free(p1);
   1437                  }
   1438          #endif  
   1439                  
   1440              } //if( pkt->cmd.DataLength == 1)
   1441              
   1442              if( pkt->cmd.DataLength == 3)
   \                     ??GenericApp_MessageMSGCB_3:
   \   0001BB   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_91:
   \   0001BE   6403         XRL     A,#0x3
   \   0001C0   7002         JNZ     ??GenericApp_MessageMSGCB_7
   \   0001C2   A3           INC     DPTR
   \   0001C3   E0           MOVX    A,@DPTR
   \                     ??GenericApp_MessageMSGCB_7:
   \   0001C4   7065         JNZ     ??GenericApp_MessageMSGCB_8
   1443              { 
   1444                  //ed fa 01 ,turn on led 1
   1445                  //ed ff 01  turn off led 1
   1446                  if( pkt->cmd.Data[0] == 0xed  && pkt->cmd.Data[1] == 0xfa )
   \   0001C6   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_98:
   \   0001C9   64ED         XRL     A,#0xed
   \   0001CB   7017         JNZ     ??GenericApp_MessageMSGCB_9
   \   0001CD   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_11:
   \   0001D0   64FA         XRL     A,#0xfa
   \   0001D2   7010         JNZ     ??GenericApp_MessageMSGCB_9
   1447                  {
   1448                      switch(pkt->cmd.Data[2])
   \   0001D4   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_15:
   \   0001D7   6005         JZ      ??GenericApp_MessageMSGCB_10
   \   0001D9   14           DEC     A
   \   0001DA   6006         JZ      ??GenericApp_MessageMSGCB_11
   \   0001DC   8006         SJMP    ??GenericApp_MessageMSGCB_9
   1449                      {
   1450                        case 0x01:
   1451                          LED1 = 1;
   \                     ??GenericApp_MessageMSGCB_10:
   \   0001DE   D290         SETB    0x90.0
   1452                          break;
   \   0001E0   8002         SJMP    ??GenericApp_MessageMSGCB_9
   1453                        case 0x02:
   1454                           LED2 = 1;
   \                     ??GenericApp_MessageMSGCB_11:
   \   0001E2   D291         SETB    0x90.1
   1455                          break;
   1456                        default:break;
   1457                      }
   1458                             
   1459                  }
   1460                  if( pkt->cmd.Data[0] == 0xed  && pkt->cmd.Data[1] == 0xff )
   \                     ??GenericApp_MessageMSGCB_9:
   \   0001E4   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_23:
   \   0001E7   7016         JNZ     ??GenericApp_MessageMSGCB_12
   \   0001E9   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_12:
   \   0001EC   F4           CPL     A
   \   0001ED   7010         JNZ     ??GenericApp_MessageMSGCB_12
   1461                  {
   1462                      switch(pkt->cmd.Data[2])
   \   0001EF   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_16:
   \   0001F2   6005         JZ      ??GenericApp_MessageMSGCB_13
   \   0001F4   14           DEC     A
   \   0001F5   6006         JZ      ??GenericApp_MessageMSGCB_14
   \   0001F7   8006         SJMP    ??GenericApp_MessageMSGCB_12
   1463                      {
   1464                        case 0x01:
   1465                          LED1 = 0;
   \                     ??GenericApp_MessageMSGCB_13:
   \   0001F9   C290         CLR     0x90.0
   1466                          break;
   \   0001FB   8002         SJMP    ??GenericApp_MessageMSGCB_12
   1467                        case 0x02:
   1468                           LED2 = 0;
   \                     ??GenericApp_MessageMSGCB_14:
   \   0001FD   C291         CLR     0x90.1
   1469                          break;
   1470                        default:break;
   1471                      }          
   1472                  }
   1473                  if( pkt->cmd.Data[0] == 0xed  && pkt->cmd.Data[1] == 0xfc ) //
   \                     ??GenericApp_MessageMSGCB_12:
   \   0001FF   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   000202   7027         JNZ     ??GenericApp_MessageMSGCB_8
   \   000204   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_13:
   \   000207   64FC         XRL     A,#0xfc
   \   000209   7020         JNZ     ??GenericApp_MessageMSGCB_8
   1474                  {
   1475                      switch(pkt->cmd.Data[2])
   \   00020B   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_17:
   \   00020E   6005         JZ      ??GenericApp_MessageMSGCB_15
   \   000210   14           DEC     A
   \   000211   600E         JZ      ??GenericApp_MessageMSGCB_16
   \   000213   8016         SJMP    ??GenericApp_MessageMSGCB_8
   1476                      {
   1477                        case 0x01:
   1478                          LED1 = !LED1;
   \                     ??GenericApp_MessageMSGCB_15:
   \   000215   D2F0         SETB    B.0
   \   000217   A290         MOV     C,0x90.0
   \   000219   30F001       JNB     B.0,??GenericApp_MessageMSGCB_17
   \   00021C   B3           CPL     C
   \                     ??GenericApp_MessageMSGCB_17:
   \   00021D   9290         MOV     0x90.0,C
   1479                          break;
   \   00021F   800A         SJMP    ??GenericApp_MessageMSGCB_8
   1480                        case 0x02:
   1481                           LED2 = !LED2;
   \                     ??GenericApp_MessageMSGCB_16:
   \   000221   D2F0         SETB    B.0
   \   000223   A291         MOV     C,0x90.1
   \   000225   30F001       JNB     B.0,??GenericApp_MessageMSGCB_18
   \   000228   B3           CPL     C
   \                     ??GenericApp_MessageMSGCB_18:
   \   000229   9291         MOV     0x90.1,C
   1482                          break;
   1483                        default:break;
   1484                      }          
   1485                  }
   1486                  
   1487              } // if( pkt->cmd.DataLength == 3)
   1488              if( pkt->cmd.DataLength == 4)
   \                     ??GenericApp_MessageMSGCB_8:
   \   00022B   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_92:
   \   00022E   6404         XRL     A,#0x4
   \   000230   7002         JNZ     ??GenericApp_MessageMSGCB_19
   \   000232   A3           INC     DPTR
   \   000233   E0           MOVX    A,@DPTR
   \                     ??GenericApp_MessageMSGCB_19:
   \   000234   6003         JZ      $+5
   \   000236   02....       LJMP    ??CrossCallReturnLabel_32 & 0xFFFF
   1489              {
   1490                if( pkt->cmd.Data[0] == 'p' && pkt->cmd.Data[1] =='i' && pkt->cmd.Data[2] == 'n' && pkt->cmd.Data[3] == 'g')
   \   000239   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_99:
   \   00023C   6470         XRL     A,#0x70
   \   00023E   707B         JNZ     ??CrossCallReturnLabel_32
   \   000240   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_14:
   \   000243   6469         XRL     A,#0x69
   \   000245   7074         JNZ     ??CrossCallReturnLabel_32
   \   000247   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   00024A   E0           MOVX    A,@DPTR
   \   00024B   646E         XRL     A,#0x6e
   \   00024D   706C         JNZ     ??CrossCallReturnLabel_32
   \   00024F   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_26:
   \   000252   A3           INC     DPTR
   \   000253   E0           MOVX    A,@DPTR
   \   000254   6467         XRL     A,#0x67
   \   000256   7063         JNZ     ??CrossCallReturnLabel_32
   1491                {
   1492                    buff[0] = pkt->LinkQuality;
   \   000258   EE           MOV     A,R6
   \   000259   2416         ADD     A,#0x16
   \   00025B   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_87:
   \   00025E   85..82       MOV     DPL,?XSP + 0
   \   000261   85..83       MOV     DPH,?XSP + 1
   \   000264   F0           MOVX    @DPTR,A
   1493                    buff[1] = pkt->SecurityUse;
   \   000265   EE           MOV     A,R6
   \   000266   2419         ADD     A,#0x19
   \   000268   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_88:
   \   00026B   C0E0         PUSH    A
   \   00026D   7401         MOV     A,#0x1
   \   00026F   12....       LCALL   ?XSTACK_DISP0_8
   \   000272   D0E0         POP     A
   \   000274   F0           MOVX    @DPTR,A
   1494                    u8p = (uint8*)&pkt->timestamp;
   \   000275   EE           MOV     A,R6
   \   000276   241A         ADD     A,#0x1a
   \   000278   F8           MOV     R0,A
   \   000279   EF           MOV     A,R7
   \   00027A   3400         ADDC    A,#0x0
   \   00027C   F9           MOV     R1,A
   1495                    
   1496                    buff[2] = u8p[0];
   \   00027D   8882         MOV     DPL,R0
   \   00027F   8983         MOV     DPH,R1
   \   000281   E0           MOVX    A,@DPTR
   \   000282   C0E0         PUSH    A
   \   000284   7402         MOV     A,#0x2
   \   000286   12....       LCALL   ?XSTACK_DISP0_8
   \   000289   D0E0         POP     A
   \   00028B   12....       LCALL   ?Subroutine5 & 0xFFFF
   1497                    buff[3] = u8p[1];
   \                     ??CrossCallReturnLabel_8:
   \   00028E   E0           MOVX    A,@DPTR
   \   00028F   C0E0         PUSH    A
   \   000291   7403         MOV     A,#0x3
   \   000293   12....       LCALL   ?XSTACK_DISP0_8
   \   000296   D0E0         POP     A
   \   000298   12....       LCALL   ?Subroutine5 & 0xFFFF
   1498                    buff[4] = u8p[2];
   \                     ??CrossCallReturnLabel_9:
   \   00029B   A3           INC     DPTR
   \   00029C   E0           MOVX    A,@DPTR
   \   00029D   C0E0         PUSH    A
   \   00029F   7404         MOV     A,#0x4
   \   0002A1   12....       LCALL   ?XSTACK_DISP0_8
   \   0002A4   D0E0         POP     A
   \   0002A6   12....       LCALL   ?Subroutine5 & 0xFFFF
   1499                    buff[5] = u8p[3];
   \                     ??CrossCallReturnLabel_10:
   \   0002A9   A3           INC     DPTR
   \   0002AA   A3           INC     DPTR
   \   0002AB   E0           MOVX    A,@DPTR
   \   0002AC   C0E0         PUSH    A
   \   0002AE   7405         MOV     A,#0x5
   \   0002B0   12....       LCALL   ?XSTACK_DISP0_8
   \   0002B3   D0E0         POP     A
   \   0002B5   F0           MOVX    @DPTR,A
   1500                    
   1501                    SendData( pkt->srcAddr.addr.shortAddr, buff, 6);
   \   0002B6                ; Setup parameters for call to function SendData
   \   0002B6   7906         MOV     R1,#0x6
   \   0002B8   12....       LCALL   ?Subroutine15 & 0xFFFF
   1502                }
   1503              }
   1504              
   1505          #if defined( LCD_SUPPORTED )
   1506                UART_Send_String( &pkt->cmd.Data[0], pkt->cmd.DataLength);
   \                     ??CrossCallReturnLabel_32:
   \   0002BB                ; Setup parameters for call to function UART_Send_String
   \   0002BB   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_93:
   \   0002BE   FC           MOV     R4,A
   \   0002BF   A3           INC     DPTR
   \   0002C0   E0           MOVX    A,@DPTR
   \   0002C1   FD           MOV     R5,A
   \   0002C2   EE           MOV     A,R6
   \   0002C3   2422         ADD     A,#0x22
   \   0002C5   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_89:
   \   0002C8   FA           MOV     R2,A
   \   0002C9   A3           INC     DPTR
   \   0002CA   E0           MOVX    A,@DPTR
   \   0002CB   FB           MOV     R3,A
   \   0002CC   12....       LCALL   ??UART_Send_String?relay
   1507          #endif
   1508              
   1509                break;
   1510            default:break;
   1511            }
   1512            
   1513            
   1514          
   1515            
   1516          }
   \                     ??GenericApp_MessageMSGCB_1:
   \   0002CF   7418         MOV     A,#0x18
   \   0002D1   12....       LCALL   ?DEALLOC_XSTACK8
   \   0002D4   02....       LJMP    ?Subroutine2 & 0xFFFF
   \   0002D7                REQUIRE _A_P1

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006   AC82         MOV     R4,DPL
   \   000008   AD83         MOV     R5,DPH
   \   00000A   8E82         MOV     DPL,R6
   \   00000C   8F83         MOV     DPH,R7
   \   00000E   A3           INC     DPTR
   \   00000F   A3           INC     DPTR
   \   000010   A3           INC     DPTR
   \   000011   A3           INC     DPTR
   \   000012   A3           INC     DPTR
   \   000013   A3           INC     DPTR
   \   000014   E0           MOVX    A,@DPTR
   \   000015   FA           MOV     R2,A
   \   000016   A3           INC     DPTR
   \   000017   E0           MOVX    A,@DPTR
   \   000018   FB           MOV     R3,A
   \   000019   12....       LCALL   ??SendData?relay
   \   00001C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_59:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine28:
   \   000000   12....       LCALL   ?Subroutine31 & 0xFFFF
   \                     ??CrossCallReturnLabel_64:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_61:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   64ED         XRL     A,#0xed
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   EE           MOV     A,R6
   \   000001   2420         ADD     A,#0x20
   \   000003                REQUIRE ??Subroutine38_0
   \   000003                ; // Fall through to label ??Subroutine38_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_58:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   14           DEC     A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_60:
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine29:
   \   000000   12....       LCALL   ?Subroutine31 & 0xFFFF
   \                     ??CrossCallReturnLabel_65:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine31:
   \   000000   EE           MOV     A,R6
   \   000001   2422         ADD     A,#0x22
   \   000003   F582         MOV     DPL,A
   \   000005   EF           MOV     A,R7
   \   000006   3400         ADDC    A,#0x0
   \   000008   F583         MOV     DPH,A
   \   00000A   A3           INC     DPTR
   \   00000B   E0           MOVX    A,@DPTR
   \   00000C   F583         MOV     DPH,A
   \   00000E   8882         MOV     DPL,R0
   \   000010   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   EE           MOV     A,R6
   \   000001   2422         ADD     A,#0x22
   \   000003                REQUIRE ??Subroutine39_0
   \   000003                ; // Fall through to label ??Subroutine39_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8882         MOV     DPL,R0
   \   000003   8983         MOV     DPH,R1
   \   000005   A3           INC     DPTR
   \   000006   22           RET
   1517          
   1518          /*********************************************************************
   1519           * @fn      GenericApp_SendTheMessage
   1520           *
   1521           * @brief   Send "the" message.
   1522           *
   1523           * @param   none
   1524           *
   1525           * @return  none
   1526           */
   1527          static void GenericApp_SendTheMessage( afIncomingMSGPacket_t *pkt )
                             ^
Warning[Pe177]: function "GenericApp_SendTheMessage" was declared but never
          referenced
   1528          {
   1529            
   1530          
   1531            
   1532            char theMessageData[] = "Hello World";
   1533          
   1534            
   1535            if ( AF_DataRequest( &pkt->srcAddr, &GenericApp_epDesc,
   1536                                 GENERICAPP_CLUSTERID,
   1537                                 (byte)osal_strlen( theMessageData ) + 1,
   1538                                 (byte *)&theMessageData,
   1539                                 &GenericApp_TransID,
   1540                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   1541            {
   1542              // Successfully requested to be sent.
   1543              uprint("ok");
   1544            }
   1545            else
   1546            {
   1547              uprint("err");
   1548              // Error occurred in request to send.
   1549            }
   1550          }
   1551          
   1552          #if defined( IAR_ARMCM3_LM )
   1553          /*********************************************************************
   1554           * @fn      GenericApp_ProcessRtosMessage
   1555           *
   1556           * @brief   Receive message from RTOS queue, send response back.
   1557           *
   1558           * @param   none
   1559           *
   1560           * @return  none
   1561           */
   1562          static void GenericApp_ProcessRtosMessage( void )
   1563          {
   1564            osalQueue_t inMsg;
   1565          
   1566            if ( osal_queue_receive( OsalQueue, &inMsg, 0 ) == pdPASS )
   1567            {
   1568              uint8 cmndId = inMsg.cmnd;
   1569              uint32 counter = osal_build_uint32( inMsg.cbuf, 4 );
   1570          
   1571              switch ( cmndId )
   1572              {
   1573                case CMD_INCR:
   1574                  counter += 1;  /* Increment the incoming counter */
   1575                                 /* Intentionally fall through next case */
   1576          
   1577                case CMD_ECHO:
   1578                {
   1579                  userQueue_t outMsg;
   1580          
   1581                  outMsg.resp = RSP_CODE | cmndId;  /* Response ID */
   1582                  osal_buffer_uint32( outMsg.rbuf, counter );    /* Increment counter */
   1583                  osal_queue_send( UserQueue1, &outMsg, 0 );  /* Send back to UserTask */
   1584                  break;
   1585                }
   1586                
   1587                default:
   1588                  break;  /* Ignore unknown command */    
   1589              }
   1590            }
   1591          }
   1592          #endif
   1593          
   1594          /*********************************************************************
   1595           */
   1596          
   1597          /*
   1598          #pragma vector=URX0_VECTOR
   1599          __interrupt static void UART0_ISR(void)
   1600          {
   1601            URX0IF=0;//
   1602            temp=U0DBUF;//temp
   1603          }
   1604          */
   1605          
   1606          
   1607          
   1608          #pragma vector=T3_VECTOR

   \                                 In  segment NEAR_CODE, align 1, keep-with-next
   1609          __interrupt static void T3_IRQ(void)
   \                     T3_IRQ:
   1610          {
   \   000000   C0E0         PUSH    A
   \   000002   74F2         MOV     A,#-0xe
   \   000004   12....       LCALL   ?INTERRUPT_ENTER_XSP
   \   000007                ; Saved register size: 14
   \   000007                ; Auto size: 0
   1611             t3_counter++;
   \   000007   90....       MOV     DPTR,#t3_counter
   \   00000A   E0           MOVX    A,@DPTR
   \   00000B   2401         ADD     A,#0x1
   \   00000D   F0           MOVX    @DPTR,A
   \   00000E   A3           INC     DPTR
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   3400         ADDC    A,#0x0
   \   000012   F0           MOVX    @DPTR,A
   1612             if(t3_counter > 911)
   \   000013   90....       MOV     DPTR,#t3_counter
   \   000016   C3           CLR     C
   \   000017   E0           MOVX    A,@DPTR
   \   000018   9490         SUBB    A,#-0x70
   \   00001A   A3           INC     DPTR
   \   00001B   E0           MOVX    A,@DPTR
   \   00001C   9403         SUBB    A,#0x3
   \   00001E   400E         JC      ??T3_IRQ_0
   1613             {
   1614               uprint("t3 overflowed");
   \   000020                ; Setup parameters for call to function uprint
   \   000020   7A..         MOV     R2,#`?<Constant "t3 overflowed">` & 0xff
   \   000022   7B..         MOV     R3,#(`?<Constant "t3 overflowed">` >> 8) & 0xff
   \   000024   12....       LCALL   ??uprint?relay
   1615               t3_counter=0;
   \   000027   90....       MOV     DPTR,#t3_counter
   \   00002A   E4           CLR     A
   \   00002B   F0           MOVX    @DPTR,A
   \   00002C   A3           INC     DPTR
   \   00002D   F0           MOVX    @DPTR,A
   1616             }
   1617          }
   \                     ??T3_IRQ_0:
   \   00002E   7F01         MOV     R7,#0x1
   \   000030   02....       LJMP    ?INTERRUPT_LEAVE_XSP

   \                                 In  segment INTVEC, offset 0x5b, root
   \   00005B   02....       LJMP       (T3_IRQ)

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for GenericApp_SimpleDesc>`:
   \   000000   14           DB 20
   \   000001   040F         DW 3844
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   01           DB 1
   \   000007   ....         DW GenericApp_ClusterList
   \   000009   01           DB 1
   \   00000A   ....         DW GenericApp_ClusterList

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SendData?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SendData

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Delay?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Delay

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??UART_Send_String?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    UART_Send_String

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??uprint?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    uprint

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??parse_procotol?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    parse_procotol

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Serial_callBack?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Serial_callBack

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??serial_init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    serial_init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??io_init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    io_init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??set_panid?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    set_panid

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??cb_ReadConfiguration?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    cb_ReadConfiguration

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??cb_WriteConfiguration?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    cb_WriteConfiguration

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_MessageMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_MessageMSGCB

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set device to coordi ...">`:
   \   000000   73657420     DB "set device to coordi failed"
   \            64657669
   \            63652074
   \            6F20636F
   \            6F726469
   \            20666169
   \            6C656400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set device to coordi,...">`:
   \   000000   73657420     DB "set device to coordi,restart it"
   \            64657669
   \            63652074
   \            6F20636F
   \            6F726469
   \            2C726573
   \            74617274
   \            20697400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set device to router ...">`:
   \   000000   73657420     DB "set device to router failed"
   \            64657669
   \            63652074
   \            6F20726F
   \            75746572
   \            20666169
   \            6C656400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set device to router,...">`:
   \   000000   73657420     DB "set device to router,restart it"
   \            64657669
   \            63652074
   \            6F20726F
   \            75746572
   \            2C726573
   \            74617274
   \            20697400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set device to end dev...">`:
   \   000000   73657420     DB "set device to end device failed"
   \            64657669
   \            63652074
   \            6F20656E
   \            64206465
   \            76696365
   \            20666169
   \            6C656400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set device to end dev...">_1`:
   \   000000   73657420     DB "set device to end device,restart it"
   \            64657669
   \            63652074
   \            6F20656E
   \            64206465
   \            76696365
   \            2C726573
   \            74617274
   \            20697400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "osal_nv_item_init 0x0...">`:
   \   000000   6F73616C     DB "osal_nv_item_init 0x09 failed"
   \            5F6E765F
   \            6974656D
   \            5F696E69
   \            74203078
   \            30392066
   \            61696C65
   \            6400    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "osal_nv_item_init 0x1...">`:
   \   000000   6F73616C     DB "osal_nv_item_init 0x10 failed"
   \            5F6E765F
   \            6974656D
   \            5F696E69
   \            74203078
   \            31302066
   \            61696C65
   \            6400    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "reboot">`:
   \   000000   7265626F     DB "reboot"
   \            6F7400  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "nwkkey">`:
   \   000000   6E776B6B     DB "nwkkey"
   \            657900  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "osal nv read nwkkey e...">`:
   \   000000   6F73616C     DB "osal nv read nwkkey error"
   \            206E7620
   \            72656164
   \            206E776B
   \            6B657920
   \            6572726F
   \            7200    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "type">`:
   \   000000   74797065     DB "type"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Coordi">`:
   \   000000   436F6F72     DB "Coordi"
   \            646900  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Router">`:
   \   000000   526F7574     DB "Router"
   \            657200  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Enddev">`:
   \   000000   456E6464     DB "Enddev"
   \            657600  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Unknow">`:
   \   000000   556E6B6E     DB "Unknow"
   \            6F7700  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "pong">`:
   \   000000   706F6E67     DB "pong"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "pass:">`:
   \   000000   70617373     DB "pass:"
   \            3A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "change key">`:
   \   000000   6368616E     DB "change key"
   \            6765206B
   \            657900  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EndDevice match">`:
   \   000000   456E6444     DB "EndDevice match"
   \            65766963
   \            65206D61
   \            74636800

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Router Device match">`:
   \   000000   526F7574     DB "Router Device match"
   \            65722044
   \            65766963
   \            65206D61
   \            74636800

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set_panid failed">`:
   \   000000   7365745F     DB "set_panid failed"
   \            70616E69
   \            64206661
   \            696C6564
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "GenericApp">`:
   \   000000   47656E65     DB "GenericApp"
   \            72696341
   \            707000  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Coord0\\n">`:
   \   000000   436F6F72     DB "Coord0\012"
   \            64300A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Router0\\n">`:
   \   000000   526F7574     DB "Router0\012"
   \            6572300A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Coord\\n">`:
   \   000000   436F6F72     DB "Coord\012"
   \            640A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Router\\n">`:
   \   000000   526F7574     DB "Router\012"
   \            65720A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "AF_DATA_CONFIRM_CMD ERR">`:
   \   000000   41465F44     DB "AF_DATA_CONFIRM_CMD ERR"
   \            4154415F
   \            434F4E46
   \            49524D5F
   \            434D4420
   \            45525200

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "End_Device_Bind_rsp">`:
   \   000000   456E645F     DB "End_Device_Bind_rsp"
   \            44657669
   \            63655F42
   \            696E645F
   \            72737000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Match_Desc_rsp">`:
   \   000000   4D617463     DB "Match_Desc_rsp"
   \            685F4465
   \            73635F72
   \            737000  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "GenericApp_ProcessZDO...">`:
   \   000000   47656E65     DB "GenericApp_ProcessZDOMsgs"
   \            72696341
   \            70705F50
   \            726F6365
   \            73735A44
   \            4F4D7367
   \            7300    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "key1">`:
   \   000000   6B657931     DB "key1"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "key2">`:
   \   000000   6B657932     DB "key2"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "key3">`:
   \   000000   6B657933     DB "key3"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "key4">`:
   \   000000   6B657934     DB "key4"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "key5">`:
   \   000000   6B657935     DB "key5"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "key7">`:
   \   000000   6B657937     DB "key7"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "send failed">`:
   \   000000   73656E64     DB "send failed"
   \            20666169
   \            6C656400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "t3 overflowed">`:
   \   000000   7433206F     DB "t3 overflowed"
   \            76657266
   \            6C6F7765
   \            6400    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_800:
   \   000000   00080000     DD 2048

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_1000:
   \   000000   00100000     DD 4096

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_2000:
   \   000000   00200000     DD 8192

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_4000:
   \   000000   00400000     DD 16384

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_8000:
   \   000000   00800000     DD 32768

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_10000:
   \   000000   00000100     DD 65536

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_20000:
   \   000000   00000200     DD 131072

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_40000:
   \   000000   00000400     DD 262144

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_80000:
   \   000000   00000800     DD 524288

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_100000:
   \   000000   00001000     DD 1048576

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_200000:
   \   000000   00002000     DD 2097152

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_400000:
   \   000000   00004000     DD 4194304

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_800000:
   \   000000   00008000     DD 8388608

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_1000000:
   \   000000   00000001     DD 16777216

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_2000000:
   \   000000   00000002     DD 33554432

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_4000000:
   \   000000   00000004     DD 67108864
   1618          

   Maximum stack usage in bytes:

     Function                     ISTACK PSTACK XSTACK
     --------                     ------ ------ ------
     Delay                            0      0      0
     GenericApp_Init                  0      0     10
       -> afRegister                  0      0     20
       -> RegisterForKeys             0      0     20
       -> HalLcdWriteString           0      0     20
       -> ZDO_RegisterForZDOMsg       0      0     20
       -> ZDO_RegisterForZDOMsg       0      0     20
       -> osal_nv_item_len            0      0     20
       -> cb_ReadConfiguration        0      0     20
       -> uprint                      0      0     20
       -> uprint                      0      0     20
       -> ZDOInitDevice               0      0     20
       -> uprint                      0      0     20
       -> uprint                      0      0     20
       -> io_init                     0      0     20
       -> serial_init                 0      0     20
     GenericApp_MessageMSGCB          1      0     57
       -> SendData                    0      0     72
       -> NLME_GetExtAddr             0      0     72
       -> sAddrExtCpy                 0      0     72
       -> AF_DataRequest              0      0     90
       -> AssocCount                  0      0     72
       -> AF_DataRequest              0      0     90
       -> uprint                      0      0     72
       -> SendData                    0      0     72
       -> UART_Send_String            0      0     72
     GenericApp_ProcessEvent          0      0     12
       -> osal_msg_receive            0      0     24
       -> osal_msg_deallocate         0      0     24
       -> osal_msg_receive            0      0     24
       -> uprint                      0      0     24
       -> ZDO_ParseEPListRsp          0      0     24
       -> osal_mem_free               0      0     24
       -> uprint                      0      0     24
       -> HalLedSet                   0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> GenericApp_MessageMSGCB     0      0     24
     SendData                         0      0    140
       -> AF_DataRequest              0      0     62
     Serial_callBack                  0      0     61
       -> HalUARTRead                 0      0    104
       -> AssocCount                  0      0    104
       -> UART_Send_String            0      0    104
       -> uprint                      0      0    104
       -> HalLedSet                   0      0    104
       -> NLME_GetShortAddr           0      0    104
       -> ZDP_EndDeviceBindReq        0      0    122
       -> uprint                      0      0    104
       -> ZDP_MatchDescReq            0      0    120
       -> SendData                    0      0    104
     T3_IRQ                           0      0     14
       -> uprint                      0      0     28
     UART_Send_String                 2      0    109
       -> HalUARTWrite                4      0      0
     cb_ReadConfiguration             0      0     26
       -> osal_nv_item_len            0      0     24
       -> osal_nv_read                0      0     32
     cb_WriteConfiguration            0      0     14
       -> osal_nv_write               0      0     28
     io_init                          0      0     10
     parse_procotol                   1      0    113
       -> SendData                    0      0    218
       -> UART_Send_String            0      0    218
       -> UART_Send_String            0      0    218
       -> UART_Send_String            0      0    218
       -> NLME_GetExtAddr             0      0    218
       -> strncpy                     0      0    222
       -> UART_Send_String            0      0    218
       -> osal_nv_item_init           0      0    222
       -> osal_nv_write               0      0    226
       -> uprint                      0      0    218
       -> zgWriteStartupOptions       0      0    218
       -> uprint                      0      0    218
       -> osal_nv_item_init           0      0    222
       -> osal_nv_write               0      0    226
       -> uprint                      0      0    218
       -> zgWriteStartupOptions       0      0    218
       -> uprint                      0      0    218
       -> osal_nv_item_init           0      0    222
       -> osal_nv_write               0      0    226
       -> uprint                      0      0    218
       -> zgWriteStartupOptions       0      0    218
       -> uprint                      0      0    218
       -> osal_nv_item_init           0      0    222
       -> osal_nv_read                0      0    226
       -> UART_Send_String            0      0    218
       -> uprint                      0      0    218
       -> osal_nv_item_init           0      0    222
       -> osal_nv_read                0      0    226
       -> UART_Send_String            0      0    218
       -> uprint                      0      0    218
       -> NLME_UpdateNV               0      0    218
       -> ZMacSetReq                  0      0    218
       -> osal_nv_item_init           0      0    222
       -> osal_nv_write               0      0    226
       -> UART_Send_String            0      0    218
       -> HalAdcRead                  0      0    218
       -> UART_Send_String            0      0    218
       -> HalAdcRead                  0      0    218
       -> UART_Send_String            0      0    218
       -> HalAdcRead                  0      0    218
       -> UART_Send_String            0      0    218
       -> HalAdcRead                  0      0    218
       -> UART_Send_String            0      0    218
       -> HalAdcRead                  0      0    218
       -> UART_Send_String            0      0    218
       -> strstr                      0      0    218
       -> strncpy                     0      0    222
       -> strncpy                     0      0    222
       -> strtol                      0      0    222
       -> strtol                      0      0    222
       -> set_panid                   0      0    218
       -> zgWriteStartupOptions       0      0    218
       -> strncpy                     0      0    222
       -> strncpy                     0      0    222
       -> strtol                      0      0    222
       -> strtol                      0      0    222
       -> NLME_UpdateNV               0      0    218
       -> strstr                      0      0    218
       -> osal_nv_read                0      0    226
       -> UART_Send_String            0      0    218
       -> uprint                      0      0    218
       -> strstr                      0      0    218
       -> uprint                      0      0    218
       -> uprint                      0      0    218
       -> uprint                      0      0    218
       -> uprint                      0      0    218
       -> uprint                      0      0    218
       -> strstr                      0      0    218
       -> SSP_UpdateNwkKey            0      0    218
       -> SSP_SwitchNwkKey            0      0    218
       -> ZDApp_NVUpdate              0      0    218
       -> uprint                      0      0    218
       -> osal_nv_item_init           0      0    222
       -> osal_nv_write               0      0    226
       -> uprint                      0      0    218
       -> osal_nv_item_init           0      0    222
       -> osal_nv_write               0      0    226
       -> uprint                      0      0    218
     serial_init                      2      0     39
       -> HalUARTOpen                 4      0     58
     set_panid                        0      0    125
       -> macRadioSetPanID            0      0     24
       -> ZMacSetReq                  0      0     24
       -> osal_nv_write               0      0     32
       -> NLME_UpdateNV               0      0     24
       -> uprint                      0      0     24
     uprint                           0      0    118
       -> strlen                      0      0     18
       -> UART_Send_String            0      0     18


   Segment part sizes:

     Function/Label                           Bytes
     --------------                           -----
     _A_P1                                       1
     _A_IEN0                                     1
     _A_IEN1                                     1
     WDCTL                                       1
     T3CTL                                       1
     P1DIR                                       1
     devlist                                    44
     ieeeAddr                                    2
     short_ddr                                   2
     panid                                       2
     global_start                                1
     t3_counter                                  2
     GenericApp_ClusterList                      2
     GenericApp_SimpleDesc                      12
     GenericApp_epDesc                           6
     GenericApp_TaskID                           1
     GenericApp_NwkState                         1
     GenericApp_TransID                          1
     App_NwkState                                1
     GenericApp_DstAddr                         12
     SendData                                  118
     ?Subroutine3                                8
     ?Subroutine0                                3
     ??Subroutine37_0                            5
     Delay                                      83
     ?Subroutine9                                9
     UART_Send_String                            9
     ?Subroutine1                                7
     uprint                                     28
     parse_procotol                           2248
     ?Subroutine26                              10
     ?Subroutine25                              13
     ?Subroutine22                               9
     ?Subroutine20                              13
     ?Subroutine19                              10
     ?Subroutine16                               2
     ??Subroutine32_0                            6
     ??Subroutine33_0                            6
     ?Subroutine14                              14
     ?Subroutine13                               8
     ?Subroutine30                              13
     ?Subroutine4                               22
     ?Subroutine17                               6
     ??Subroutine34_0                            2
     ??Subroutine35_0                            6
     ?Subroutine21                               8
     ??Subroutine36_0                            6
     ?Subroutine18                              12
     Serial_callBack                           424
     ?Subroutine27                              20
     ?Subroutine24                              22
     ?Subroutine23                              16
     serial_init                               109
     io_init                                    27
     set_panid                                 115
     cb_ReadConfiguration                       64
     ?Subroutine2                                5
     cb_WriteConfiguration                      39
     GenericApp_Init                           223
     GenericApp_ProcessEvent                   374
     ??Subroutine38_0                            9
     ??Subroutine39_0                           17
     GenericApp_MessageMSGCB                   727
     ?Subroutine15                              29
     ?Subroutine12                               4
     ?Subroutine28                               6
     ?Subroutine11                               7
     ?Subroutine10                               3
     ?Subroutine8                                6
     ?Subroutine7                                6
     ?Subroutine29                               4
     ?Subroutine31                              17
     ?Subroutine6                                3
     ?Subroutine5                                7
     T3_IRQ                                     51
     ??T3_IRQ??INTVEC 91                         3
     ?<Initializer for GenericApp_SimpleDesc>   12
     ??SendData?relay                            6
     ??Delay?relay                               6
     ??UART_Send_String?relay                    6
     ??uprint?relay                              6
     ??parse_procotol?relay                      6
     ??Serial_callBack?relay                     6
     ??serial_init?relay                         6
     ??io_init?relay                             6
     ??set_panid?relay                           6
     ??cb_ReadConfiguration?relay                6
     ??cb_WriteConfiguration?relay               6
     ??GenericApp_Init?relay                     6
     ??GenericApp_ProcessEvent?relay             6
     ??GenericApp_MessageMSGCB?relay             6
     ?<Constant "set device to coordi ...">     28
     ?<Constant "set device to coordi,...">     32
     ?<Constant "set device to router ...">     28
     ?<Constant "set device to router,...">     32
     ?<Constant "set device to end dev...">     32
     ?<Constant "set device to end dev...">_1   36
     ?<Constant "osal_nv_item_init 0x0...">     30
     ?<Constant "osal_nv_item_init 0x1...">     30
     ?<Constant "reboot">                        7
     ?<Constant "nwkkey">                        7
     ?<Constant "osal nv read nwkkey e...">     26
     ?<Constant "type">                          5
     ?<Constant "Coordi">                        7
     ?<Constant "Router">                        7
     ?<Constant "Enddev">                        7
     ?<Constant "Unknow">                        7
     ?<Constant "pong">                          5
     ?<Constant "pass:">                         6
     ?<Constant "change key">                   11
     ?<Constant "EndDevice match">              16
     ?<Constant "Router Device match">          20
     ?<Constant "set_panid failed">             17
     ?<Constant "GenericApp">                   11
     ?<Constant "Coord0\n">                      8
     ?<Constant "Router0\n">                     9
     ?<Constant "Coord\n">                       7
     ?<Constant "Router\n">                      8
     ?<Constant "AF_DATA_CONFIRM_CMD ERR">      24
     ?<Constant "End_Device_Bind_rsp">          20
     ?<Constant "Match_Desc_rsp">               15
     ?<Constant "GenericApp_ProcessZDO...">     26
     ?<Constant "key1">                          5
     ?<Constant "key2">                          5
     ?<Constant "key3">                          5
     ?<Constant "key4">                          5
     ?<Constant "key5">                          5
     ?<Constant "key7">                          5
     ?<Constant "send failed">                  12
     ?<Constant "t3 overflowed">                14
     __Constant_800                              4
     __Constant_1000                             4
     __Constant_2000                             4
     __Constant_4000                             4
     __Constant_8000                             4
     __Constant_10000                            4
     __Constant_20000                            4
     __Constant_40000                            4
     __Constant_80000                            4
     __Constant_100000                           4
     __Constant_200000                           4
     __Constant_400000                           4
     __Constant_800000                           4
     __Constant_1000000                          4
     __Constant_2000000                          4
     __Constant_4000000                          4

 
 4 967 bytes in segment BANKED_CODE
    84 bytes in segment BANK_RELAYS
     3 bytes in segment INTVEC
    51 bytes in segment NEAR_CODE
     6 bytes in segment SFR_AN
    12 bytes in segment XDATA_I
    12 bytes in segment XDATA_ID
   646 bytes in segment XDATA_ROM_C
    75 bytes in segment XDATA_Z
 
 5 114 bytes of CODE  memory (+  3 bytes shared)
   582 bytes of CONST memory (+ 64 bytes shared)
     0 bytes of DATA  memory (+  6 bytes shared)
    87 bytes of XDATA memory

Errors: none
Warnings: 16
