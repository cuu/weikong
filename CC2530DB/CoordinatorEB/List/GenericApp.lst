###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.40338/W32 for 8051         25/Sep/2012  15:01:04 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects #
#                          \zstack\Samples\testApp_2.5\Source\GenericApp.c    #
#    Command line       =  -f "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Proj #
#                          ects\zstack\Samples\testApp_2.5\CC2530DB\..\..\..\ #
#                          Tools\CC2530DB\f8wCoord.cfg" (-DCPU32MHZ           #
#                          -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRU #
#                          E -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8       #
#                          -DMAC_CFG_RX_MAX=5 -DZDO_COORDINATOR -DRTR_NWK)    #
#                          -f "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Proj #
#                          ects\zstack\Samples\testApp_2.5\CC2530DB\..\..\..\ #
#                          Tools\CC2530DB\f8wConfig.cfg" (-DZIGBEEPRO         #
#                          -DSECURE=0 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR       #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 "C:\Texas                   #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\Source\GenericApp.c" -D         #
#                          ZTOOL_P1 -D MT_TASK -D LCD_SUPPORTED=DEBUG -D      #
#                          HAL_UART=TRUE -D xNV_INIT -D NV_RESTORE -D         #
#                          xPOWER_SAVING -D BUILD_ALL_DEVICES -D              #
#                          HOLD_AUTO_START -lC "C:\Texas                      #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\CoordinatorEB\List\"   #
#                          -lA "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Pro #
#                          jects\zstack\Samples\testApp_2.5\CC2530DB\Coordina #
#                          torEB\List\" --diag_suppress Pe001,Pa010 -o        #
#                          "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Project #
#                          s\zstack\Samples\testApp_2.5\CC2530DB\CoordinatorE #
#                          B\Obj\" -e --no_code_motion --debug --core=plain   #
#                          --dptr=16,1 --data_model=large                     #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I "C:\Texas                  #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\" -I "C:\Texas         #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\Source\" -I         #
#                          "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Project #
#                          s\zstack\Samples\testApp_2.5\CC2530DB\..\..\..\ZMa #
#                          in\TI2530DB\" -I "C:\Texas                         #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\hal\include\" -I "C:\Texas                     #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\hal\target\CC2530EB\" -I "C:\Texas             #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\mac\include\" -I "C:\Texas                     #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\mac\high_level\" -I "C:\Texas                  #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\mac\low_level\srf04\" -I "C:\Texas             #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\mac\low_level\srf04\single_chip\" -I           #
#                          "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Project #
#                          s\zstack\Samples\testApp_2.5\CC2530DB\..\..\..\..\ #
#                          ..\Components\mt\" -I "C:\Texas                    #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\osal\include\" -I "C:\Texas                    #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\services\saddr\" -I "C:\Texas                  #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\services\sdata\" -I "C:\Texas                  #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\stack\af\" -I "C:\Texas                        #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\stack\nwk\" -I "C:\Texas                       #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\stack\sapi\" -I "C:\Texas                      #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\stack\sec\" -I "C:\Texas                       #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\stack\sys\" -I "C:\Texas                       #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\stack\zdo\" -I "C:\Texas                       #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\testApp_2.5\CC2530DB\..\..\..\..\..\Compone #
#                          nts\zmac\" -I "C:\Texas Instruments\ZStack-CC2530- #
#                          2.5.1a\Projects\zstack\Samples\testApp_2.5\CC2530D #
#                          B\..\..\..\..\..\Components\zmac\f8w\" -Ohz        #
#                          --require_prototypes                               #
#    List file          =  C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects #
#                          \zstack\Samples\testApp_2.5\CC2530DB\CoordinatorEB #
#                          \List\GenericApp.lst                               #
#    Object file        =  C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects #
#                          \zstack\Samples\testApp_2.5\CC2530DB\CoordinatorEB #
#                          \Obj\GenericApp.r51                                #
#                                                                             #
#                                                                             #
###############################################################################

C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\testApp_2.5\Source\GenericApp.c
      1          
      2          #include <iocc2530.h>

   \                                 In  segment SFR_AN, at 0x80
   \   union <unnamed> volatile __sfr _A_P0
   \                     _A_P0:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0x89
   \   unsigned char volatile __sfr P0IFG
   \                     P0IFG:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0x90
   \   union <unnamed> volatile __sfr _A_P1
   \                     _A_P1:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xa8
   \   union <unnamed> volatile __sfr _A_IEN0
   \                     _A_IEN0:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xc9
   \   unsigned char volatile __sfr WDCTL
   \                     WDCTL:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xfd
   \   unsigned char volatile __sfr P0DIR
   \                     P0DIR:
   \   000000                DS 1
      3          #include <stdio.h>
      4          #include <stdlib.h>
      5          #include <string.h>
      6          
      7          #include "OSAL.h"
      8          #include "OSAL_Nv.h"
      9          
     10          #include "AF.h"
     11          #include "ZDApp.h"
     12          #include "ZDObject.h"
     13          #include "ZDProfile.h"
     14          #include "ZDSecMgr.h"
     15          
     16          
     17          #include "GenericApp.h"
     18          #include "DebugTrace.h"
     19          
     20          #if !defined( WIN32 )
     21            #include "OnBoard.h"
     22          #endif
     23          
     24          /* HAL */
     25          #include "hal_adc.h"
     26          #include "hal_mcu.h"
     27          #include "hal_lcd.h"
     28          #include "hal_led.h"
     29          #include "hal_key.h"
     30          #include "hal_uart.h"
     31          #include "hal_drivers.h"
     32          
     33          #include "nwk_util.h"
     34          
     35          #include "mac_low_level.h"
     36          
     37          
     38          /* RTOS */
     39          #if defined( IAR_ARMCM3_LM )
     40          #include "RTOS_App.h"
     41          #endif  
     42          
     43          //#define HAL_KEY_SW_6_BIT    BV(1)
     44          //#define HAL_KEY_JOY_MOVE_BIT    BV(0)
     45          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     46          uint16 devlist[ NWK_MAX_DEVICES + 1];
   \                     devlist:
   \   000000                DS 44
   \   00002C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     47          uint8* ieeeAddr;
   \                     ieeeAddr:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     48          uint16 short_ddr;
   \                     short_ddr:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     49          uint16 panid;
   \                     panid:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
     50          
     51          
     52          // This list should be filled with Application specific Cluster IDs.

   \                                 In  segment XDATA_ROM_C, align 1
     53          const cId_t GenericApp_ClusterList[GENERICAPP_MAX_CLUSTERS] =
   \                     GenericApp_ClusterList:
   \   000000   0100         DW 1
     54          {
     55            GENERICAPP_CLUSTERID
     56          };
     57          
     58          

   \                                 In  segment XDATA_I, align 1, keep-with-next
     59          SimpleDescriptionFormat_t GenericApp_SimpleDesc =
   \                     GenericApp_SimpleDesc:
   \   000000                DS 12
   \   00000C                REQUIRE `?<Initializer for GenericApp_SimpleDesc>`
   \   00000C                REQUIRE __INIT_XDATA_I
     60          {
     61            GENERICAPP_ENDPOINT,              //  int Endpoint;
     62            GENERICAPP_PROFID,                //  uint16 AppProfId[2];
     63            GENERICAPP_DEVICEID,              //  uint16 AppDeviceId[2];
     64            GENERICAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
     65            GENERICAPP_FLAGS,                 //  int   AppFlags:4;
     66            GENERICAPP_MAX_CLUSTERS,          //  byte  AppNumInClusters;
     67            (cId_t *)GenericApp_ClusterList,  //  byte *pAppInClusterList;
     68            GENERICAPP_MAX_CLUSTERS,          //  byte  AppNumInClusters;
     69            (cId_t *)GenericApp_ClusterList   //  byte *pAppInClusterList;
     70          };
     71          
     72          // This is the Endpoint/Interface description.  It is defined here, but
     73          // filled-in in GenericApp_Init().  Another way to go would be to fill
     74          // in the structure here and make it a "const" (in code space).  The
     75          // way it's defined in this sample app it is define in RAM.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     76          endPointDesc_t GenericApp_epDesc;
   \                     GenericApp_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z
     77          
     78          /*********************************************************************
     79           * EXTERNAL VARIABLES
     80           */
     81          
     82          /*********************************************************************
     83           * EXTERNAL FUNCTIONS
     84           */
     85          
     86          /*********************************************************************
     87           * LOCAL VARIABLES
     88           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     89          byte GenericApp_TaskID;   // Task ID for internal task/event processing
   \                     GenericApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     90                                    // This variable will be received when
     91                                    // GenericApp_Init() is called.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     92          devStates_t GenericApp_NwkState;
   \                     GenericApp_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     93          
     94          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     95          byte GenericApp_TransID;  // This is the unique message ID (counter)
   \                     GenericApp_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     96          
     97          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     98          devStates_t App_NwkState;
   \                     App_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     99          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    100          afAddrType_t GenericApp_DstAddr;
   \                     GenericApp_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z
    101          
    102          
    103          #define uint unsigned int
    104          #define uchar unsigned char
    105          
    106          
    107          #define SER_PORT 0
    108          
    109          #define TEST_BUTTON P0_1
    110          
    111          void Delay(unsigned  );
    112          void UART_Send_String( unsigned char *,int );
    113          void uprint( uint8*);
    114          
    115          void serial_init(void );
    116          void io_init(void);
    117          void _halProcessKeyInterrupt (void);
    118          
    119          void set_panid( uint16 );
    120          uint8 cb_ReadConfiguration( uint8 , uint8 , void * );
    121          uint8 cb_WriteConfiguration( uint8 , uint8 , void *);
    122          uint8 SendData( uint16, uint8 *, uint8);
    123          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    124          uint8 SendData( uint16 addr, uint8 *buf, uint8 Leng)
   \                     SendData:
    125          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 12
   \   000005   74F4         MOV     A,#-0xc
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
    126                  afAddrType_t SendDataAddr;
    127                  
    128                  SendDataAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00000C   7408         MOV     A,#0x8
   \   00000E   12....       LCALL   ?XSTACK_DISP0_8
   \   000011   7402         MOV     A,#0x2
   \   000013   F0           MOVX    @DPTR,A
    129                  SendDataAddr.endPoint = GENERICAPP_ENDPOINT;
   \   000014   7409         MOV     A,#0x9
   \   000016   12....       LCALL   ?XSTACK_DISP0_8
   \   000019   7414         MOV     A,#0x14
   \   00001B   12....       LCALL   ?Subroutine8 & 0xFFFF
    130                  SendDataAddr.addr.shortAddr = addr;
   \                     ??CrossCallReturnLabel_15:
   \   00001E   EA           MOV     A,R2
   \   00001F   F0           MOVX    @DPTR,A
   \   000020   A3           INC     DPTR
   \   000021   EB           MOV     A,R3
   \   000022   F0           MOVX    @DPTR,A
    131                  if ( AF_DataRequest( &SendDataAddr, &GenericApp_epDesc,
    132                                 GENERICAPP_CLUSTERID,
    133                                 Leng,
    134                                 buf,
    135                                 &GenericApp_TransID,
    136                                 AF_DISCV_ROUTE,
    137                               //  AF_ACK_REQUEST,
    138                                 AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   000023                ; Setup parameters for call to function AF_DataRequest
   \   000023   75..1E       MOV     ?V0 + 0,#0x1e
   \   000026   78..         MOV     R0,#?V0 + 0
   \   000028   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00002B   75....       MOV     ?V0 + 0,#GenericApp_TransID & 0xff
   \   00002E   75....       MOV     ?V0 + 1,#(GenericApp_TransID >> 8) & 0xff
   \   000031   78..         MOV     R0,#?V0 + 0
   \   000033   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000036   8C..         MOV     ?V0 + 0,R4
   \   000038   8D..         MOV     ?V0 + 1,R5
   \   00003A   78..         MOV     R0,#?V0 + 0
   \   00003C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003F   8E..         MOV     ?V0 + 0,R6
   \   000041   75..00       MOV     ?V0 + 1,#0x0
   \   000044   78..         MOV     R0,#?V0 + 0
   \   000046   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000049   75..01       MOV     ?V0 + 0,#0x1
   \   00004C   78..         MOV     R0,#?V0 + 0
   \   00004E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000051   7920         MOV     R1,#0x20
   \   000053   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   000055   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   000057   7409         MOV     A,#0x9
   \   000059   12....       LCALL   ?XSTACK_DISP0_8
   \   00005C   AA82         MOV     R2,DPL
   \   00005E   AB83         MOV     R3,DPH
   \   000060   12....       LCALL   ??AF_DataRequest?relay
   \   000063   7409         MOV     A,#0x9
   \   000065   12....       LCALL   ?DEALLOC_XSTACK8
   \   000068   E9           MOV     A,R1
   \   000069   7004         JNZ     ??SendData_0
    139                  {
    140                          return 1;
   \   00006B   7901         MOV     R1,#0x1
   \   00006D   8002         SJMP    ??SendData_1
    141                  }
    142                  else
    143                  {
    144                          return 0;// Error occurred in request to send.
   \                     ??SendData_0:
   \   00006F   7900         MOV     R1,#0x0
   \                     ??SendData_1:
   \   000071   740C         MOV     A,#0xc
    145                  }
   \   000073   02....       LJMP    ?Subroutine0 & 0xFFFF
    146          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function HalUARTOpen
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine23_0
   \   000003                ; // Fall through to label ??Subroutine23_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine23_0:
   \   000000   7F02         MOV     R7,#0x2
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    147          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    148          void Delay(unsigned n)  
   \                     Delay:
    149          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    150           unsigned tt;
    151           for(tt=0;tt<n;tt++);
   \   000000   7800         MOV     R0,#0x0
   \   000002   7900         MOV     R1,#0x0
   \   000004   8003         SJMP    ??CrossCallReturnLabel_6
   \                     ??Delay_0:
   \   000006   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_6:
   \   000009   C3           CLR     C
   \   00000A   E8           MOV     A,R0
   \   00000B   9A           SUBB    A,R2
   \   00000C   E9           MOV     A,R1
   \   00000D   9B           SUBB    A,R3
   \   00000E   40F6         JC      ??Delay_0
    152           for(tt=0;tt<n;tt++);
   \   000010   7800         MOV     R0,#0x0
   \   000012   7900         MOV     R1,#0x0
   \   000014   8003         SJMP    ??CrossCallReturnLabel_7
   \                     ??Delay_1:
   \   000016   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_7:
   \   000019   C3           CLR     C
   \   00001A   E8           MOV     A,R0
   \   00001B   9A           SUBB    A,R2
   \   00001C   E9           MOV     A,R1
   \   00001D   9B           SUBB    A,R3
   \   00001E   40F6         JC      ??Delay_1
    153           for(tt=0;tt<n;tt++);
   \   000020   7800         MOV     R0,#0x0
   \   000022   7900         MOV     R1,#0x0
   \   000024   8003         SJMP    ??CrossCallReturnLabel_8
   \                     ??Delay_2:
   \   000026   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_8:
   \   000029   C3           CLR     C
   \   00002A   E8           MOV     A,R0
   \   00002B   9A           SUBB    A,R2
   \   00002C   E9           MOV     A,R1
   \   00002D   9B           SUBB    A,R3
   \   00002E   40F6         JC      ??Delay_2
    154           for(tt=0;tt<n;tt++);
   \   000030   7800         MOV     R0,#0x0
   \   000032   7900         MOV     R1,#0x0
   \   000034   8003         SJMP    ??CrossCallReturnLabel_9
   \                     ??Delay_3:
   \   000036   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_9:
   \   000039   C3           CLR     C
   \   00003A   E8           MOV     A,R0
   \   00003B   9A           SUBB    A,R2
   \   00003C   E9           MOV     A,R1
   \   00003D   9B           SUBB    A,R3
   \   00003E   40F6         JC      ??Delay_3
    155           for(tt=0;tt<n;tt++);
   \   000040   7800         MOV     R0,#0x0
   \   000042   7900         MOV     R1,#0x0
   \   000044   8003         SJMP    ??CrossCallReturnLabel_10
   \                     ??Delay_4:
   \   000046   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_10:
   \   000049   C3           CLR     C
   \   00004A   E8           MOV     A,R0
   \   00004B   9A           SUBB    A,R2
   \   00004C   E9           MOV     A,R1
   \   00004D   9B           SUBB    A,R3
   \   00004E   40F6         JC      ??Delay_4
    156          }
   \   000050   02....       LJMP    ?BRET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   E8           MOV     A,R0
   \   000001   2401         ADD     A,#0x1
   \   000003   08           INC     R0
   \   000004   E9           MOV     A,R1
   \   000005   3400         ADDC    A,#0x0
   \   000007   F9           MOV     R1,A
   \   000008   22           RET
    157          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    158          void UART_Send_String( unsigned char *Data,int len)
   \                     UART_Send_String:
    159          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    160          
    161            HalUARTWrite( SER_PORT,  Data, len);
   \   000004                ; Setup parameters for call to function HalUARTWrite
   \   000004   7900         MOV     R1,#0x0
   \   000006   12....       LCALL   ??HalUARTWrite?relay
    162          }
   \   000009                REQUIRE ?Subroutine1
   \   000009                ; // Fall through to label ?Subroutine1

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET
    163          
    164          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    165          void uprint( uint8 * Data)
   \                     uprint:
    166          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    167            UART_Send_String( Data, strlen(Data) );
                                                  ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000009                ; Setup parameters for call to function UART_Send_String
   \   000009                ; Setup parameters for call to function strlen
   \   000009   12....       LCALL   ??strlen?relay
   \   00000C   EA           MOV     A,R2
   \   00000D   FC           MOV     R4,A
   \   00000E   EB           MOV     A,R3
   \   00000F   FD           MOV     R5,A
   \   000010   EE           MOV     A,R6
   \   000011   FA           MOV     R2,A
   \   000012   EF           MOV     A,R7
   \   000013   FB           MOV     R3,A
   \   000014   12....       LCALL   ??UART_Send_String?relay
    168          }
   \   000017   7F01         MOV     R7,#0x1
   \   000019   02....       LJMP    ?BANKED_LEAVE_XDATA
    169          
    170          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    171          static void Serial_callBack(uint8 port, uint8 event)
   \                     Serial_callBack:
    172          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 70
   \   000005   74BA         MOV     A,#-0x46
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    173            
    174            zAddrType_t dstAddr;
    175            afAddrType_t myaddr; // use for p2p
    176            
    177            uint8 buff[32];
    178            uint8 readBytes = 0;
    179            
    180          //  uint16 short_ddr;
    181          
    182            char pbuf[3];
    183            char pbuf1[3];
    184            
    185          //  uint16 panid;
    186          //  uint8 *ieeeAddr;
    187            
    188            uint8 yy1;
    189            uint8 yy2;
    190            
    191            uint8 i;
    192            byte nr;  
    193            
    194            nwkActiveKeyItems keyItems;
    195            
    196            uint32 tmp32; // first for the chcannel list
    197            //short_ddr = GenericApp_DstAddr.addr.shortAddr;
    198          
    199          //     uint16 devlist[ NWK_MAX_DEVICES + 1];
    200               
    201            uint8 startOptions;    
    202            uint8 logicalType;
    203            
    204            logicalType = (uint8)ZDO_Config_Node_Descriptor.LogicalType;
   \   00000A   90....       MOV     DPTR,#ZDO_Config_Node_Descriptor
   \   00000D   E0           MOVX    A,@DPTR
   \   00000E   5407         ANL     A,#0x7
   \   000010   85..82       MOV     DPL,?XSP + 0
   \   000013   85..83       MOV     DPH,?XSP + 1
   \   000016   F0           MOVX    @DPTR,A
    205            
    206            readBytes = HalUARTRead(SER_PORT, buff, 31);
   \   000017                ; Setup parameters for call to function HalUARTRead
   \   000017   7C1F         MOV     R4,#0x1f
   \   000019   7D00         MOV     R5,#0x0
   \   00001B   7402         MOV     A,#0x2
   \   00001D   12....       LCALL   ?XSTACK_DISP0_8
   \   000020   AA82         MOV     R2,DPL
   \   000022   AB83         MOV     R3,DPH
   \   000024   7900         MOV     R1,#0x0
   \   000026   12....       LCALL   ??HalUARTRead?relay
   \   000029   EA           MOV     A,R2
   \   00002A   F5..         MOV     ?V0 + 0,A
    207            if (readBytes > 0)
   \   00002C   7003         JNZ     $+5
   \   00002E   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
    208            {
    209              //HalUARTWrite( SER_PORT, "DataRead: ",10);
    210              // HalUARTWrite( SER_PORT, buff, readBytes);
    211              if( readBytes == 1)
   \   000031   7401         MOV     A,#0x1
   \   000033   65..         XRL     A,?V0 + 0
   \   000035   6003         JZ      $+5
   \   000037   02....       LJMP    ??Serial_callBack_1 & 0xFFFF
    212              {
    213                  if(buff[0]== 's')
   \   00003A   7402         MOV     A,#0x2
   \   00003C   12....       LCALL   ?XSTACK_DISP0_8
   \   00003F   E0           MOVX    A,@DPTR
   \   000040   6473         XRL     A,#0x73
   \   000042   7013         JNZ     ??Serial_callBack_2
    214                  {
    215                    /// short address
    216                    short_ddr = _NIB.nwkDevAddress;
   \   000044   90....       MOV     DPTR,#_NIB + 20
   \   000047   12....       LCALL   ?Subroutine11 & 0xFFFF
    217                    
    218                    UART_Send_String( (uint8*)&short_ddr, 2);
    219                    
    220                  }
   \                     ??CrossCallReturnLabel_20:
   \   00004A   90....       MOV     DPTR,#short_ddr
   \   00004D   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_18:
   \   000050   7A..         MOV     R2,#short_ddr & 0xff
   \   000052   7B..         MOV     R3,#(short_ddr >> 8) & 0xff
   \   000054   12....       LCALL   ??UART_Send_String?relay
    221                  if(buff[0] == 'p')
   \                     ??Serial_callBack_2:
   \   000057   7402         MOV     A,#0x2
   \   000059   12....       LCALL   ?XSTACK_DISP0_8
   \   00005C   E0           MOVX    A,@DPTR
   \   00005D   6470         XRL     A,#0x70
   \   00005F   7013         JNZ     ??Serial_callBack_3
    222                  {
    223                    /// pan id
    224                    panid = _NIB.nwkPanId;
   \   000061   90....       MOV     DPTR,#_NIB + 33
   \   000064   12....       LCALL   ?Subroutine11 & 0xFFFF
    225                    UART_Send_String( (uint8*)&panid, 2);          
    226                  }
   \                     ??CrossCallReturnLabel_21:
   \   000067   90....       MOV     DPTR,#panid
   \   00006A   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   00006D   7A..         MOV     R2,#panid & 0xff
   \   00006F   7B..         MOV     R3,#(panid >> 8) & 0xff
   \   000071   12....       LCALL   ??UART_Send_String?relay
    227                  if(buff[0] == 'c')/// channel
   \                     ??Serial_callBack_3:
   \   000074   7402         MOV     A,#0x2
   \   000076   12....       LCALL   ?XSTACK_DISP0_8
   \   000079   E0           MOVX    A,@DPTR
   \   00007A   6463         XRL     A,#0x63
   \   00007C   7019         JNZ     ??Serial_callBack_4
    228                  {
    229                      yy2 = _NIB.nwkLogicalChannel;
   \   00007E   90....       MOV     DPTR,#_NIB + 22
   \   000081   E0           MOVX    A,@DPTR
   \   000082   C0E0         PUSH    A
   \   000084   7401         MOV     A,#0x1
   \   000086   12....       LCALL   ?XSTACK_DISP0_8
   \   000089   D0E0         POP     A
   \   00008B   F0           MOVX    @DPTR,A
    230                      UART_Send_String( (uint8*)&yy2, 1);
   \   00008C                ; Setup parameters for call to function UART_Send_String
   \   00008C   7C01         MOV     R4,#0x1
   \   00008E   7D00         MOV     R5,#0x0
   \   000090   AA82         MOV     R2,DPL
   \   000092   AB83         MOV     R3,DPH
   \   000094   12....       LCALL   ??UART_Send_String?relay
    231                      /*
    232                        osal_nv_item_init( ZCD_NV_CHANLIST, sizeof(zgDefaultChannelList), &zgDefaultChannelList);
    233                        osal_nv_read(  ZCD_NV_CHANLIST, 0, sizeof(zgDefaultChannelList), &zgDefaultChannelList);
    234                        
    235                   
    236                        UART_Send_String( (uint8*)&zgDefaultChannelList, sizeof(zgDefaultChannelList) );            
    237                      */
    238                      
    239                  }
    240                  if(buff[0] =='m') // mac address
   \                     ??Serial_callBack_4:
   \   000097   7402         MOV     A,#0x2
   \   000099   12....       LCALL   ?XSTACK_DISP0_8
   \   00009C   E0           MOVX    A,@DPTR
   \   00009D   646D         XRL     A,#0x6d
   \   00009F   7012         JNZ     ??Serial_callBack_5
    241                  {
    242                      ieeeAddr = NLME_GetExtAddr();
   \   0000A1                ; Setup parameters for call to function NLME_GetExtAddr
   \   0000A1   12....       LCALL   ??NLME_GetExtAddr?relay
   \   0000A4   90....       MOV     DPTR,#ieeeAddr
   \   0000A7   EA           MOV     A,R2
   \   0000A8   F0           MOVX    @DPTR,A
   \   0000A9   A3           INC     DPTR
   \   0000AA   EB           MOV     A,R3
   \   0000AB   F0           MOVX    @DPTR,A
    243                      UART_Send_String( ieeeAddr, 8);
   \   0000AC                ; Setup parameters for call to function UART_Send_String
   \   0000AC   7C08         MOV     R4,#0x8
   \   0000AE   7D00         MOV     R5,#0x0
   \   0000B0   12....       LCALL   ??UART_Send_String?relay
    244                      
    245                  }
    246                  
    247                  if( buff[0] ==0xc0) // coordinator 
   \                     ??Serial_callBack_5:
   \   0000B3   7402         MOV     A,#0x2
   \   0000B5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B8   E0           MOVX    A,@DPTR
   \   0000B9   64C0         XRL     A,#0xc0
   \   0000BB   704F         JNZ     ??Serial_callBack_6
    248                  {
    249                    /*
    250                    cb_ReadConfiguration( ZCD_NV_LOGICAL_TYPE, sizeof(uint8), &logicalType );   
    251                    if ( logicalType != ZG_DEVICETYPE_ENDDEVICE )   
    252                    {   
    253                      logicalType = ZG_DEVICETYPE_COORDINATOR;   
    254                      cb_WriteConfiguration(ZCD_NV_LOGICAL_TYPE, sizeof(uint8), &logicalType);   
    255                    }
    256                    
    257          //          zgWriteStartupOptions (ZG_STARTUP_SET, 0x02);
    258                    
    259           //         zgInit();
    260          //          ZDOInitDevice( 0 );
    261          //          SystemReset();           
    262                    */
    263                    osal_nv_item_init( ZCD_NV_LOGICAL_TYPE, sizeof(logicalType), &logicalType );
   \   0000BD                ; Setup parameters for call to function osal_nv_item_init
   \   0000BD   85..82       MOV     DPL,?XSP + 0
   \   0000C0   85..83       MOV     DPH,?XSP + 1
   \   0000C3   8582..       MOV     ?V0 + 0,DPL
   \   0000C6   8583..       MOV     ?V0 + 1,DPH
   \   0000C9   78..         MOV     R0,#?V0 + 0
   \   0000CB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000CE   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_40:
   \   0000D1   12....       LCALL   ?DEALLOC_XSTACK8
    264                    logicalType = ZG_DEVICETYPE_COORDINATOR;
   \   0000D4   85..82       MOV     DPL,?XSP + 0
   \   0000D7   85..83       MOV     DPH,?XSP + 1
   \   0000DA   E4           CLR     A
   \   0000DB   F0           MOVX    @DPTR,A
    265                    if( osal_nv_write( ZCD_NV_LOGICAL_TYPE, 0 ,sizeof(logicalType), &logicalType) != ZSUCCESS)
   \   0000DC                ; Setup parameters for call to function osal_nv_write
   \   0000DC   78..         MOV     R0,#?V0 + 0
   \   0000DE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000E1   75..01       MOV     ?V0 + 0,#0x1
   \   0000E4   75..00       MOV     ?V0 + 1,#0x0
   \   0000E7   78..         MOV     R0,#?V0 + 0
   \   0000E9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000EC   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_50:
   \   0000EF   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000F2   E9           MOV     A,R1
   \   0000F3   600A         JZ      ??Serial_callBack_7
    266                    {
    267                      uprint("set device to coordi failed");
   \   0000F5                ; Setup parameters for call to function uprint
   \   0000F5   7A..         MOV     R2,#`?<Constant "set device to coordi ...">` & 0xff
   \   0000F7   7B..         MOV     R3,#(`?<Constant "set device to coordi ...">` >> 8) & 0xff
   \                     ??Serial_callBack_8:
   \   0000F9   12....       LCALL   ??uprint?relay
   \   0000FC   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
    268                    }else
    269                    {
    270                      zgWriteStartupOptions (ZG_STARTUP_SET, ZCD_STARTOPT_DEFAULT_NETWORK_STATE);
   \                     ??Serial_callBack_7:
   \   0000FF                ; Setup parameters for call to function zgWriteStartupOptions
   \   0000FF   7A02         MOV     R2,#0x2
   \   000101   79FF         MOV     R1,#-0x1
   \   000103   12....       LCALL   ??zgWriteStartupOptions?relay
    271                      uprint("set device to coordi,restart it");
   \   000106                ; Setup parameters for call to function uprint
   \   000106   7A..         MOV     R2,#`?<Constant "set device to coordi,...">` & 0xff
   \   000108   7B..         MOV     R3,#(`?<Constant "set device to coordi,...">` >> 8) & 0xff
   \   00010A   80ED         SJMP    ??Serial_callBack_8
    272                    }         
    273                    return;
    274                  }
    275          
    276                  if( buff[0] ==0xe0) // router
   \                     ??Serial_callBack_6:
   \   00010C   E0           MOVX    A,@DPTR
   \   00010D   64E0         XRL     A,#0xe0
   \   00010F   704C         JNZ     ??Serial_callBack_9
    277                  {
    278                    osal_nv_item_init( ZCD_NV_LOGICAL_TYPE, sizeof(logicalType), &logicalType );
   \   000111                ; Setup parameters for call to function osal_nv_item_init
   \   000111   85..82       MOV     DPL,?XSP + 0
   \   000114   85..83       MOV     DPH,?XSP + 1
   \   000117   8582..       MOV     ?V0 + 0,DPL
   \   00011A   8583..       MOV     ?V0 + 1,DPH
   \   00011D   78..         MOV     R0,#?V0 + 0
   \   00011F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000122   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_41:
   \   000125   12....       LCALL   ?DEALLOC_XSTACK8
    279                    logicalType = ZG_DEVICETYPE_ROUTER;
   \   000128   85..82       MOV     DPL,?XSP + 0
   \   00012B   85..83       MOV     DPH,?XSP + 1
   \   00012E   7401         MOV     A,#0x1
   \   000130   F0           MOVX    @DPTR,A
    280                    if( osal_nv_write( ZCD_NV_LOGICAL_TYPE, 0 ,sizeof(logicalType), &logicalType) != ZSUCCESS)
   \   000131                ; Setup parameters for call to function osal_nv_write
   \   000131   78..         MOV     R0,#?V0 + 0
   \   000133   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000136   75..01       MOV     ?V0 + 0,#0x1
   \   000139   75..00       MOV     ?V0 + 1,#0x0
   \   00013C   78..         MOV     R0,#?V0 + 0
   \   00013E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000141   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_51:
   \   000144   12....       LCALL   ?DEALLOC_XSTACK8
   \   000147   E9           MOV     A,R1
   \   000148   6006         JZ      ??Serial_callBack_10
    281                    {
    282                      uprint("set device to router failed");
   \   00014A                ; Setup parameters for call to function uprint
   \   00014A   7A..         MOV     R2,#`?<Constant "set device to router ...">` & 0xff
   \   00014C   7B..         MOV     R3,#(`?<Constant "set device to router ...">` >> 8) & 0xff
   \                     ??Serial_callBack_11:
   \   00014E   80A9         SJMP    ??Serial_callBack_8
    283                    }else
    284                    {
    285                      zgWriteStartupOptions (ZG_STARTUP_SET, ZCD_STARTOPT_DEFAULT_NETWORK_STATE);
   \                     ??Serial_callBack_10:
   \   000150                ; Setup parameters for call to function zgWriteStartupOptions
   \   000150   7A02         MOV     R2,#0x2
   \   000152   79FF         MOV     R1,#-0x1
   \   000154   12....       LCALL   ??zgWriteStartupOptions?relay
    286                      uprint("set device to router,restart it");
   \   000157                ; Setup parameters for call to function uprint
   \   000157   7A..         MOV     R2,#`?<Constant "set device to router,...">` & 0xff
   \   000159   7B..         MOV     R3,#(`?<Constant "set device to router,...">` >> 8) & 0xff
   \   00015B   809C         SJMP    ??Serial_callBack_8
    287                    }
    288                    
    289          //          zgWriteStartupOptions (ZG_STARTUP_SET, 0x02);
    290          //          zgInit();
    291          //          ZDOInitDevice( 0 );
    292          //          SystemReset();   
    293                    return;
    294                  }
    295          
    296                  if( buff[0] ==0xe1) // end device
   \                     ??Serial_callBack_9:
   \   00015D   E0           MOVX    A,@DPTR
   \   00015E   64E1         XRL     A,#0xe1
   \   000160   704D         JNZ     ??Serial_callBack_12
    297                  {
    298                    osal_nv_item_init( ZCD_NV_LOGICAL_TYPE, sizeof(logicalType), &logicalType );
   \   000162                ; Setup parameters for call to function osal_nv_item_init
   \   000162   85..82       MOV     DPL,?XSP + 0
   \   000165   85..83       MOV     DPH,?XSP + 1
   \   000168   8582..       MOV     ?V0 + 0,DPL
   \   00016B   8583..       MOV     ?V0 + 1,DPH
   \   00016E   78..         MOV     R0,#?V0 + 0
   \   000170   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000173   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_42:
   \   000176   12....       LCALL   ?DEALLOC_XSTACK8
    299                    logicalType = ZG_DEVICETYPE_ENDDEVICE;
   \   000179   85..82       MOV     DPL,?XSP + 0
   \   00017C   85..83       MOV     DPH,?XSP + 1
   \   00017F   7402         MOV     A,#0x2
   \   000181   F0           MOVX    @DPTR,A
    300                    if( osal_nv_write( ZCD_NV_LOGICAL_TYPE, 0 ,sizeof(logicalType), &logicalType) != ZSUCCESS)
   \   000182                ; Setup parameters for call to function osal_nv_write
   \   000182   78..         MOV     R0,#?V0 + 0
   \   000184   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000187   75..01       MOV     ?V0 + 0,#0x1
   \   00018A   75..00       MOV     ?V0 + 1,#0x0
   \   00018D   78..         MOV     R0,#?V0 + 0
   \   00018F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000192   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_52:
   \   000195   12....       LCALL   ?DEALLOC_XSTACK8
   \   000198   E9           MOV     A,R1
   \   000199   6006         JZ      ??Serial_callBack_13
    301                    {
    302                      uprint("set device to end device failed");
   \   00019B                ; Setup parameters for call to function uprint
   \   00019B   7A..         MOV     R2,#`?<Constant "set device to end dev...">` & 0xff
   \   00019D   7B..         MOV     R3,#(`?<Constant "set device to end dev...">` >> 8) & 0xff
   \   00019F   80AD         SJMP    ??Serial_callBack_11
    303                    }else
    304                    {
    305                      zgWriteStartupOptions (ZG_STARTUP_SET, ZCD_STARTOPT_DEFAULT_NETWORK_STATE);
   \                     ??Serial_callBack_13:
   \   0001A1                ; Setup parameters for call to function zgWriteStartupOptions
   \   0001A1   7A02         MOV     R2,#0x2
   \   0001A3   79FF         MOV     R1,#-0x1
   \   0001A5   12....       LCALL   ??zgWriteStartupOptions?relay
    306                      uprint("set device to end device,restart it");
   \   0001A8                ; Setup parameters for call to function uprint
   \   0001A8   7A..         MOV     R2,#`?<Constant "set device to end dev...">_1` & 0xff
   \   0001AA   7B..         MOV     R3,#(`?<Constant "set device to end dev...">_1` >> 8) & 0xff
   \   0001AC   02....       LJMP    ??Serial_callBack_8 & 0xFFFF
    307                    }
    308                    return;
    309                  }
    310                  
    311                  if(buff[0] == 0xCA)
   \                     ??Serial_callBack_12:
   \   0001AF   E0           MOVX    A,@DPTR
   \   0001B0   64CA         XRL     A,#0xca
   \   0001B2   6003         JZ      $+5
   \   0001B4   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
    312                  {
    313                    // 
    314                    // read self AssociatedDevList
    315                    yy1 = 1;
   \   0001B7   7E01         MOV     R6,#0x1
    316                    for(i=0;i< NWK_MAX_DEVICES; i++)
   \   0001B9   7C00         MOV     R4,#0x0
    317                    {
    318                       nr = AssociatedDevList[ i ].nodeRelation;
    319                       //if(nr > 0 && nr < 5) //CHILD_RFD CHILD_RFD_RX_IDLE CHILD_FFD CHILD_FFD_RX_IDLE
    320                       if( nr != 0XFF)
   \                     ??Serial_callBack_14:
   \   0001BB   EC           MOV     A,R4
   \   0001BC   75F012       MOV     B,#0x12
   \   0001BF   A4           MUL     AB
   \   0001C0   F8           MOV     R0,A
   \   0001C1   A9F0         MOV     R1,B
   \   0001C3   74..         MOV     A,#(AssociatedDevList + 4) & 0xff
   \   0001C5   28           ADD     A,R0
   \   0001C6   F582         MOV     DPL,A
   \   0001C8   74..         MOV     A,#((AssociatedDevList + 4) >> 8) & 0xff
   \   0001CA   39           ADDC    A,R1
   \   0001CB   F583         MOV     DPH,A
   \   0001CD   E0           MOVX    A,@DPTR
   \   0001CE   F4           CPL     A
   \   0001CF   6026         JZ      ??Serial_callBack_15
    321                       {
    322                         //   myaddr.addrMode = (afAddrMode_t)Addr16Bit;
    323                         //   myaddr.endPoint = GENERICAPP_ENDPOINT;
    324                       //  if( AssociatedDevList[ i ].shortAddr != 0x0000)
    325                       //  {
    326                            //if( AssocIsChild( AssociatedDevList[ i ].shortAddr ) != 1 || AssociatedDevList[ i ].age > NWK_ROUTE_AGE_LIMIT)
    327                            //if( AssocIsChild( AssociatedDevList[ i ].shortAddr ) == 1 && AssociatedDevList[ i ].age > NWK_ROUTE_AGE_LIMIT )
    328                           // {
    329                              //  myaddr.addr.shortAddr = AssociatedDevList[ i ].shortAddr;
    330                                /*
    331                                if ( AF_DataRequest( &myaddr, &GenericApp_epDesc, GENERICAPP_CLUSTERID,(byte)osal_strlen( theMessageData ) + 1,
    332                                        (byte *)&theMessageData,
    333                                        &GenericApp_TransID,
    334                                        AF_ACK_REQUEST, AF_DEFAULT_RADIUS ) != afStatus_SUCCESS )
    335                                  {
    336                                    uprint("delete asso");
    337                                  */
    338                             //       delete_asso( AssociatedDevList[ i ]. addrIdx);
    339                                    
    340                            // }
    341                              //    else
    342                               //   {
    343                                  //  if( ZDSecMgrAuthenticationCheck(AssociatedDevList[ i ].shortAddr) == TRUE)
    344                                    {
    345                                      devlist[yy1] = AssociatedDevList[ i ].shortAddr;
   \   0001D1   74..         MOV     A,#AssociatedDevList & 0xff
   \   0001D3   28           ADD     A,R0
   \   0001D4   F582         MOV     DPL,A
   \   0001D6   74..         MOV     A,#(AssociatedDevList >> 8) & 0xff
   \   0001D8   39           ADDC    A,R1
   \   0001D9   F583         MOV     DPH,A
   \   0001DB   E0           MOVX    A,@DPTR
   \   0001DC   FA           MOV     R2,A
   \   0001DD   A3           INC     DPTR
   \   0001DE   E0           MOVX    A,@DPTR
   \   0001DF   FB           MOV     R3,A
   \   0001E0   EE           MOV     A,R6
   \   0001E1   C3           CLR     C
   \   0001E2   33           RLC     A
   \   0001E3   F8           MOV     R0,A
   \   0001E4   E4           CLR     A
   \   0001E5   33           RLC     A
   \   0001E6   F9           MOV     R1,A
   \   0001E7   74..         MOV     A,#devlist & 0xff
   \   0001E9   28           ADD     A,R0
   \   0001EA   F582         MOV     DPL,A
   \   0001EC   74..         MOV     A,#(devlist >> 8) & 0xff
   \   0001EE   39           ADDC    A,R1
   \   0001EF   F583         MOV     DPH,A
   \   0001F1   EA           MOV     A,R2
   \   0001F2   F0           MOVX    @DPTR,A
   \   0001F3   A3           INC     DPTR
   \   0001F4   EB           MOV     A,R3
   \   0001F5   F0           MOVX    @DPTR,A
    346                                      yy1++;
   \   0001F6   0E           INC     R6
    347                                    }
    348                               //   }
    349                            
    350                            // }
    351                       }//else {break;}
    352                    }
   \                     ??Serial_callBack_15:
   \   0001F7   0C           INC     R4
   \   0001F8   EC           MOV     A,R4
   \   0001F9   C3           CLR     C
   \   0001FA   9415         SUBB    A,#0x15
   \   0001FC   40BD         JC      ??Serial_callBack_14
    353                    devlist[0] = BUILD_UINT16(0xce,  AssocCount( PARENT, CHILD_FFD_RX_IDLE ) );
   \   0001FE                ; Setup parameters for call to function AssocCount
   \   0001FE   7A04         MOV     R2,#0x4
   \   000200   7900         MOV     R1,#0x0
   \   000202   12....       LCALL   ??AssocCount?relay
   \   000205   EA           MOV     A,R2
   \   000206   FB           MOV     R3,A
   \   000207   E4           CLR     A
   \   000208   24CE         ADD     A,#-0x32
   \   00020A   EB           MOV     A,R3
   \   00020B   F9           MOV     R1,A
   \   00020C   90....       MOV     DPTR,#devlist
   \   00020F   74CE         MOV     A,#-0x32
   \   000211   12....       LCALL   ??Subroutine21_0 & 0xFFFF
    354                    ///devlist[0] = BUILD_UINT16(0xce,  yy1-1 );
    355                    UART_Send_String( (uint8*)&devlist[0], yy1*2);
   \                     ??CrossCallReturnLabel_44:
   \   000214                ; Setup parameters for call to function UART_Send_String
   \   000214   EE           MOV     A,R6
   \   000215   33           RLC     A
   \   000216   FC           MOV     R4,A
   \   000217   E4           CLR     A
   \   000218   33           RLC     A
   \   000219   FD           MOV     R5,A
   \   00021A   7A..         MOV     R2,#devlist & 0xff
   \   00021C   7B..         MOV     R3,#(devlist >> 8) & 0xff
   \   00021E   12....       LCALL   ??UART_Send_String?relay
    356                      //p1 = AssocMakeList( &cnt );
    357                      //UART_Send_String( (uint8*)p1,  AssocCount(1, 4)*2);
    358                      //osal_mem_free(p1);
    359                    return;
   \   000221   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
    360                  }
    361              }
    362              
    363              
    364                if(readBytes == 6)
   \                     ??Serial_callBack_1:
   \   000224   7406         MOV     A,#0x6
   \   000226   65..         XRL     A,?V0 + 0
   \   000228   6003         JZ      $+5
   \   00022A   02....       LJMP    ??Serial_callBack_16 & 0xFFFF
    365                {
    366                  if(buff[0] == 'p' && buff[1]==':') // pan id
   \   00022D   7402         MOV     A,#0x2
   \   00022F   12....       LCALL   ?XSTACK_DISP0_8
   \   000232   E0           MOVX    A,@DPTR
   \   000233   6470         XRL     A,#0x70
   \   000235   6003         JZ      $+5
   \   000237   02....       LJMP    ??Serial_callBack_17 & 0xFFFF
   \   00023A   7403         MOV     A,#0x3
   \   00023C   12....       LCALL   ?XSTACK_DISP0_8
   \   00023F   E0           MOVX    A,@DPTR
   \   000240   643A         XRL     A,#0x3a
   \   000242   6003         JZ      $+5
   \   000244   02....       LJMP    ??Serial_callBack_18 & 0xFFFF
    367                  {
    368                     // NLME_SetDefaultNV();
    369                      strncpy(pbuf, &buff[2],2); pbuf[2] = '\0';
                                           ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000247                ; Setup parameters for call to function strncpy
   \   000247   75..02       MOV     ?V0 + 2,#0x2
   \   00024A   75..00       MOV     ?V0 + 3,#0x0
   \   00024D   78..         MOV     R0,#?V0 + 2
   \   00024F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000252   7406         MOV     A,#0x6
   \   000254   12....       LCALL   ?XSTACK_DISP0_8
   \   000257   AC82         MOV     R4,DPL
   \   000259   AD83         MOV     R5,DPH
   \   00025B   7427         MOV     A,#0x27
   \   00025D   12....       LCALL   ?XSTACK_DISP0_8
   \   000260   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   000263   12....       LCALL   ?DEALLOC_XSTACK8
   \   000266   7427         MOV     A,#0x27
   \   000268   12....       LCALL   ?XSTACK_DISP0_8
   \   00026B   E4           CLR     A
   \   00026C   F0           MOVX    @DPTR,A
    370                      strncpy(pbuf1, &buff[4],2); pbuf1[2] = '\0';
                                            ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   00026D                ; Setup parameters for call to function strncpy
   \   00026D   78..         MOV     R0,#?V0 + 2
   \   00026F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000272   7408         MOV     A,#0x8
   \   000274   12....       LCALL   ?XSTACK_DISP0_8
   \   000277   AC82         MOV     R4,DPL
   \   000279   AD83         MOV     R5,DPH
   \   00027B   7424         MOV     A,#0x24
   \   00027D   12....       LCALL   ?XSTACK_DISP0_8
   \   000280   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_29:
   \   000283   12....       LCALL   ?DEALLOC_XSTACK8
   \   000286   7424         MOV     A,#0x24
   \   000288   12....       LCALL   ?XSTACK_DISP0_8
   \   00028B   E4           CLR     A
   \   00028C   F0           MOVX    @DPTR,A
    371                      
    372                      set_panid( BUILD_UINT16( strtol(pbuf1,NULL,16),strtol(pbuf,NULL,16) ));
   \   00028D                ; Setup parameters for call to function strtol
   \   00028D   75..10       MOV     ?V0 + 2,#0x10
   \   000290   78..         MOV     R0,#?V0 + 2
   \   000292   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000295   7C00         MOV     R4,#0x0
   \   000297   7D00         MOV     R5,#0x0
   \   000299   7424         MOV     A,#0x24
   \   00029B   12....       LCALL   ?XSTACK_DISP0_8
   \   00029E   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_32:
   \   0002A1   12....       LCALL   ?DEALLOC_XSTACK8
   \   0002A4                ; Setup parameters for call to function set_panid
   \   0002A4   EA           MOV     A,R2
   \   0002A5   FE           MOV     R6,A
   \   0002A6                ; Setup parameters for call to function strtol
   \   0002A6   78..         MOV     R0,#?V0 + 2
   \   0002A8   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002AB   7C00         MOV     R4,#0x0
   \   0002AD   7D00         MOV     R5,#0x0
   \   0002AF   7427         MOV     A,#0x27
   \   0002B1   12....       LCALL   ?XSTACK_DISP0_8
   \   0002B4   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_33:
   \   0002B7   12....       LCALL   ?DEALLOC_XSTACK8
   \   0002BA   EA           MOV     A,R2
   \   0002BB   F5..         MOV     ?V0 + 5,A
   \   0002BD   EE           MOV     A,R6
   \   0002BE   2400         ADD     A,#0x0
   \   0002C0   FA           MOV     R2,A
   \   0002C1   E4           CLR     A
   \   0002C2   35..         ADDC    A,?V0 + 5
   \   0002C4   FB           MOV     R3,A
   \   0002C5   12....       LCALL   ??set_panid?relay
    373                      
    374                      //_NIB.nwkPanId = BUILD_UINT16( strtol(pbuf1,NULL,16),strtol(pbuf,NULL,16));
    375          
    376                      
    377          //            NLME_UpdateNV(0x01);
    378                      
    379                      /*
    380                      ZAddr.addr.shortAddr = NLME_GetShortAddr();
    381                      ZAddr.addrMode = Addr16Bit;
    382                      ZDP_MgmtLeaveReq( &ZAddr, NLME_GetExtAddr(), 0 ); 
    383                      */
    384                      
    385                      
    386                      if(_NIB.nwkPanId == 0xffff)
   \   0002C8   90....       MOV     DPTR,#_NIB + 33
   \   0002CB   E0           MOVX    A,@DPTR
   \   0002CC   F4           CPL     A
   \   0002CD   7003         JNZ     ??Serial_callBack_19
   \   0002CF   A3           INC     DPTR
   \   0002D0   E0           MOVX    A,@DPTR
   \   0002D1   F4           CPL     A
   \                     ??Serial_callBack_19:
   \   0002D2   7013         JNZ     ??Serial_callBack_17
    387                      {
    388                        zgWriteStartupOptions (ZG_STARTUP_SET, ZCD_STARTOPT_DEFAULT_NETWORK_STATE);
   \   0002D4                ; Setup parameters for call to function zgWriteStartupOptions
   \   0002D4   7A02         MOV     R2,#0x2
   \   0002D6   79FF         MOV     R1,#-0x1
   \   0002D8   12....       LCALL   ??zgWriteStartupOptions?relay
    389                        
    390                        /*
    391                        if( _NIB.nwkLogicalChannel == 0x0b )
    392                        {
    393                          zgDefaultChannelList = 0x00000800;  
    394                        } 
    395                        if ( _NIB.nwkLogicalChannel == 0x0c )
    396                        {
    397                          zgDefaultChannelList = 0x00001000;
    398                        }
    399                        */
    400                        /*
    401                        osal_nv_item_init( ZCD_NV_CHANLIST, sizeof(zgDefaultChannelList), &zgDefaultChannelList);
    402                        osal_nv_read(  ZCD_NV_CHANLIST, 0, sizeof(zgDefaultChannelList), &zgDefaultChannelList);
    403                        
    404                        UART_Send_String( (uint8*)&zgDefaultChannelList, sizeof(zgDefaultChannelList) );
    405                        */
    406                        //ZDOInitDevice( 0 );
    407                        
    408                        /*
    409                        if ( ZG_BUILD_COORDINATOR_TYPE && logicalType == NODETYPE_COORDINATOR )
    410                        {
    411                         // if( 
    412                          NLME_NetworkFormationRequest( zgConfigPANID, zgApsUseExtendedPANID, _NIB.nwkLogicalChannel,
    413                                                         zgDefaultStartingScanDuration, BEACON_ORDER_NO_BEACONS , BEACON_ORDER_NO_BEACONS,false);
    414                          //NLME_StartRouterRequest( BEACON_ORDER_NO_BEACONS, BEACON_ORDER_NO_BEACONS, false );
    415                        }
    416                        if ( ZG_BUILD_JOINING_TYPE && (logicalType == NODETYPE_ROUTER || logicalType == NODETYPE_DEVICE) )
    417                        {
    418                          NLME_NetworkDiscoveryRequest( _NIB.nwkLogicalChannel, zgDefaultStartingScanDuration );
    419                          uprint("researching");
    420                        }
    421                        */
    422                        // after reset, search and join new network
    423                      
    424                        SystemReset();
   \   0002DB   C2AF         CLR     0xa8.7
   \   0002DD   C2AF         CLR     0xa8.7
   \   0002DF   75C9AB       MOV     0xc9,#-0x55
   \   0002E2   75C95B       MOV     0xc9,#0x5b
   \                     ??Serial_callBack_20:
   \   0002E5   80FE         SJMP    ??Serial_callBack_20
    425                      }
    426                      
    427                  }
    428                  
    429                  if(buff[0] == 's' && buff[1]==':') // short address
   \                     ??Serial_callBack_17:
   \   0002E7   7402         MOV     A,#0x2
   \   0002E9   12....       LCALL   ?XSTACK_DISP0_8
   \   0002EC   E0           MOVX    A,@DPTR
   \   0002ED   6473         XRL     A,#0x73
   \   0002EF   6003         JZ      $+5
   \   0002F1   02....       LJMP    ??Serial_callBack_18 & 0xFFFF
   \   0002F4   7403         MOV     A,#0x3
   \   0002F6   12....       LCALL   ?XSTACK_DISP0_8
   \   0002F9   E0           MOVX    A,@DPTR
   \   0002FA   643A         XRL     A,#0x3a
   \   0002FC   6003         JZ      $+5
   \   0002FE   02....       LJMP    ??Serial_callBack_18 & 0xFFFF
    430                  {
    431                      strncpy(pbuf, &buff[2],2); pbuf[2] = '\0';
                                           ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000301                ; Setup parameters for call to function strncpy
   \   000301   75..02       MOV     ?V0 + 2,#0x2
   \   000304   75..00       MOV     ?V0 + 3,#0x0
   \   000307   78..         MOV     R0,#?V0 + 2
   \   000309   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00030C   7406         MOV     A,#0x6
   \   00030E   12....       LCALL   ?XSTACK_DISP0_8
   \   000311   AC82         MOV     R4,DPL
   \   000313   AD83         MOV     R5,DPH
   \   000315   7427         MOV     A,#0x27
   \   000317   12....       LCALL   ?XSTACK_DISP0_8
   \   00031A   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_30:
   \   00031D   12....       LCALL   ?DEALLOC_XSTACK8
   \   000320   7427         MOV     A,#0x27
   \   000322   12....       LCALL   ?XSTACK_DISP0_8
   \   000325   E4           CLR     A
   \   000326   F0           MOVX    @DPTR,A
    432                      strncpy(pbuf1, &buff[4],2); pbuf1[2] = '\0';
                                            ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000327                ; Setup parameters for call to function strncpy
   \   000327   78..         MOV     R0,#?V0 + 2
   \   000329   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00032C   7408         MOV     A,#0x8
   \   00032E   12....       LCALL   ?XSTACK_DISP0_8
   \   000331   AC82         MOV     R4,DPL
   \   000333   AD83         MOV     R5,DPH
   \   000335   7424         MOV     A,#0x24
   \   000337   12....       LCALL   ?XSTACK_DISP0_8
   \   00033A   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_31:
   \   00033D   12....       LCALL   ?DEALLOC_XSTACK8
   \   000340   7424         MOV     A,#0x24
   \   000342   12....       LCALL   ?XSTACK_DISP0_8
   \   000345   E4           CLR     A
   \   000346   F0           MOVX    @DPTR,A
    433                      _NIB.nwkDevAddress = BUILD_UINT16( strtol(pbuf1,NULL,16),strtol(pbuf,NULL,16));
   \   000347                ; Setup parameters for call to function strtol
   \   000347   75..10       MOV     ?V0 + 2,#0x10
   \   00034A   78..         MOV     R0,#?V0 + 2
   \   00034C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00034F   7C00         MOV     R4,#0x0
   \   000351   7D00         MOV     R5,#0x0
   \   000353   7424         MOV     A,#0x24
   \   000355   12....       LCALL   ?XSTACK_DISP0_8
   \   000358   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_34:
   \   00035B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00035E   EA           MOV     A,R2
   \   00035F   FE           MOV     R6,A
   \   000360                ; Setup parameters for call to function strtol
   \   000360   78..         MOV     R0,#?V0 + 2
   \   000362   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000365   7C00         MOV     R4,#0x0
   \   000367   7D00         MOV     R5,#0x0
   \   000369   7427         MOV     A,#0x27
   \   00036B   12....       LCALL   ?XSTACK_DISP0_8
   \   00036E   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_35:
   \   000371   12....       LCALL   ?DEALLOC_XSTACK8
   \   000374   EA           MOV     A,R2
   \   000375   F5..         MOV     ?V0 + 5,A
   \   000377   EE           MOV     A,R6
   \   000378   2400         ADD     A,#0x0
   \   00037A   F8           MOV     R0,A
   \   00037B   E4           CLR     A
   \   00037C   35..         ADDC    A,?V0 + 5
   \   00037E   F9           MOV     R1,A
   \   00037F   90....       MOV     DPTR,#_NIB + 20
   \   000382   12....       LCALL   ?Subroutine18 & 0xFFFF
    434                      NLME_UpdateNV(0x01);
   \                     ??CrossCallReturnLabel_46:
   \   000385                ; Setup parameters for call to function NLME_UpdateNV
   \   000385   7901         MOV     R1,#0x1
   \   000387   12....       LCALL   ??NLME_UpdateNV?relay
    435                      //SystemResetSoft();
    436                      
    437                  }
    438                  
    439                  if( strstr(buff, "nwkkey")  )
                                    ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \                     ??Serial_callBack_18:
   \   00038A                ; Setup parameters for call to function strstr
   \   00038A   7C..         MOV     R4,#`?<Constant "nwkkey">` & 0xff
   \   00038C   7D..         MOV     R5,#(`?<Constant "nwkkey">` >> 8) & 0xff
   \   00038E   7402         MOV     A,#0x2
   \   000390   12....       LCALL   ?XSTACK_DISP0_8
   \   000393   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   000396   7003         JNZ     $+5
   \   000398   02....       LJMP    ??Serial_callBack_21 & 0xFFFF
    440                  {
    441                    if ( osal_nv_read( ZCD_NV_NWKKEY, 0, sizeof(nwkActiveKeyItems), (void*)&keyItems ) ==   ZSUCCESS )
   \   00039B                ; Setup parameters for call to function osal_nv_read
   \   00039B   7431         MOV     A,#0x31
   \   00039D   12....       LCALL   ?XSTACK_DISP0_8
   \   0003A0   8582..       MOV     ?V0 + 2,DPL
   \   0003A3   8583..       MOV     ?V0 + 3,DPH
   \   0003A6   78..         MOV     R0,#?V0 + 2
   \   0003A8   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003AB   75..15       MOV     ?V0 + 2,#0x15
   \   0003AE   75..00       MOV     ?V0 + 3,#0x0
   \   0003B1   78..         MOV     R0,#?V0 + 2
   \   0003B3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003B6   7C00         MOV     R4,#0x0
   \   0003B8   7D00         MOV     R5,#0x0
   \   0003BA   7A82         MOV     R2,#-0x7e
   \   0003BC   7B00         MOV     R3,#0x0
   \   0003BE   12....       LCALL   ??osal_nv_read?relay
   \   0003C1   7404         MOV     A,#0x4
   \   0003C3   12....       LCALL   ?DEALLOC_XSTACK8
   \   0003C6   E9           MOV     A,R1
   \   0003C7   7012         JNZ     ??Serial_callBack_22
    442                    {
    443                      UART_Send_String( keyItems.active.key, SEC_KEY_LEN);
   \   0003C9                ; Setup parameters for call to function UART_Send_String
   \   0003C9   7C10         MOV     R4,#0x10
   \   0003CB   7D00         MOV     R5,#0x0
   \   0003CD   7432         MOV     A,#0x32
   \   0003CF   12....       LCALL   ?XSTACK_DISP0_8
   \   0003D2   AA82         MOV     R2,DPL
   \   0003D4   AB83         MOV     R3,DPH
   \   0003D6   12....       LCALL   ??UART_Send_String?relay
   \   0003D9   8042         SJMP    ??Serial_callBack_21
    444                    }else
    445                    {
    446                      uprint("osal nv read nwkkey error");
   \                     ??Serial_callBack_22:
   \   0003DB                ; Setup parameters for call to function uprint
   \   0003DB   7A..         MOV     R2,#`?<Constant "osal nv read nwkkey e...">` & 0xff
   \   0003DD   7B..         MOV     R3,#(`?<Constant "osal nv read nwkkey e...">` >> 8) & 0xff
   \                     ??Serial_callBack_23:
   \   0003DF   12....       LCALL   ??uprint?relay
   \   0003E2   8039         SJMP    ??Serial_callBack_21
    447                    }
    448                  }
    449                }
    450              
    451              if( readBytes == 21 )
   \                     ??Serial_callBack_16:
   \   0003E4   7415         MOV     A,#0x15
   \   0003E6   65..         XRL     A,?V0 + 0
   \   0003E8   702A         JNZ     ??Serial_callBack_24
    452              {
    453                
    454                if(strstr(buff, "pass:"))
                                 ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   0003EA                ; Setup parameters for call to function strstr
   \   0003EA   7C..         MOV     R4,#`?<Constant "pass:">` & 0xff
   \   0003EC   7D..         MOV     R5,#(`?<Constant "pass:">` >> 8) & 0xff
   \   0003EE   7402         MOV     A,#0x2
   \   0003F0   12....       LCALL   ?XSTACK_DISP0_8
   \   0003F3   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   0003F6   6025         JZ      ??Serial_callBack_21
    455                {
    456          #if defined (SECURE)
    457                    SSP_UpdateNwkKey( (byte*)(buff+5), 0);
   \   0003F8                ; Setup parameters for call to function SSP_UpdateNwkKey
   \   0003F8   7900         MOV     R1,#0x0
   \   0003FA   7407         MOV     A,#0x7
   \   0003FC   12....       LCALL   ?XSTACK_DISP0_8
   \   0003FF   AA82         MOV     R2,DPL
   \   000401   AB83         MOV     R3,DPH
   \   000403   12....       LCALL   ??SSP_UpdateNwkKey?relay
    458                    SSP_SwitchNwkKey( 0 );
   \   000406                ; Setup parameters for call to function SSP_SwitchNwkKey
   \   000406   7900         MOV     R1,#0x0
   \   000408   12....       LCALL   ??SSP_SwitchNwkKey?relay
    459          	  ZDApp_NVUpdate();
   \   00040B                ; Setup parameters for call to function ZDApp_NVUpdate
   \   00040B   12....       LCALL   ??ZDApp_NVUpdate?relay
    460                    uprint("change key");
   \   00040E                ; Setup parameters for call to function uprint
   \   00040E   7A..         MOV     R2,#`?<Constant "change key">` & 0xff
   \   000410   7B..         MOV     R3,#(`?<Constant "change key">` >> 8) & 0xff
   \   000412   80CB         SJMP    ??Serial_callBack_23
    461          #endif
    462                }
    463              }
    464              
    465              if( readBytes >= 2)
   \                     ??Serial_callBack_24:
   \   000414   EA           MOV     A,R2
   \   000415   C3           CLR     C
   \   000416   9402         SUBB    A,#0x2
   \   000418   5003         JNC     $+5
   \   00041A   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
    466              {
    467                if( buff[0] == 'e' && buff[1] == '#')
   \                     ??Serial_callBack_21:
   \   00041D   7402         MOV     A,#0x2
   \   00041F   12....       LCALL   ?XSTACK_DISP0_8
   \   000422   E0           MOVX    A,@DPTR
   \   000423   6465         XRL     A,#0x65
   \   000425   707D         JNZ     ??Serial_callBack_25
   \   000427   7403         MOV     A,#0x3
   \   000429   12....       LCALL   ?XSTACK_DISP0_8
   \   00042C   E0           MOVX    A,@DPTR
   \   00042D   6423         XRL     A,#0x23
   \   00042F   6003         JZ      $+5
   \   000431   02....       LJMP    ??Serial_callBack_26 & 0xFFFF
    468                {
    469                    uprint("EndDevice match");
   \   000434                ; Setup parameters for call to function uprint
   \   000434   7A..         MOV     R2,#`?<Constant "EndDevice match">` & 0xff
   \   000436   7B..         MOV     R3,#(`?<Constant "EndDevice match">` >> 8) & 0xff
   \   000438   12....       LCALL   ??uprint?relay
    470                    HalLedSet ( HAL_LED_1, HAL_LED_MODE_OFF );
   \   00043B                ; Setup parameters for call to function HalLedSet
   \   00043B   7A00         MOV     R2,#0x0
   \   00043D   7901         MOV     R1,#0x1
   \   00043F   12....       LCALL   ??HalLedSet?relay
    471          
    472                    dstAddr.addrMode = Addr16Bit;
   \   000442   7430         MOV     A,#0x30
   \   000444   12....       LCALL   ?XSTACK_DISP0_8
   \   000447   7402         MOV     A,#0x2
   \   000449   F0           MOVX    @DPTR,A
    473                    dstAddr.addr.shortAddr = 0x0000; // Coordinator
   \   00044A   7428         MOV     A,#0x28
   \   00044C   12....       LCALL   ?XSTACK_DISP0_8
   \   00044F   E4           CLR     A
   \   000450   F0           MOVX    @DPTR,A
   \   000451   A3           INC     DPTR
   \   000452   F0           MOVX    @DPTR,A
    474                    ZDP_EndDeviceBindReq( &dstAddr, NLME_GetShortAddr(), GenericApp_epDesc.endPoint,
    475                                      GENERICAPP_PROFID,
    476                                      GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    477                                      GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    478                                      FALSE );
   \   000453                ; Setup parameters for call to function NLME_GetShortAddr
   \   000453   12....       LCALL   ??NLME_GetShortAddr?relay
   \   000456   8A..         MOV     ?V0 + 2,R2
   \   000458   8B..         MOV     ?V0 + 3,R3
   \   00045A   AC..         MOV     R4,?V0 + 2
   \   00045C   AD..         MOV     R5,?V0 + 3
   \   00045E   75....       MOV     ?V0 + 2,#GenericApp_ClusterList & 0xff
   \   000461   75....       MOV     ?V0 + 3,#(GenericApp_ClusterList >> 8) & 0xff
   \   000464                ; Setup parameters for call to function ZDP_EndDeviceBindReq
   \   000464   75..00       MOV     ?V0 + 1,#0x0
   \   000467   78..         MOV     R0,#?V0 + 1
   \   000469   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00046C   78..         MOV     R0,#?V0 + 2
   \   00046E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000471   75..01       MOV     ?V0 + 1,#0x1
   \   000474   78..         MOV     R0,#?V0 + 1
   \   000476   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000479   78..         MOV     R0,#?V0 + 2
   \   00047B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00047E   78..         MOV     R0,#?V0 + 1
   \   000480   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000483   75..04       MOV     ?V0 + 2,#0x4
   \   000486   75..0F       MOV     ?V0 + 3,#0xf
   \   000489   78..         MOV     R0,#?V0 + 2
   \   00048B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00048E   90....       MOV     DPTR,#GenericApp_epDesc
   \   000491   E0           MOVX    A,@DPTR
   \   000492   F9           MOV     R1,A
   \   000493   7431         MOV     A,#0x31
   \   000495   12....       LCALL   ?XSTACK_DISP0_8
   \   000498   AA82         MOV     R2,DPL
   \   00049A   AB83         MOV     R3,DPH
   \   00049C   12....       LCALL   ??ZDP_EndDeviceBindReq?relay
   \   00049F   7409         MOV     A,#0x9
   \   0004A1   12....       LCALL   ?DEALLOC_XSTACK8
    479                
    480                }
    481           
    482                if( buff[0] == 'r' && buff[1] == '#')
   \                     ??Serial_callBack_25:
   \   0004A4   7402         MOV     A,#0x2
   \   0004A6   12....       LCALL   ?XSTACK_DISP0_8
   \   0004A9   E0           MOVX    A,@DPTR
   \   0004AA   6472         XRL     A,#0x72
   \   0004AC   7065         JNZ     ??Serial_callBack_26
   \   0004AE   7403         MOV     A,#0x3
   \   0004B0   12....       LCALL   ?XSTACK_DISP0_8
   \   0004B3   E0           MOVX    A,@DPTR
   \   0004B4   6423         XRL     A,#0x23
   \   0004B6   705B         JNZ     ??Serial_callBack_26
    483                {
    484                    uprint("Router Device match");
   \   0004B8                ; Setup parameters for call to function uprint
   \   0004B8   7A..         MOV     R2,#`?<Constant "Router Device match">` & 0xff
   \   0004BA   7B..         MOV     R3,#(`?<Constant "Router Device match">` >> 8) & 0xff
   \   0004BC   12....       LCALL   ??uprint?relay
    485                    
    486          //        HalLedSet ( HAL_LED_1, HAL_LED_MODE_FLASH );
    487          
    488                dstAddr.addrMode = AddrBroadcast;
   \   0004BF   7430         MOV     A,#0x30
   \   0004C1   12....       LCALL   ?XSTACK_DISP0_8
   \   0004C4   740F         MOV     A,#0xf
   \   0004C6   F0           MOVX    @DPTR,A
    489                dstAddr.addr.shortAddr = NWK_BROADCAST_SHORTADDR;
   \   0004C7   7428         MOV     A,#0x28
   \   0004C9   12....       LCALL   ?XSTACK_DISP0_8
   \   0004CC   74FF         MOV     A,#-0x1
   \   0004CE   F0           MOVX    @DPTR,A
   \   0004CF   A3           INC     DPTR
   \   0004D0   F0           MOVX    @DPTR,A
    490                ZDP_MatchDescReq( &dstAddr, NWK_BROADCAST_SHORTADDR,
    491                                  GENERICAPP_PROFID,
    492                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    493                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    494                                  FALSE );
   \   0004D1   75....       MOV     ?V0 + 2,#GenericApp_ClusterList & 0xff
   \   0004D4   75....       MOV     ?V0 + 3,#(GenericApp_ClusterList >> 8) & 0xff
   \   0004D7                ; Setup parameters for call to function ZDP_MatchDescReq
   \   0004D7   75..00       MOV     ?V0 + 1,#0x0
   \   0004DA   78..         MOV     R0,#?V0 + 1
   \   0004DC   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0004DF   78..         MOV     R0,#?V0 + 2
   \   0004E1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004E4   75..01       MOV     ?V0 + 1,#0x1
   \   0004E7   78..         MOV     R0,#?V0 + 1
   \   0004E9   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0004EC   78..         MOV     R0,#?V0 + 2
   \   0004EE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004F1   75..04       MOV     ?V0 + 2,#0x4
   \   0004F4   75..0F       MOV     ?V0 + 3,#0xf
   \   0004F7   78..         MOV     R0,#?V0 + 2
   \   0004F9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004FC   7901         MOV     R1,#0x1
   \   0004FE   7CFF         MOV     R4,#-0x1
   \   000500   7DFF         MOV     R5,#-0x1
   \   000502   7430         MOV     A,#0x30
   \   000504   12....       LCALL   ?XSTACK_DISP0_8
   \   000507   AA82         MOV     R2,DPL
   \   000509   AB83         MOV     R3,DPH
   \   00050B   12....       LCALL   ??ZDP_MatchDescReq?relay
   \   00050E   7408         MOV     A,#0x8
   \   000510   12....       LCALL   ?DEALLOC_XSTACK8
    495                
    496                }
    497                if( readBytes == 2)
   \                     ??Serial_callBack_26:
   \   000513   7402         MOV     A,#0x2
   \   000515   65..         XRL     A,?V0 + 0
   \   000517   6003         JZ      $+5
   \   000519   02....       LJMP    ??Serial_callBack_27 & 0xFFFF
    498                {
    499                  if( buff[0] == 0xcc )
   \   00051C   7402         MOV     A,#0x2
   \   00051E   12....       LCALL   ?XSTACK_DISP0_8
   \   000521   E0           MOVX    A,@DPTR
   \   000522   64CC         XRL     A,#0xcc
   \   000524   6003         JZ      $+5
   \   000526   02....       LJMP    ??Serial_callBack_28 & 0xFFFF
    500                  {
    501                    if( buff[1] > 0x0a && buff[1] < 0x1b )
   \   000529   7403         MOV     A,#0x3
   \   00052B   12....       LCALL   ?XSTACK_DISP0_8
   \   00052E   E0           MOVX    A,@DPTR
   \   00052F   24F5         ADD     A,#-0xb
   \   000531   C3           CLR     C
   \   000532   9410         SUBB    A,#0x10
   \   000534   4003         JC      $+5
   \   000536   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
    502                    {
    503          
    504                      _NIB.nwkLogicalChannel = buff[1];
   \   000539   E0           MOVX    A,@DPTR
   \   00053A   90....       MOV     DPTR,#_NIB + 22
   \   00053D   F0           MOVX    @DPTR,A
    505                      NLME_UpdateNV(0x01);
   \   00053E                ; Setup parameters for call to function NLME_UpdateNV
   \   00053E   7901         MOV     R1,#0x1
   \   000540   12....       LCALL   ??NLME_UpdateNV?relay
    506                      ZMacSetReq( ZMacChannel, &buff[1]);
   \   000543                ; Setup parameters for call to function ZMacSetReq
   \   000543   7403         MOV     A,#0x3
   \   000545   12....       LCALL   ?XSTACK_DISP0_8
   \   000548   AA82         MOV     R2,DPL
   \   00054A   AB83         MOV     R3,DPH
   \   00054C   79E1         MOV     R1,#-0x1f
   \   00054E   12....       LCALL   ??ZMacSetReq?relay
    507                      
    508                      osal_nv_item_init( ZCD_NV_CHANLIST, sizeof(zgDefaultChannelList), &zgDefaultChannelList);
   \   000551                ; Setup parameters for call to function osal_nv_item_init
   \   000551   75....       MOV     ?V0 + 2,#zgDefaultChannelList & 0xff
   \   000554   75....       MOV     ?V0 + 3,#(zgDefaultChannelList >> 8) & 0xff
   \   000557   78..         MOV     R0,#?V0 + 2
   \   000559   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00055C   7C04         MOV     R4,#0x4
   \   00055E   7D00         MOV     R5,#0x0
   \   000560   7A84         MOV     R2,#-0x7c
   \   000562   12....       LCALL   ??Subroutine20_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_43:
   \   000565   12....       LCALL   ?DEALLOC_XSTACK8
    509                      
    510                      if( buff[1] == 0x0b)
   \   000568   7403         MOV     A,#0x3
   \   00056A   12....       LCALL   ?XSTACK_DISP0_8
   \   00056D   E0           MOVX    A,@DPTR
   \   00056E   640B         XRL     A,#0xb
   \   000570   7006         JNZ     ??Serial_callBack_29
    511                      {
    512                        zgDefaultChannelList = 0x00000800;
   \   000572   90....       MOV     DPTR,#__Constant_800
   \   000575   02....       LJMP    ??Serial_callBack_30 & 0xFFFF
    513                        
    514                      } 
    515                      if (buff[1] == 0x0c )
   \                     ??Serial_callBack_29:
   \   000578   E0           MOVX    A,@DPTR
   \   000579   640C         XRL     A,#0xc
   \   00057B   7006         JNZ     ??Serial_callBack_31
    516                      {
    517                        zgDefaultChannelList = 0x00001000;
   \   00057D   90....       MOV     DPTR,#__Constant_1000
   \   000580   02....       LJMP    ??Serial_callBack_30 & 0xFFFF
    518                      }            
    519                      if (buff[1] == 0x0d )
   \                     ??Serial_callBack_31:
   \   000583   E0           MOVX    A,@DPTR
   \   000584   640D         XRL     A,#0xd
   \   000586   7006         JNZ     ??Serial_callBack_32
    520                      {
    521                        zgDefaultChannelList = 0x00002000;
   \   000588   90....       MOV     DPTR,#__Constant_2000
   \   00058B   02....       LJMP    ??Serial_callBack_30 & 0xFFFF
    522                      }
    523                      if (buff[1] == 0x0e )
   \                     ??Serial_callBack_32:
   \   00058E   E0           MOVX    A,@DPTR
   \   00058F   640E         XRL     A,#0xe
   \   000591   7005         JNZ     ??Serial_callBack_33
    524                      {
    525                        zgDefaultChannelList = 0x00004000;
   \   000593   90....       MOV     DPTR,#__Constant_4000
   \   000596   8076         SJMP    ??Serial_callBack_30
    526                      }
    527                      if (buff[1] == 0x0f )
   \                     ??Serial_callBack_33:
   \   000598   E0           MOVX    A,@DPTR
   \   000599   640F         XRL     A,#0xf
   \   00059B   7005         JNZ     ??Serial_callBack_34
    528                      {
    529                        zgDefaultChannelList = 0x00008000;
   \   00059D   90....       MOV     DPTR,#__Constant_8000
   \   0005A0   806C         SJMP    ??Serial_callBack_30
    530                      }
    531                      if (buff[1] == 0x10 )
   \                     ??Serial_callBack_34:
   \   0005A2   E0           MOVX    A,@DPTR
   \   0005A3   6410         XRL     A,#0x10
   \   0005A5   7005         JNZ     ??Serial_callBack_35
    532                      {
    533                        zgDefaultChannelList = 0x00010000;
   \   0005A7   90....       MOV     DPTR,#__Constant_10000
   \   0005AA   8062         SJMP    ??Serial_callBack_30
    534                      }
    535                      if (buff[1] == 0x11 )
   \                     ??Serial_callBack_35:
   \   0005AC   E0           MOVX    A,@DPTR
   \   0005AD   6411         XRL     A,#0x11
   \   0005AF   7005         JNZ     ??Serial_callBack_36
    536                      {
    537                        zgDefaultChannelList = 0x00020000;
   \   0005B1   90....       MOV     DPTR,#__Constant_20000
   \   0005B4   8058         SJMP    ??Serial_callBack_30
    538                      }
    539                      if (buff[1] == 0x12 )
   \                     ??Serial_callBack_36:
   \   0005B6   E0           MOVX    A,@DPTR
   \   0005B7   6412         XRL     A,#0x12
   \   0005B9   7005         JNZ     ??Serial_callBack_37
    540                      {
    541                        zgDefaultChannelList = 0x00040000;
   \   0005BB   90....       MOV     DPTR,#__Constant_40000
   \   0005BE   804E         SJMP    ??Serial_callBack_30
    542                      }            
    543                      if (buff[1] == 0x13 )
   \                     ??Serial_callBack_37:
   \   0005C0   E0           MOVX    A,@DPTR
   \   0005C1   6413         XRL     A,#0x13
   \   0005C3   7005         JNZ     ??Serial_callBack_38
    544                      {
    545                        zgDefaultChannelList = 0x00080000;
   \   0005C5   90....       MOV     DPTR,#__Constant_80000
   \   0005C8   8044         SJMP    ??Serial_callBack_30
    546                      }
    547                      if (buff[1] == 0x14 )
   \                     ??Serial_callBack_38:
   \   0005CA   E0           MOVX    A,@DPTR
   \   0005CB   6414         XRL     A,#0x14
   \   0005CD   7005         JNZ     ??Serial_callBack_39
    548                      {
    549                        zgDefaultChannelList = 0x00100000;
   \   0005CF   90....       MOV     DPTR,#__Constant_100000
   \   0005D2   803A         SJMP    ??Serial_callBack_30
    550                      }
    551                      if (buff[1] == 0x15 )
   \                     ??Serial_callBack_39:
   \   0005D4   E0           MOVX    A,@DPTR
   \   0005D5   6415         XRL     A,#0x15
   \   0005D7   7005         JNZ     ??Serial_callBack_40
    552                      {
    553                        zgDefaultChannelList = 0x00200000;
   \   0005D9   90....       MOV     DPTR,#__Constant_200000
   \   0005DC   8030         SJMP    ??Serial_callBack_30
    554                      }            
    555                      if (buff[1] == 0x16 )
   \                     ??Serial_callBack_40:
   \   0005DE   E0           MOVX    A,@DPTR
   \   0005DF   6416         XRL     A,#0x16
   \   0005E1   7005         JNZ     ??Serial_callBack_41
    556                      {
    557                        zgDefaultChannelList = 0x00400000;
   \   0005E3   90....       MOV     DPTR,#__Constant_400000
   \   0005E6   8026         SJMP    ??Serial_callBack_30
    558                      }
    559                      if (buff[1] == 0x17 )
   \                     ??Serial_callBack_41:
   \   0005E8   E0           MOVX    A,@DPTR
   \   0005E9   6417         XRL     A,#0x17
   \   0005EB   7005         JNZ     ??Serial_callBack_42
    560                      {
    561                        zgDefaultChannelList = 0x00800000;
   \   0005ED   90....       MOV     DPTR,#__Constant_800000
   \   0005F0   801C         SJMP    ??Serial_callBack_30
    562                      }
    563                      if (buff[1] == 0x18 )
   \                     ??Serial_callBack_42:
   \   0005F2   E0           MOVX    A,@DPTR
   \   0005F3   6418         XRL     A,#0x18
   \   0005F5   7005         JNZ     ??Serial_callBack_43
    564                      {
    565                        zgDefaultChannelList = 0x01000000;
   \   0005F7   90....       MOV     DPTR,#__Constant_1000000
   \   0005FA   8012         SJMP    ??Serial_callBack_30
    566                      }
    567          
    568                      if (buff[1] == 0x19 )
   \                     ??Serial_callBack_43:
   \   0005FC   E0           MOVX    A,@DPTR
   \   0005FD   6419         XRL     A,#0x19
   \   0005FF   7005         JNZ     ??Serial_callBack_44
    569                      {
    570                        zgDefaultChannelList = 0x02000000;
   \   000601   90....       MOV     DPTR,#__Constant_2000000
   \   000604   8008         SJMP    ??Serial_callBack_30
    571                      }
    572                      if (buff[1] == 0x1a )
   \                     ??Serial_callBack_44:
   \   000606   E0           MOVX    A,@DPTR
   \   000607   641A         XRL     A,#0x1a
   \   000609   700C         JNZ     ??Serial_callBack_45
    573                      {
    574                        zgDefaultChannelList = 0x04000000;
   \   00060B   90....       MOV     DPTR,#__Constant_4000000
   \                     ??Serial_callBack_30:
   \   00060E   12....       LCALL   ?XLOAD_R2345
   \   000611   90....       MOV     DPTR,#zgDefaultChannelList
   \   000614   12....       LCALL   ?XSTORE_R2345
    575                      }
    576                      
    577                      osal_nv_write(  ZCD_NV_CHANLIST, 0 ,sizeof(zgDefaultChannelList), &zgDefaultChannelList);
   \                     ??Serial_callBack_45:
   \   000617                ; Setup parameters for call to function osal_nv_write
   \   000617   78..         MOV     R0,#?V0 + 2
   \   000619   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00061C   75..04       MOV     ?V0 + 2,#0x4
   \   00061F   75..00       MOV     ?V0 + 3,#0x0
   \   000622   78..         MOV     R0,#?V0 + 2
   \   000624   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000627   7C00         MOV     R4,#0x0
   \   000629   7D00         MOV     R5,#0x0
   \   00062B   7A84         MOV     R2,#-0x7c
   \   00062D   12....       LCALL   ??Subroutine22_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_53:
   \   000630   12....       LCALL   ?DEALLOC_XSTACK8
    578                      
    579                      UART_Send_String( (uint8*)&zgDefaultChannelList, sizeof(zgDefaultChannelList) );
   \   000633                ; Setup parameters for call to function UART_Send_String
   \   000633   7C04         MOV     R4,#0x4
   \   000635   7D00         MOV     R5,#0x0
   \   000637   7A..         MOV     R2,#zgDefaultChannelList & 0xff
   \   000639   7B..         MOV     R3,#(zgDefaultChannelList >> 8) & 0xff
   \                     ??Serial_callBack_46:
   \   00063B   12....       LCALL   ??UART_Send_String?relay
    580          
    581                      /*
    582                      _NIB.nwkLogicalChannel = buff[1];
    583                      NLME_UpdateNV(0x01);
    584                      if( osal_nv_write(ZCD_NV_CHANLIST, 0, osal_nv_item_len( ZCD_NV_CHANLIST ), &tmp32) !=  ZSUCCESS)
    585                      {
    586                        uprint("change channel to nv failed");
    587                      }
    588                      */
    589                      /*
    590                      _NIB.nwkLogicalChannel = buff[1];
    591                      ZMacSetReq( ZMacChannel, &buff[1]);
    592                      ZDApp_NwkStateUpdateCB();
    593                      _NIB.nwkTotalTransmissions = 0;
    594                      nwkTransmissionFailures( TRUE );
    595                      */
    596                    }
    597                  }
    598                }
    599                if( readBytes == 3)
    600                {
    601          #if defined( ZDO_COORDINATOR )
    602              // only coordinator can have this function
    603                if( buff[0] == 0xCA || buff[0] == 0x6d)
    604                {
    605                  // CA xx xx ,send CA to a node ,with it's short address
    606                  ///uprint("it's CA ");
    607                  short_ddr = BUILD_UINT16( buff[1], buff[2] );        
    608                  if(  SendData( short_ddr, buff, 1) == 0 )
    609                  {
    610                    SendData( short_ddr, buff, 1);
    611                  }
    612                  return;
    613                }
    614              
    615          #endif 
    616                  if(buff[0] == 0xed)
    617                  {
    618                    if(buff[1] == 0xfa)
    619                    {
    620                      if(buff[2] == 0x01)
    621                      {
    622                        LED1 = 1;return;
    623                      }
    624                      if(buff[2] == 0x02)
    625                      {
    626                        LED2 = 1;return;
    627                      }
    628                    }
    629                    if(buff[1] ==0xff)
    630                    {
    631                      if(buff[2] == 0x01)
    632                      {
    633                        LED1 = 0;return;
    634                      }
    635                      if(buff[2] == 0x02)
    636                      {
    637                        LED2 = 0;return;
    638                      }
    639                    }
    640                    if(buff[1] == 0xfc)
    641                    {
    642                      if(buff[2]== 0x01)
    643                      {
    644                        LED1= !LED1;return;
    645                      }
    646                      if(buff[2] == 0x02)
    647                      {
    648                        LED2 = !LED2;return;
    649                      }
    650                    }
    651                    
    652                  }
    653                  
    654                  if(buff[0] == 0xdc)
    655                  {
    656                    if( buff[1] >= 0 && buff[1] <= 0x0f)
                                       ^
Warning[Pe186]: pointless comparison of unsigned integer with zero
    657                    {
    658                      switch (buff[2])
    659                      {
    660                      case 8:
    661                        UART_Send_String( (uint8*)HalAdcRead ( buff[1], HAL_ADC_RESOLUTION_8), 2);
    662                        break;
    663                      case 10:
    664                        UART_Send_String( (uint8*)HalAdcRead ( buff[1], HAL_ADC_RESOLUTION_10), 2);
    665                        break;
    666                      case 12:
    667                        UART_Send_String( (uint8*)HalAdcRead ( buff[1], HAL_ADC_RESOLUTION_12), 2);
    668                        break;
    669                      case 14:
    670                        UART_Send_String( (uint8*)HalAdcRead ( buff[1], HAL_ADC_RESOLUTION_14), 2);
    671                        break;
    672                      default:
    673                        UART_Send_String( (uint8*)HalAdcRead ( buff[1], 0), 2);
    674                        break;
    675                      }
    676                    }
    677                  }
    678                  
    679                }
    680                
    681                
    682                if( readBytes == 4)
    683                {
    684                  if( strstr( buff,"type") )
                                     ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
    685                  {
    686                    switch(zgDeviceLogicalType)
    687                    {
    688                    case ZG_DEVICETYPE_COORDINATOR:
    689                      uprint("Coordi");
    690                      break;
    691                    case ZG_DEVICETYPE_ROUTER:
    692                      uprint("Router");
    693                      break;
    694                    case ZG_DEVICETYPE_ENDDEVICE:
    695                      uprint("Enddev");
    696                      break;
    697                    default:
    698                      uprint("Unknow");
    699                      break;
    700          
    701                    } 
    702                  }
    703                  
    704                  if(buff[0] == 'p' && buff[1] == 'i' && buff[2]=='n' && buff[3] == 'g')
    705                  {
    706                      uprint("pong");
    707                  }
    708                
    709                }
    710                
    711                if( readBytes == 6)
    712                {
    713                  if( strstr( buff,"reboot") )
                                     ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"

    afAddrType_t myaddr; // use for p2p
                 ^
"C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\testApp_2.5\Source\GenericApp.c",175  Warning[Pe177]: 
          variable "myaddr" was declared but never referenced

    uint32 tmp32; // first for the chcannel list
           ^
"C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\testApp_2.5\Source\GenericApp.c",196  Warning[Pe177]: 
          variable "tmp32" was declared but never referenced

    uint8 startOptions;    
          ^
"C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\testApp_2.5\Source\GenericApp.c",201  Warning[Pe177]: 
          variable "startOptions" was declared but never referenced
    714                  {
    715                    SystemReset();
    716                  }
    717                }
    718                
    719                if(buff[0] == 0xd8 ) // d8 xx xx i o t ,etc,d8 xx xx ed f[a,c,f] 01
   \                     ??Serial_callBack_28:
   \   00063E   7402         MOV     A,#0x2
   \   000640   12....       LCALL   ?XSTACK_DISP0_8
   \   000643   E0           MOVX    A,@DPTR
   \   000644   64D8         XRL     A,#0xd8
   \   000646   7021         JNZ     ??Serial_callBack_0
    720                {
    721                    //short_ddr = BUILD_UINT16(buff[1],buff[2]);
    722                   // if(short_ddr != 0x0000)
    723                    //{
    724                      SendData( BUILD_UINT16(buff[1],buff[2]), &buff[3], readBytes - 3);
   \   000648                ; Setup parameters for call to function SendData
   \   000648   74FD         MOV     A,#-0x3
   \   00064A   25..         ADD     A,?V0 + 0
   \   00064C   F9           MOV     R1,A
   \   00064D   7405         MOV     A,#0x5
   \   00064F   12....       LCALL   ?XSTACK_DISP0_8
   \   000652   AC82         MOV     R4,DPL
   \   000654   AD83         MOV     R5,DPH
   \   000656   7403         MOV     A,#0x3
   \   000658   12....       LCALL   ?XSTACK_DISP0_8
   \   00065B   E0           MOVX    A,@DPTR
   \   00065C   FE           MOV     R6,A
   \   00065D   7404         MOV     A,#0x4
   \   00065F   12....       LCALL   ?XSTACK_DISP0_8
   \   000662   E0           MOVX    A,@DPTR
   \   000663   FB           MOV     R3,A
   \   000664   EE           MOV     A,R6
   \   000665   FA           MOV     R2,A
   \                     ??Serial_callBack_47:
   \   000666   12....       LCALL   ??SendData?relay
    725                    //}else
    726                    //{
    727                      // send to myself
    728                    //}
    729                      return;
   \                     ??Serial_callBack_0:
   \   000669   7446         MOV     A,#0x46
   \   00066B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00066E   7F08         MOV     R7,#0x8
   \   000670   02....       LJMP    ?BANKED_LEAVE_XDATA
    730                }
   \                     ??Serial_callBack_27:
   \   000673   7403         MOV     A,#0x3
   \   000675   65..         XRL     A,?V0 + 0
   \   000677   6003         JZ      $+5
   \   000679   02....       LJMP    ??Serial_callBack_48 & 0xFFFF
   \   00067C   7402         MOV     A,#0x2
   \   00067E   12....       LCALL   ?XSTACK_DISP0_8
   \   000681   E0           MOVX    A,@DPTR
   \   000682   64CA         XRL     A,#0xca
   \   000684   6005         JZ      ??Serial_callBack_49
   \   000686   E0           MOVX    A,@DPTR
   \   000687   646D         XRL     A,#0x6d
   \   000689   7040         JNZ     ??Serial_callBack_50
   \                     ??Serial_callBack_49:
   \   00068B   7403         MOV     A,#0x3
   \   00068D   12....       LCALL   ?XSTACK_DISP0_8
   \   000690   E0           MOVX    A,@DPTR
   \   000691   FA           MOV     R2,A
   \   000692   7404         MOV     A,#0x4
   \   000694   12....       LCALL   ?XSTACK_DISP0_8
   \   000697   E0           MOVX    A,@DPTR
   \   000698   F9           MOV     R1,A
   \   000699   EA           MOV     A,R2
   \   00069A   90....       MOV     DPTR,#short_ddr
   \   00069D   12....       LCALL   ??Subroutine21_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_45:
   \   0006A0                ; Setup parameters for call to function SendData
   \   0006A0   7901         MOV     R1,#0x1
   \   0006A2   7402         MOV     A,#0x2
   \   0006A4   12....       LCALL   ?XSTACK_DISP0_8
   \   0006A7   AC82         MOV     R4,DPL
   \   0006A9   AD83         MOV     R5,DPH
   \   0006AB   90....       MOV     DPTR,#short_ddr + 1
   \   0006AE   E0           MOVX    A,@DPTR
   \   0006AF   FB           MOV     R3,A
   \   0006B0   12....       LCALL   ??SendData?relay
   \   0006B3   E9           MOV     A,R1
   \   0006B4   70B3         JNZ     ??Serial_callBack_0
   \   0006B6                ; Setup parameters for call to function SendData
   \   0006B6   7901         MOV     R1,#0x1
   \   0006B8   7402         MOV     A,#0x2
   \   0006BA   12....       LCALL   ?XSTACK_DISP0_8
   \   0006BD   AC82         MOV     R4,DPL
   \   0006BF   AD83         MOV     R5,DPH
   \   0006C1   90....       MOV     DPTR,#short_ddr
   \   0006C4   E0           MOVX    A,@DPTR
   \   0006C5   FA           MOV     R2,A
   \   0006C6   A3           INC     DPTR
   \   0006C7   E0           MOVX    A,@DPTR
   \   0006C8   FB           MOV     R3,A
   \   0006C9   809B         SJMP    ??Serial_callBack_47
   \                     ??Serial_callBack_50:
   \   0006CB   E0           MOVX    A,@DPTR
   \   0006CC   64ED         XRL     A,#0xed
   \   0006CE   7079         JNZ     ??Serial_callBack_51
   \   0006D0   7403         MOV     A,#0x3
   \   0006D2   12....       LCALL   ?XSTACK_DISP0_8
   \   0006D5   E0           MOVX    A,@DPTR
   \   0006D6   64FA         XRL     A,#0xfa
   \   0006D8   701B         JNZ     ??Serial_callBack_52
   \   0006DA   7404         MOV     A,#0x4
   \   0006DC   12....       LCALL   ?XSTACK_DISP0_8
   \   0006DF   E0           MOVX    A,@DPTR
   \   0006E0   6401         XRL     A,#0x1
   \   0006E2   7004         JNZ     ??Serial_callBack_53
   \   0006E4   D290         SETB    0x90.0
   \   0006E6   8081         SJMP    ??Serial_callBack_0
   \                     ??Serial_callBack_53:
   \   0006E8   E0           MOVX    A,@DPTR
   \   0006E9   6402         XRL     A,#0x2
   \   0006EB   6003         JZ      $+5
   \   0006ED   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
   \   0006F0   D291         SETB    0x90.1
   \   0006F2   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
   \                     ??Serial_callBack_52:
   \   0006F5   E0           MOVX    A,@DPTR
   \   0006F6   F4           CPL     A
   \   0006F7   701C         JNZ     ??Serial_callBack_54
   \   0006F9   7404         MOV     A,#0x4
   \   0006FB   12....       LCALL   ?XSTACK_DISP0_8
   \   0006FE   E0           MOVX    A,@DPTR
   \   0006FF   6401         XRL     A,#0x1
   \   000701   7005         JNZ     ??Serial_callBack_55
   \   000703   C290         CLR     0x90.0
   \   000705   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
   \                     ??Serial_callBack_55:
   \   000708   E0           MOVX    A,@DPTR
   \   000709   6402         XRL     A,#0x2
   \   00070B   6003         JZ      $+5
   \   00070D   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
   \   000710   C291         CLR     0x90.1
   \   000712   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
   \                     ??Serial_callBack_54:
   \   000715   E0           MOVX    A,@DPTR
   \   000716   64FC         XRL     A,#0xfc
   \   000718   6003         JZ      $+5
   \   00071A   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
   \   00071D   7404         MOV     A,#0x4
   \   00071F   12....       LCALL   ?XSTACK_DISP0_8
   \   000722   E0           MOVX    A,@DPTR
   \   000723   6401         XRL     A,#0x1
   \   000725   700D         JNZ     ??Serial_callBack_56
   \   000727   D2F0         SETB    B.0
   \   000729   A290         MOV     C,0x90.0
   \   00072B   30F001       JNB     B.0,??Serial_callBack_57
   \   00072E   B3           CPL     C
   \                     ??Serial_callBack_57:
   \   00072F   9290         MOV     0x90.0,C
   \   000731   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
   \                     ??Serial_callBack_56:
   \   000734   E0           MOVX    A,@DPTR
   \   000735   6402         XRL     A,#0x2
   \   000737   6003         JZ      $+5
   \   000739   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
   \   00073C   D2F0         SETB    B.0
   \   00073E   A291         MOV     C,0x90.1
   \   000740   30F001       JNB     B.0,??Serial_callBack_58
   \   000743   B3           CPL     C
   \                     ??Serial_callBack_58:
   \   000744   9291         MOV     0x90.1,C
   \   000746   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
   \                     ??Serial_callBack_51:
   \   000749   E0           MOVX    A,@DPTR
   \   00074A   64DC         XRL     A,#0xdc
   \   00074C   6003         JZ      $+5
   \   00074E   02....       LJMP    ??Serial_callBack_28 & 0xFFFF
   \   000751   7403         MOV     A,#0x3
   \   000753   12....       LCALL   ?XSTACK_DISP0_8
   \   000756   E0           MOVX    A,@DPTR
   \   000757   C3           CLR     C
   \   000758   9410         SUBB    A,#0x10
   \   00075A   4003         JC      $+5
   \   00075C   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
   \   00075F   7404         MOV     A,#0x4
   \   000761   12....       LCALL   ?XSTACK_DISP0_8
   \   000764   E0           MOVX    A,@DPTR
   \   000765   24F8         ADD     A,#-0x8
   \   000767   600E         JZ      ??Serial_callBack_59
   \   000769   24FE         ADD     A,#-0x2
   \   00076B   601D         JZ      ??Serial_callBack_60
   \   00076D   24FE         ADD     A,#-0x2
   \   00076F   601D         JZ      ??Serial_callBack_61
   \   000771   24FE         ADD     A,#-0x2
   \   000773   601E         JZ      ??Serial_callBack_62
   \   000775   8020         SJMP    ??Serial_callBack_63
   \                     ??Serial_callBack_59:
   \   000777                ; Setup parameters for call to function UART_Send_String
   \   000777                ; Setup parameters for call to function HalAdcRead
   \   000777   7A01         MOV     R2,#0x1
   \                     ??Serial_callBack_64:
   \   000779   7403         MOV     A,#0x3
   \                     ??Serial_callBack_65:
   \   00077B   12....       LCALL   ?XSTACK_DISP0_8
   \   00077E   E0           MOVX    A,@DPTR
   \   00077F   F9           MOV     R1,A
   \   000780   12....       LCALL   ??HalAdcRead?relay
   \   000783   7C02         MOV     R4,#0x2
   \   000785   7D00         MOV     R5,#0x0
   \   000787   02....       LJMP    ??Serial_callBack_46 & 0xFFFF
   \                     ??Serial_callBack_60:
   \   00078A                ; Setup parameters for call to function UART_Send_String
   \   00078A                ; Setup parameters for call to function HalAdcRead
   \   00078A   7A02         MOV     R2,#0x2
   \   00078C   80EB         SJMP    ??Serial_callBack_64
   \                     ??Serial_callBack_61:
   \   00078E                ; Setup parameters for call to function UART_Send_String
   \   00078E                ; Setup parameters for call to function HalAdcRead
   \   00078E   7A03         MOV     R2,#0x3
   \   000790   EA           MOV     A,R2
   \   000791   80E8         SJMP    ??Serial_callBack_65
   \                     ??Serial_callBack_62:
   \   000793                ; Setup parameters for call to function UART_Send_String
   \   000793                ; Setup parameters for call to function HalAdcRead
   \   000793   7A04         MOV     R2,#0x4
   \   000795   80E2         SJMP    ??Serial_callBack_64
   \                     ??Serial_callBack_63:
   \   000797                ; Setup parameters for call to function UART_Send_String
   \   000797                ; Setup parameters for call to function HalAdcRead
   \   000797   7A00         MOV     R2,#0x0
   \   000799   80DE         SJMP    ??Serial_callBack_64
   \                     ??Serial_callBack_48:
   \   00079B   7404         MOV     A,#0x4
   \   00079D   65..         XRL     A,?V0 + 0
   \   00079F   7073         JNZ     ??Serial_callBack_66
   \   0007A1                ; Setup parameters for call to function strstr
   \   0007A1   7C..         MOV     R4,#`?<Constant "type">` & 0xff
   \   0007A3   7D..         MOV     R5,#(`?<Constant "type">` >> 8) & 0xff
   \   0007A5   7402         MOV     A,#0x2
   \   0007A7   12....       LCALL   ?XSTACK_DISP0_8
   \   0007AA   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_26:
   \   0007AD   6027         JZ      ??Serial_callBack_67
   \   0007AF   90....       MOV     DPTR,#zgDeviceLogicalType
   \   0007B2   E0           MOVX    A,@DPTR
   \   0007B3   6008         JZ      ??Serial_callBack_68
   \   0007B5   14           DEC     A
   \   0007B6   600B         JZ      ??Serial_callBack_69
   \   0007B8   14           DEC     A
   \   0007B9   600E         JZ      ??Serial_callBack_70
   \   0007BB   8012         SJMP    ??Serial_callBack_71
   \                     ??Serial_callBack_68:
   \   0007BD                ; Setup parameters for call to function uprint
   \   0007BD   7A..         MOV     R2,#`?<Constant "Coordi">` & 0xff
   \   0007BF   7B..         MOV     R3,#(`?<Constant "Coordi">` >> 8) & 0xff
   \   0007C1   8010         SJMP    ??Serial_callBack_72
   \                     ??Serial_callBack_69:
   \   0007C3                ; Setup parameters for call to function uprint
   \   0007C3   7A..         MOV     R2,#`?<Constant "Router">` & 0xff
   \   0007C5   7B..         MOV     R3,#(`?<Constant "Router">` >> 8) & 0xff
   \   0007C7   800A         SJMP    ??Serial_callBack_72
   \                     ??Serial_callBack_70:
   \   0007C9                ; Setup parameters for call to function uprint
   \   0007C9   7A..         MOV     R2,#`?<Constant "Enddev">` & 0xff
   \   0007CB   7B..         MOV     R3,#(`?<Constant "Enddev">` >> 8) & 0xff
   \   0007CD   8004         SJMP    ??Serial_callBack_72
   \                     ??Serial_callBack_71:
   \   0007CF                ; Setup parameters for call to function uprint
   \   0007CF   7A..         MOV     R2,#`?<Constant "Unknow">` & 0xff
   \   0007D1   7B..         MOV     R3,#(`?<Constant "Unknow">` >> 8) & 0xff
   \                     ??Serial_callBack_72:
   \   0007D3   12....       LCALL   ??uprint?relay
   \                     ??Serial_callBack_67:
   \   0007D6   7402         MOV     A,#0x2
   \   0007D8   12....       LCALL   ?XSTACK_DISP0_8
   \   0007DB   E0           MOVX    A,@DPTR
   \   0007DC   6470         XRL     A,#0x70
   \   0007DE   6003         JZ      $+5
   \   0007E0   02....       LJMP    ??Serial_callBack_28 & 0xFFFF
   \   0007E3   7403         MOV     A,#0x3
   \   0007E5   12....       LCALL   ?XSTACK_DISP0_8
   \   0007E8   E0           MOVX    A,@DPTR
   \   0007E9   6469         XRL     A,#0x69
   \   0007EB   6003         JZ      $+5
   \   0007ED   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
   \   0007F0   7404         MOV     A,#0x4
   \   0007F2   12....       LCALL   ?XSTACK_DISP0_8
   \   0007F5   E0           MOVX    A,@DPTR
   \   0007F6   646E         XRL     A,#0x6e
   \   0007F8   6003         JZ      $+5
   \   0007FA   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
   \   0007FD   7405         MOV     A,#0x5
   \   0007FF   12....       LCALL   ?XSTACK_DISP0_8
   \   000802   E0           MOVX    A,@DPTR
   \   000803   6467         XRL     A,#0x67
   \   000805   6003         JZ      $+5
   \   000807   02....       LJMP    ??Serial_callBack_0 & 0xFFFF
   \   00080A                ; Setup parameters for call to function uprint
   \   00080A   7A..         MOV     R2,#`?<Constant "pong">` & 0xff
   \   00080C   7B..         MOV     R3,#(`?<Constant "pong">` >> 8) & 0xff
   \   00080E   12....       LCALL   ??uprint?relay
   \   000811   02....       LJMP    ??Serial_callBack_28 & 0xFFFF
   \                     ??Serial_callBack_66:
   \   000814   7406         MOV     A,#0x6
   \   000816   65..         XRL     A,?V0 + 0
   \   000818   6003         JZ      $+5
   \   00081A   02....       LJMP    ??Serial_callBack_28 & 0xFFFF
   \   00081D                ; Setup parameters for call to function strstr
   \   00081D   7C..         MOV     R4,#`?<Constant "reboot">` & 0xff
   \   00081F   7D..         MOV     R5,#(`?<Constant "reboot">` >> 8) & 0xff
   \   000821   7402         MOV     A,#0x2
   \   000823   12....       LCALL   ?XSTACK_DISP0_8
   \   000826   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_27:
   \   000829   7003         JNZ     $+5
   \   00082B   02....       LJMP    ??Serial_callBack_28 & 0xFFFF
   \   00082E   C2AF         CLR     0xa8.7
   \   000830   C2AF         CLR     0xa8.7
   \   000832   75C9AB       MOV     0xc9,#-0x55
   \   000835   75C95B       MOV     0xc9,#0x5b
   \                     ??Serial_callBack_73:
   \   000838   80FE         SJMP    ??Serial_callBack_73
   \   00083A                REQUIRE _A_IEN0
   \   00083A                REQUIRE WDCTL
   \   00083A                REQUIRE _A_P1
    731                
    732              }
    733          
    734              
    735           //   UART_Send_String(buff, readBytes);
    736              
    737            //short_ddr = GenericApp_DstAddr.addr.shortAddr;
    738          //  short_ddr = NLME_GetShortAddr();
    739              
    740          /*
    741              AF_DataRequest( &GenericApp_DstAddr, &GenericApp_epDesc,
    742                                 GENERICAPP_CLUSTERID,
    743                                 readBytes,
    744                                 (byte *)&buff,
    745                                 &GenericApp_TransID,
    746                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS );    
    747              */
    748          
    749              
    750            }  
    751          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   AA82         MOV     R2,DPL
   \   000002   AB83         MOV     R3,DPH
   \   000004   12....       LCALL   ??strtol?relay
   \   000007   7402         MOV     A,#0x2
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   AA82         MOV     R2,DPL
   \   000002   AB83         MOV     R3,DPH
   \   000004   12....       LCALL   ??strncpy?relay
   \   000007   7402         MOV     A,#0x2
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   7C01         MOV     R4,#0x1
   \   000002   7D00         MOV     R5,#0x0
   \   000004   7A87         MOV     R2,#-0x79
   \   000006                REQUIRE ??Subroutine20_0
   \   000006                ; // Fall through to label ??Subroutine20_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine20_0:
   \   000000   7B00         MOV     R3,#0x0
   \   000002   12....       LCALL   ??osal_nv_item_init?relay
   \   000005   7402         MOV     A,#0x2
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   AA82         MOV     R2,DPL
   \   000002   AB83         MOV     R3,DPH
   \   000004   12....       LCALL   ??strstr?relay
   \   000007   8B..         MOV     ?V0 + 3,R3
   \   000009   EA           MOV     A,R2
   \   00000A   45..         ORL     A,?V0 + 3
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_49:
   \   000003                ; Setup parameters for call to function UART_Send_String
   \   000003                ; Setup parameters for call to function UART_Send_String
   \   000003   7C02         MOV     R4,#0x2
   \   000005   7D00         MOV     R5,#0x0
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   E8           MOV     A,R0
   \   000001                REQUIRE ??Subroutine21_0
   \   000001                ; // Fall through to label ??Subroutine21_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine21_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   E9           MOV     A,R1
   \   000003   F0           MOVX    @DPTR,A
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   7C00         MOV     R4,#0x0
   \   000002   7D00         MOV     R5,#0x0
   \   000004   7A87         MOV     R2,#-0x79
   \   000006                REQUIRE ??Subroutine22_0
   \   000006                ; // Fall through to label ??Subroutine22_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine22_0:
   \   000000   7B00         MOV     R3,#0x0
   \   000002   12....       LCALL   ??osal_nv_write?relay
   \   000005   7404         MOV     A,#0x4
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   22           RET
    752          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    753          void serial_init(void )
   \                     serial_init:
    754          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 29
   \   000004   74E3         MOV     A,#-0x1d
   \   000006   12....       LCALL   ?ALLOC_XSTACK8
    755            halUARTCfg_t uartConfig;
    756          
    757           
    758            uartConfig.configured           = TRUE;                                                   // 2x30 don't care - see uart driver.
   \   000009   85..82       MOV     DPL,?XSP + 0
   \   00000C   85..83       MOV     DPH,?XSP + 1
   \   00000F   7401         MOV     A,#0x1
   \   000011   F0           MOVX    @DPTR,A
    759            uartConfig.baudRate             = HAL_UART_BR_38400;                       //38400
   \   000012   12....       LCALL   ?XSTACK_DISP0_8
   \   000015   7402         MOV     A,#0x2
   \   000017   F0           MOVX    @DPTR,A
    760            uartConfig.flowControl          = FALSE;
   \   000018   12....       LCALL   ?XSTACK_DISP0_8
   \   00001B   E4           CLR     A
   \   00001C   F0           MOVX    @DPTR,A
    761            uartConfig.flowControlThreshold = 64;        // 64.
   \   00001D   7403         MOV     A,#0x3
   \   00001F   12....       LCALL   ?XSTACK_DISP0_8
   \   000022   7440         MOV     A,#0x40
   \   000024   F0           MOVX    @DPTR,A
   \   000025   A3           INC     DPTR
   \   000026   E4           CLR     A
   \   000027   F0           MOVX    @DPTR,A
    762            uartConfig.rx.maxBufSize        = 512;                  // 128
   \   000028   740A         MOV     A,#0xa
   \   00002A   12....       LCALL   ?XSTACK_DISP0_8
   \   00002D   E4           CLR     A
   \   00002E   F0           MOVX    @DPTR,A
   \   00002F   A3           INC     DPTR
   \   000030   7402         MOV     A,#0x2
   \   000032   F0           MOVX    @DPTR,A
    763            uartConfig.tx.maxBufSize        = 512;                  // 128
   \   000033   7412         MOV     A,#0x12
   \   000035   12....       LCALL   ?XSTACK_DISP0_8
   \   000038   E4           CLR     A
   \   000039   F0           MOVX    @DPTR,A
   \   00003A   A3           INC     DPTR
   \   00003B   7402         MOV     A,#0x2
   \   00003D   F0           MOVX    @DPTR,A
    764            uartConfig.idleTimeout          = 6;                      // 6
   \   00003E   7405         MOV     A,#0x5
   \   000040   12....       LCALL   ?XSTACK_DISP0_8
   \   000043   7406         MOV     A,#0x6
   \   000045   F0           MOVX    @DPTR,A
    765            uartConfig.intEnable            = TRUE;                                                 
   \   000046   7416         MOV     A,#0x16
   \   000048   12....       LCALL   ?XSTACK_DISP0_8
   \   00004B   7401         MOV     A,#0x1
   \   00004D   F0           MOVX    @DPTR,A
    766            uartConfig.callBackFunc         = Serial_callBack;                   // Call back function
   \   00004E   741B         MOV     A,#0x1b
   \   000050   12....       LCALL   ?XSTACK_DISP0_8
   \   000053   74..         MOV     A,#??Serial_callBack?relay & 0xff
   \   000055   F0           MOVX    @DPTR,A
   \   000056   A3           INC     DPTR
   \   000057   74..         MOV     A,#(??Serial_callBack?relay >> 8) & 0xff
   \   000059   12....       LCALL   ?Subroutine8 & 0xFFFF
    767            
    768            HalUARTOpen (SER_PORT, &uartConfig);
   \                     ??CrossCallReturnLabel_16:
   \   00005C   AA82         MOV     R2,DPL
   \   00005E   AB83         MOV     R3,DPH
   \   000060   7900         MOV     R1,#0x0
   \   000062   12....       LCALL   ??HalUARTOpen?relay
    769          
    770          }
   \   000065   741D         MOV     A,#0x1d
   \   000067   12....       LCALL   ?DEALLOC_XSTACK8
   \   00006A   02....       LJMP    ?Subroutine1 & 0xFFFF
    771          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    772          void io_init(void)
   \                     io_init:
    773          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    774              /* For falling edge, the bit must be set. */
    775          /*
    776              PICTL &= ~(  HAL_KEY_JOY_MOVE_BIT ); 
    777              PICTL |= HAL_KEY_JOY_MOVE_BIT;
    778          
    779              P0IEN  |= HAL_KEY_SW_6_BIT;
    780              IEN1 |= BV(5);
    781              P0IFG = ~(HAL_KEY_SW_6_BIT);
    782          */
    783            P0DIR &= ~0x01;
   \   000000   53FDFE       ANL     0xfd,#0xfe
    784            
    785            P0DIR |= 0x80;
   \   000003   43FD80       ORL     0xfd,#0x80
    786            
    787            P0IFG &= ~0x01;
   \   000006   5389FE       ANL     0x89,#0xfe
    788            
    789            P0_7 = 1;
   \   000009   D287         SETB    0x80.7
    790           
    791          }
   \   00000B   02....       LJMP    ?BRET
   \   00000E                REQUIRE P0DIR
   \   00000E                REQUIRE P0IFG
   \   00000E                REQUIRE _A_P0
    792          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    793          void set_panid( uint16 u16NewPanid)
   \                     set_panid:
    794          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   85..82       MOV     DPL,?XSP + 0
   \   00000D   85..83       MOV     DPH,?XSP + 1
   \   000010   EA           MOV     A,R2
   \   000011   F0           MOVX    @DPTR,A
   \   000012   A3           INC     DPTR
   \   000013   EB           MOV     A,R3
   \   000014   12....       LCALL   ?Subroutine8 & 0xFFFF
    795            uint8 u8BackCode;
    796            _NIB.nwkPanId = u16NewPanid;
   \                     ??CrossCallReturnLabel_17:
   \   000017   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_22:
   \   00001A   90....       MOV     DPTR,#_NIB + 33
   \   00001D   12....       LCALL   ?Subroutine18 & 0xFFFF
    797            macRadioSetPanID ( _NIB.nwkPanId);
   \                     ??CrossCallReturnLabel_47:
   \   000020                ; Setup parameters for call to function macRadioSetPanID
   \   000020   90....       MOV     DPTR,#_NIB + 33
   \   000023   E0           MOVX    A,@DPTR
   \   000024   FA           MOV     R2,A
   \   000025   12....       LCALL   ??macRadioSetPanID?relay
    798            ZMacSetReq( ZMacPanId, (byte *)& _NIB.nwkPanId);
   \   000028                ; Setup parameters for call to function ZMacSetReq
   \   000028   7A..         MOV     R2,#(_NIB + 33) & 0xff
   \   00002A   7B..         MOV     R3,#((_NIB + 33) >> 8) & 0xff
   \   00002C   7950         MOV     R1,#0x50
   \   00002E   12....       LCALL   ??ZMacSetReq?relay
    799            
    800            u8BackCode = osal_nv_write(ZCD_NV_PANID, 0, 2, &u16NewPanid);
    801            if( u8BackCode == ZSUCCESS)
   \   000031                ; Setup parameters for call to function osal_nv_write
   \   000031   85..82       MOV     DPL,?XSP + 0
   \   000034   85..83       MOV     DPH,?XSP + 1
   \   000037   8582..       MOV     ?V0 + 0,DPL
   \   00003A   8583..       MOV     ?V0 + 1,DPH
   \   00003D   78..         MOV     R0,#?V0 + 0
   \   00003F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000042   75..02       MOV     ?V0 + 0,#0x2
   \   000045   75..00       MOV     ?V0 + 1,#0x0
   \   000048   78..         MOV     R0,#?V0 + 0
   \   00004A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004D   7C00         MOV     R4,#0x0
   \   00004F   7D00         MOV     R5,#0x0
   \   000051   7A83         MOV     R2,#-0x7d
   \   000053   12....       LCALL   ??Subroutine22_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_54:
   \   000056   12....       LCALL   ?DEALLOC_XSTACK8
   \   000059   E9           MOV     A,R1
   \   00005A   7007         JNZ     ??set_panid_0
    802            {
    803              NLME_UpdateNV(0x01);
   \   00005C                ; Setup parameters for call to function NLME_UpdateNV
   \   00005C   7901         MOV     R1,#0x1
   \   00005E   12....       LCALL   ??NLME_UpdateNV?relay
   \   000061   8007         SJMP    ??set_panid_1
    804          //    HAL_SYSTEM_RESET();
    805            }
    806            else
    807            {
    808              uprint("set_panid failed");
   \                     ??set_panid_0:
   \   000063                ; Setup parameters for call to function uprint
   \   000063   7A..         MOV     R2,#`?<Constant "set_panid failed">` & 0xff
   \   000065   7B..         MOV     R3,#(`?<Constant "set_panid failed">` >> 8) & 0xff
   \   000067   12....       LCALL   ??uprint?relay
    809            }
    810            
    811          }
   \                     ??set_panid_1:
   \   00006A   7402         MOV     A,#0x2
   \   00006C   02....       LJMP    ?Subroutine0 & 0xFFFF
    812          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    813          uint8 cb_ReadConfiguration( uint8 configId, uint8 len, void *pValue ) // it's just check the configId if existed,wont create one,unlikely osal_nv_item_init
   \                     cb_ReadConfiguration:
    814          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FF           MOV     R7,A
   \   000007   EA           MOV     A,R2
   \   000008   FE           MOV     R6,A
   \   000009   8C..         MOV     ?V0 + 0,R4
   \   00000B   8D..         MOV     ?V0 + 1,R5
    815            uint8 size;
    816          
    817            size = (uint8)osal_nv_item_len( configId );
   \   00000D                ; Setup parameters for call to function osal_nv_item_len
   \   00000D   8F..         MOV     ?V0 + 2,R7
   \   00000F   AA..         MOV     R2,?V0 + 2
   \   000011   7B00         MOV     R3,#0x0
   \   000013   12....       LCALL   ??osal_nv_item_len?relay
   \   000016   EA           MOV     A,R2
   \   000017   F9           MOV     R1,A
    818            if ( size > len )
   \   000018   EE           MOV     A,R6
   \   000019   C3           CLR     C
   \   00001A   99           SUBB    A,R1
   \   00001B   5004         JNC     ??cb_ReadConfiguration_0
    819            {
    820              return ZFailure;
   \   00001D   7901         MOV     R1,#0x1
   \   00001F   8021         SJMP    ??cb_ReadConfiguration_1
    821            }
    822            else
    823            {
    824              return( osal_nv_read(configId, 0, size, pValue) );
   \                     ??cb_ReadConfiguration_0:
   \   000021                ; Setup parameters for call to function osal_nv_read
   \   000021   78..         MOV     R0,#?V0 + 0
   \   000023   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000026   89..         MOV     ?V0 + 0,R1
   \   000028   75..00       MOV     ?V0 + 1,#0x0
   \   00002B   78..         MOV     R0,#?V0 + 0
   \   00002D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000030   7C00         MOV     R4,#0x0
   \   000032   7D00         MOV     R5,#0x0
   \   000034   8F..         MOV     ?V0 + 0,R7
   \   000036   AA..         MOV     R2,?V0 + 0
   \   000038   7B00         MOV     R3,#0x0
   \   00003A   12....       LCALL   ??osal_nv_read?relay
   \   00003D   7404         MOV     A,#0x4
   \   00003F   12....       LCALL   ?DEALLOC_XSTACK8
    825            }
   \                     ??cb_ReadConfiguration_1:
   \   000042                REQUIRE ?Subroutine2
   \   000042                ; // Fall through to label ?Subroutine2
    826          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   7F04         MOV     R7,#0x4
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    827          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    828          uint8 cb_WriteConfiguration( uint8 configId, uint8 len, void *pValue )
   \                     cb_WriteConfiguration:
    829          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FF           MOV     R7,A
   \   000007   EA           MOV     A,R2
   \   000008   FE           MOV     R6,A
    830            return( osal_nv_write(configId, 0, len, pValue) );
   \   000009                ; Setup parameters for call to function osal_nv_write
   \   000009   8C..         MOV     ?V0 + 0,R4
   \   00000B   8D..         MOV     ?V0 + 1,R5
   \   00000D   78..         MOV     R0,#?V0 + 0
   \   00000F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000012   8E..         MOV     ?V0 + 0,R6
   \   000014   75..00       MOV     ?V0 + 1,#0x0
   \   000017   78..         MOV     R0,#?V0 + 0
   \   000019   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00001C   7C00         MOV     R4,#0x0
   \   00001E   7D00         MOV     R5,#0x0
   \   000020   8F..         MOV     ?V0 + 0,R7
   \   000022   AA..         MOV     R2,?V0 + 0
   \   000024   12....       LCALL   ??Subroutine22_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_55:
   \   000027                REQUIRE ?Subroutine0
   \   000027                ; // Fall through to label ?Subroutine0
    831          }
    832          
    833          
    834          /*********************************************************************
    835           * LOCAL FUNCTIONS
    836           */
    837          static void GenericApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg );
    838          static void GenericApp_HandleKeys( byte shift, byte keys );
    839          static void GenericApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
    840          static void GenericApp_SendTheMessage( afIncomingMSGPacket_t* );
    841          
    842          #if defined( IAR_ARMCM3_LM )
    843          static void GenericApp_ProcessRtosMessage( void );
    844          #endif
    845          
    846          /*********************************************************************
    847           * NETWORK LAYER CALLBACKS
    848           */
    849          
    850          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    851          void GenericApp_Init( uint8 task_id )
   \                     GenericApp_Init:
    852          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
    853            
    854          //  zclSE_Init( &GenericApp_SimpleDesc );
    855            uint16 size;
    856            
    857            GenericApp_TaskID = task_id;
   \   000006   90....       MOV     DPTR,#GenericApp_TaskID
   \   000009   F0           MOVX    @DPTR,A
    858            GenericApp_NwkState = DEV_INIT;
   \   00000A   90....       MOV     DPTR,#GenericApp_NwkState
   \   00000D   7401         MOV     A,#0x1
   \   00000F   F0           MOVX    @DPTR,A
    859            GenericApp_TransID = 0;
   \   000010   90....       MOV     DPTR,#GenericApp_TransID
   \   000013   E4           CLR     A
   \   000014   F0           MOVX    @DPTR,A
    860          
    861            // Device hardware initialization can be added here or in main() (Zmain.c).
    862            // If the hardware is application specific - add it here.
    863            // If the hardware is other parts of the device add it in main().
    864          
    865            GenericApp_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   000015   90....       MOV     DPTR,#GenericApp_DstAddr + 8
   \   000018   7402         MOV     A,#0x2
   \   00001A   F0           MOVX    @DPTR,A
    866            GenericApp_DstAddr.endPoint = GENERICAPP_ENDPOINT;
   \   00001B   A3           INC     DPTR
   \   00001C   7414         MOV     A,#0x14
   \   00001E   F0           MOVX    @DPTR,A
    867            GenericApp_DstAddr.addr.shortAddr = 0xFFFF;
   \   00001F   90....       MOV     DPTR,#GenericApp_DstAddr
   \   000022   74FF         MOV     A,#-0x1
   \   000024   F0           MOVX    @DPTR,A
   \   000025   A3           INC     DPTR
   \   000026   F0           MOVX    @DPTR,A
    868          
    869            // Fill out the endpoint description.
    870            GenericApp_epDesc.endPoint = GENERICAPP_ENDPOINT;
   \   000027   90....       MOV     DPTR,#GenericApp_epDesc
   \   00002A   7414         MOV     A,#0x14
   \   00002C   F0           MOVX    @DPTR,A
    871            GenericApp_epDesc.task_id = &GenericApp_TaskID;
   \   00002D   A3           INC     DPTR
   \   00002E   74..         MOV     A,#GenericApp_TaskID & 0xff
   \   000030   F0           MOVX    @DPTR,A
   \   000031   A3           INC     DPTR
   \   000032   74..         MOV     A,#(GenericApp_TaskID >> 8) & 0xff
   \   000034   F0           MOVX    @DPTR,A
    872            GenericApp_epDesc.simpleDesc
    873                      = (SimpleDescriptionFormat_t *)&GenericApp_SimpleDesc;
   \   000035   A3           INC     DPTR
   \   000036   74..         MOV     A,#GenericApp_SimpleDesc & 0xff
   \   000038   F0           MOVX    @DPTR,A
   \   000039   A3           INC     DPTR
   \   00003A   74..         MOV     A,#(GenericApp_SimpleDesc >> 8) & 0xff
   \   00003C   F0           MOVX    @DPTR,A
    874            GenericApp_epDesc.latencyReq = noLatencyReqs;
   \   00003D   A3           INC     DPTR
   \   00003E   E4           CLR     A
   \   00003F   F0           MOVX    @DPTR,A
    875          
    876            // Register the endpoint description with the AF
    877            afRegister( &GenericApp_epDesc );
   \   000040                ; Setup parameters for call to function afRegister
   \   000040   7A..         MOV     R2,#GenericApp_epDesc & 0xff
   \   000042   7B..         MOV     R3,#(GenericApp_epDesc >> 8) & 0xff
   \   000044   12....       LCALL   ??afRegister?relay
    878          
    879          
    880            RegisterForKeys( GenericApp_TaskID );
   \   000047                ; Setup parameters for call to function RegisterForKeys
   \   000047   90....       MOV     DPTR,#GenericApp_TaskID
   \   00004A   E0           MOVX    A,@DPTR
   \   00004B   F9           MOV     R1,A
   \   00004C   12....       LCALL   ??RegisterForKeys?relay
    881          
    882            // Update the display
    883          #if defined ( LCD_SUPPORTED )
    884            HalLcdWriteString( "GenericApp", HAL_LCD_LINE_1 );
   \   00004F                ; Setup parameters for call to function HalLcdWriteString
   \   00004F   7901         MOV     R1,#0x1
   \   000051   7A..         MOV     R2,#`?<Constant "GenericApp">` & 0xff
   \   000053   7B..         MOV     R3,#(`?<Constant "GenericApp">` >> 8) & 0xff
   \   000055   12....       LCALL   ??HalLcdWriteString?relay
    885          #endif
    886          
    887          #if !defined( ZDO_COORDINATOR )
    888            ZDO_RegisterForZDOMsg( GenericApp_TaskID, End_Device_Bind_rsp );
    889            ZDO_RegisterForZDOMsg( GenericApp_TaskID, Match_Desc_rsp );
    890            
    891          #endif
    892          
    893          
    894          #if defined( IAR_ARMCM3_LM )
    895          
    896            RTOS_RegisterApp( task_id, GENERICAPP_RTOS_MSG_EVT );
    897          #endif
    898            
    899          #if defined ( BUILD_ALL_DEVICES )
    900            size = osal_nv_item_len( ZCD_NV_LOGICAL_TYPE );
   \   000058                ; Setup parameters for call to function osal_nv_item_len
   \   000058   7A87         MOV     R2,#-0x79
   \   00005A   7B00         MOV     R3,#0x0
   \   00005C   12....       LCALL   ??osal_nv_item_len?relay
   \   00005F   8A..         MOV     ?V0 + 0,R2
   \   000061   8B..         MOV     ?V0 + 1,R3
   \   000063   A8..         MOV     R0,?V0 + 0
   \   000065   A9..         MOV     R1,?V0 + 1
    901            if( size  <= sizeof(zgDeviceLogicalType) && size != 0 )
   \   000067   C3           CLR     C
   \   000068   E8           MOV     A,R0
   \   000069   9402         SUBB    A,#0x2
   \   00006B   E9           MOV     A,R1
   \   00006C   9400         SUBB    A,#0x0
   \   00006E   500F         JNC     ??GenericApp_Init_0
   \   000070   E8           MOV     A,R0
   \   000071   49           ORL     A,R1
   \   000072   600B         JZ      ??GenericApp_Init_0
    902            {
    903              cb_ReadConfiguration( ZCD_NV_LOGICAL_TYPE, sizeof(zgDeviceLogicalType), &zgDeviceLogicalType);
   \   000074                ; Setup parameters for call to function cb_ReadConfiguration
   \   000074   7C..         MOV     R4,#zgDeviceLogicalType & 0xff
   \   000076   7D..         MOV     R5,#(zgDeviceLogicalType >> 8) & 0xff
   \   000078   7A01         MOV     R2,#0x1
   \   00007A   7987         MOV     R1,#-0x79
   \   00007C   12....       LCALL   ??cb_ReadConfiguration?relay
    904            }
    905            
    906          #endif
    907          
    908          #if defined ( HOLD_AUTO_START )
    909              // HOLD_AUTO_START is a compile option that will surpress ZDApp
    910              //  from starting the device and wait for the application to
    911              //  start the device.
    912            
    913            if(zgDeviceLogicalType == ZG_DEVICETYPE_COORDINATOR)
   \                     ??GenericApp_Init_0:
   \   00007F   90....       MOV     DPTR,#zgDeviceLogicalType
   \   000082   E0           MOVX    A,@DPTR
   \   000083   7007         JNZ     ??GenericApp_Init_1
    914              uprint("Coord0\n");
   \   000085                ; Setup parameters for call to function uprint
   \   000085   7A..         MOV     R2,#`?<Constant "Coord0\\n">` & 0xff
   \   000087   7B..         MOV     R3,#(`?<Constant "Coord0\\n">` >> 8) & 0xff
   \   000089   12....       LCALL   ??uprint?relay
    915            if(zgDeviceLogicalType == ZG_DEVICETYPE_ROUTER)
   \                     ??GenericApp_Init_1:
   \   00008C   90....       MOV     DPTR,#zgDeviceLogicalType
   \   00008F   E0           MOVX    A,@DPTR
   \   000090   6401         XRL     A,#0x1
   \   000092   7007         JNZ     ??GenericApp_Init_2
    916              uprint("Router0\n");
   \   000094                ; Setup parameters for call to function uprint
   \   000094   7A..         MOV     R2,#`?<Constant "Router0\\n">` & 0xff
   \   000096   7B..         MOV     R3,#(`?<Constant "Router0\\n">` >> 8) & 0xff
   \   000098   12....       LCALL   ??uprint?relay
    917            
    918            ZDOInitDevice(0);
   \                     ??GenericApp_Init_2:
   \   00009B                ; Setup parameters for call to function ZDOInitDevice
   \   00009B   7A00         MOV     R2,#0x0
   \   00009D   7B00         MOV     R3,#0x0
   \   00009F   12....       LCALL   ??ZDOInitDevice?relay
    919            
    920            if(zgDeviceLogicalType == ZG_DEVICETYPE_COORDINATOR)
   \   0000A2   90....       MOV     DPTR,#zgDeviceLogicalType
   \   0000A5   E0           MOVX    A,@DPTR
   \   0000A6   7007         JNZ     ??GenericApp_Init_3
    921              uprint("Coord\n");
   \   0000A8                ; Setup parameters for call to function uprint
   \   0000A8   7A..         MOV     R2,#`?<Constant "Coord\\n">` & 0xff
   \   0000AA   7B..         MOV     R3,#(`?<Constant "Coord\\n">` >> 8) & 0xff
   \   0000AC   12....       LCALL   ??uprint?relay
    922            if(zgDeviceLogicalType == ZG_DEVICETYPE_ROUTER)
   \                     ??GenericApp_Init_3:
   \   0000AF   90....       MOV     DPTR,#zgDeviceLogicalType
   \   0000B2   E0           MOVX    A,@DPTR
   \   0000B3   6401         XRL     A,#0x1
   \   0000B5   7007         JNZ     ??GenericApp_Init_4
    923              uprint("Router\n");
   \   0000B7                ; Setup parameters for call to function uprint
   \   0000B7   7A..         MOV     R2,#`?<Constant "Router\\n">` & 0xff
   \   0000B9   7B..         MOV     R3,#(`?<Constant "Router\\n">` >> 8) & 0xff
   \   0000BB   12....       LCALL   ??uprint?relay
    924          
    925            
    926          #endif   
    927            
    928            io_init();
   \                     ??GenericApp_Init_4:
   \   0000BE                ; Setup parameters for call to function io_init
   \   0000BE   12....       LCALL   ??io_init?relay
    929            
    930            serial_init( );
   \   0000C1                ; Setup parameters for call to function serial_init
   \   0000C1   12....       LCALL   ??serial_init?relay
    931          
    932            
    933          //  HalLedSet( HAL_LED_2, HAL_LED_MODE_ON );
    934          //  HalLedSet( HAL_LED_1, HAL_LED_MODE_ON );
    935          //  NLME_PermitJoiningRequest(0xFE);
    936          
    937          
    938            
    939          }
   \   0000C4   02....       LJMP    ??Subroutine23_0 & 0xFFFF
    940          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    941          uint16 GenericApp_ProcessEvent( uint8 task_id, uint16 events )
   \                     GenericApp_ProcessEvent:
    942          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
    943            afIncomingMSGPacket_t *MSGpkt;
    944            afDataConfirm_t *afDataConfirm;
    945          
    946            // Data Confirmation message fields
    947            byte sentEP;
    948            ZStatus_t sentStatus;
    949            byte sentTransID;       // This should match the value sent
    950            (void)task_id;  // Intentionally unreferenced parameter
    951          
    952            if ( events & SYS_EVENT_MSG )
   \   000009   EB           MOV     A,R3
   \   00000A   5480         ANL     A,#0x80
   \   00000C   7003         JNZ     $+5
   \   00000E   02....       LJMP    ??GenericApp_ProcessEvent_0 & 0xFFFF
    953            {
    954              MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( GenericApp_TaskID );
   \   000011                ; Setup parameters for call to function osal_msg_receive
   \   000011   800D         SJMP    ??GenericApp_ProcessEvent_1
    955              while ( MSGpkt )
    956              {
    957                switch ( MSGpkt->hdr.event )
    958                {
    959                  case ZDO_CB_MSG:
    960                    GenericApp_ProcessZDOMsgs( (zdoIncomingMsg_t *)MSGpkt );
    961                    break;
    962          
    963                  case KEY_CHANGE:
    964                    {
    965                     // HalLedSet ( HAL_LED_1, HAL_LED_MODE_BLINK );
    966                     // UART_Send_String("KEY_CHANGE", 10);
    967                      GenericApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
    968                    }
    969                    break;
    970          
    971                  case AF_DATA_CONFIRM_CMD:
    972                    // This message is received as a confirmation of a data packet sent.
    973                    // The status is of ZStatus_t type [defined in ZComDef.h]
    974                    // The message fields are defined in AF.h
    975                    afDataConfirm = (afDataConfirm_t *)MSGpkt;
    976                    sentEP = afDataConfirm->endpoint;
    977                    sentStatus = afDataConfirm->hdr.status;
    978                    sentTransID = afDataConfirm->transID;
    979                    (void)sentEP;
    980                    (void)sentTransID;
    981          
    982                    // Action taken when confirmation is received.
    983                    if ( sentStatus != ZSuccess )
    984                    {
    985                      // The data wasn't delivered -- Do something
    986                      uprint("AF_DATA_CONFIRM_CMD ERR");
    987                      
    988                    }
    989                    break;
    990                            
    991                  case AF_INCOMING_MSG_CMD:
    992                    
    993                    
    994                    GenericApp_MessageMSGCB( MSGpkt );
    995                    break;
    996          
    997                  case ZDO_STATE_CHANGE:
    998                    GenericApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
   \                     ??GenericApp_ProcessEvent_2:
   \   000013   A3           INC     DPTR
   \   000014   E0           MOVX    A,@DPTR
   \   000015   90....       MOV     DPTR,#GenericApp_NwkState
   \   000018   F0           MOVX    @DPTR,A
    999                    if ( (GenericApp_NwkState == DEV_ZB_COORD)
   1000                        || (GenericApp_NwkState == DEV_ROUTER)
   1001                        || (GenericApp_NwkState == DEV_END_DEVICE) )
   1002                    {
   1003          /*
   1004                      osal_start_timerEx( GenericApp_TaskID,
   1005                                          GENERICAPP_SEND_MSG_EVT,
   1006                                          GENERICAPP_SEND_MSG_TIMEOUT );
   1007          */
   1008                    }
   1009                    
   1010                    break;
   1011          
   1012                  default:
   1013                    break;
   1014                }
   1015          
   1016                // Release the memory
   1017                osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??GenericApp_ProcessEvent_3:
   \   000019                ; Setup parameters for call to function osal_msg_deallocate
   \   000019   EE           MOV     A,R6
   \   00001A   FA           MOV     R2,A
   \   00001B   EF           MOV     A,R7
   \   00001C   FB           MOV     R3,A
   \   00001D   12....       LCALL   ??osal_msg_deallocate?relay
   1018          
   1019                // Next
   1020                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( GenericApp_TaskID );
   \   000020                ; Setup parameters for call to function osal_msg_receive
   \                     ??GenericApp_ProcessEvent_1:
   \   000020   90....       MOV     DPTR,#GenericApp_TaskID
   \   000023   E0           MOVX    A,@DPTR
   \   000024   F9           MOV     R1,A
   \   000025   12....       LCALL   ??osal_msg_receive?relay
   \   000028   8A..         MOV     ?V0 + 2,R2
   \   00002A   8B..         MOV     ?V0 + 3,R3
   \   00002C   AE..         MOV     R6,?V0 + 2
   \   00002E   AF..         MOV     R7,?V0 + 3
   \   000030   EE           MOV     A,R6
   \   000031   4F           ORL     A,R7
   \   000032   7003         JNZ     $+5
   \   000034   02....       LJMP    ??GenericApp_ProcessEvent_4 & 0xFFFF
   \   000037   8E82         MOV     DPL,R6
   \   000039   8F83         MOV     DPH,R7
   \   00003B   E0           MOVX    A,@DPTR
   \   00003C   24E6         ADD     A,#-0x1a
   \   00003E   7003         JNZ     $+5
   \   000040   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
   \   000043   245A         ADD     A,#0x5a
   \   000045   7003         JNZ     $+5
   \   000047   02....       LJMP    ??GenericApp_ProcessEvent_6 & 0xFFFF
   \   00004A   24EF         ADD     A,#-0x11
   \   00004C   60C5         JZ      ??GenericApp_ProcessEvent_2
   \   00004E   24FE         ADD     A,#-0x2
   \   000050   6009         JZ      ??GenericApp_ProcessEvent_7
   \   000052   24D6         ADD     A,#-0x2a
   \   000054   7003         JNZ     $+5
   \   000056   02....       LJMP    ??GenericApp_ProcessEvent_8 & 0xFFFF
   \   000059   80BE         SJMP    ??GenericApp_ProcessEvent_3
   \                     ??GenericApp_ProcessEvent_7:
   \   00005B   EE           MOV     A,R6
   \   00005C   240C         ADD     A,#0xc
   \   00005E   F582         MOV     DPL,A
   \   000060   EF           MOV     A,R7
   \   000061   12....       LCALL   ??Subroutine25_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_56:
   \   000064   F5..         MOV     ?V0 + 2,A
   \   000066   A3           INC     DPTR
   \   000067   E0           MOVX    A,@DPTR
   \   000068   F5..         MOV     ?V0 + 3,A
   \   00006A   78..         MOV     R0,#?V0 + 2
   \   00006C   12....       LCALL   ?US_SWITCH_SPARSE
   \                     `?<Jumptable for GenericApp_ProcessEvent>_0`:
   \   00006F   0000         DW        0
   \   000071   0200         DW        2
   \   000073   0680         DW        32774
   \   000075   ....         DW        ??GenericApp_ProcessEvent_9
   \   000077   2080         DW        32800
   \   000079   ....         DW        ??GenericApp_ProcessEvent_10
   \   00007B   ....         DW        ??GenericApp_ProcessEvent_11
   \                     ??GenericApp_ProcessEvent_9:
   \   00007D                ; Setup parameters for call to function uprint
   \   00007D   7A..         MOV     R2,#`?<Constant "Match_Desc_rsp">` & 0xff
   \   00007F   7B..         MOV     R3,#(`?<Constant "Match_Desc_rsp">` >> 8) & 0xff
   \   000081   12....       LCALL   ??uprint?relay
   \   000084                ; Setup parameters for call to function ZDO_ParseEPListRsp
   \   000084   EE           MOV     A,R6
   \   000085   FA           MOV     R2,A
   \   000086   EF           MOV     A,R7
   \   000087   FB           MOV     R3,A
   \   000088   12....       LCALL   ??ZDO_ParseEPListRsp?relay
   \   00008B   EA           MOV     A,R2
   \   00008C   4B           ORL     A,R3
   \   00008D   608A         JZ      ??GenericApp_ProcessEvent_3
   \   00008F   8A82         MOV     DPL,R2
   \   000091   8B83         MOV     DPH,R3
   \   000093   E0           MOVX    A,@DPTR
   \   000094   7027         JNZ     ??GenericApp_ProcessEvent_12
   \   000096   A3           INC     DPTR
   \   000097   A3           INC     DPTR
   \   000098   A3           INC     DPTR
   \   000099   E0           MOVX    A,@DPTR
   \   00009A   6021         JZ      ??GenericApp_ProcessEvent_12
   \   00009C   90....       MOV     DPTR,#GenericApp_DstAddr + 8
   \   00009F   7402         MOV     A,#0x2
   \   0000A1   F0           MOVX    @DPTR,A
   \   0000A2   8A82         MOV     DPL,R2
   \   0000A4   8B83         MOV     DPH,R3
   \   0000A6   A3           INC     DPTR
   \   0000A7   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_23:
   \   0000AA   90....       MOV     DPTR,#GenericApp_DstAddr
   \   0000AD   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_48:
   \   0000B0   8A82         MOV     DPL,R2
   \   0000B2   8B83         MOV     DPH,R3
   \   0000B4   A3           INC     DPTR
   \   0000B5   A3           INC     DPTR
   \   0000B6   A3           INC     DPTR
   \   0000B7   A3           INC     DPTR
   \   0000B8   E0           MOVX    A,@DPTR
   \   0000B9   90....       MOV     DPTR,#GenericApp_DstAddr + 9
   \   0000BC   F0           MOVX    @DPTR,A
   \                     ??GenericApp_ProcessEvent_12:
   \   0000BD                ; Setup parameters for call to function osal_mem_free
   \   0000BD   12....       LCALL   ??osal_mem_free?relay
   \   0000C0   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_10:
   \   0000C3                ; Setup parameters for call to function uprint
   \   0000C3   7A..         MOV     R2,#`?<Constant "End_Device_Bind_rsp">` & 0xff
   \   0000C5   7B..         MOV     R3,#(`?<Constant "End_Device_Bind_rsp">` >> 8) & 0xff
   \   0000C7   12....       LCALL   ??uprint?relay
   \   0000CA   EE           MOV     A,R6
   \   0000CB   2413         ADD     A,#0x13
   \   0000CD   F582         MOV     DPL,A
   \   0000CF   EF           MOV     A,R7
   \   0000D0   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_11:
   \   0000D3   6003         JZ      $+5
   \   0000D5   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   \   0000D8                ; Setup parameters for call to function HalLedSet
   \   0000D8   7A01         MOV     R2,#0x1
   \   0000DA   7902         MOV     R1,#0x2
   \   0000DC   12....       LCALL   ??HalLedSet?relay
   \   0000DF   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_11:
   \   0000E2                ; Setup parameters for call to function uprint
   \   0000E2   7A..         MOV     R2,#`?<Constant "GenericApp_ProcessZDO...">` & 0xff
   \   0000E4   7B..         MOV     R3,#(`?<Constant "GenericApp_ProcessZDO...">` >> 8) & 0xff
   \                     ??GenericApp_ProcessEvent_13:
   \   0000E6   12....       LCALL   ??uprint?relay
   \   0000E9   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_6:
   \   0000EC   A3           INC     DPTR
   \   0000ED   A3           INC     DPTR
   \   0000EE   A3           INC     DPTR
   \   0000EF   E0           MOVX    A,@DPTR
   \   0000F0   F5..         MOV     ?V0 + 2,A
   \   0000F2   A2E0         MOV     C,0xE0 /* A   */.0
   \   0000F4   5007         JNC     ??GenericApp_ProcessEvent_14
   \   0000F6                ; Setup parameters for call to function uprint
   \   0000F6   7A..         MOV     R2,#`?<Constant "key1">` & 0xff
   \   0000F8   7B..         MOV     R3,#(`?<Constant "key1">` >> 8) & 0xff
   \   0000FA   12....       LCALL   ??uprint?relay
   \                     ??GenericApp_ProcessEvent_14:
   \   0000FD   E5..         MOV     A,?V0 + 2
   \   0000FF   A2E1         MOV     C,0xE0 /* A   */.1
   \   000101   5007         JNC     ??GenericApp_ProcessEvent_15
   \   000103                ; Setup parameters for call to function uprint
   \   000103   7A..         MOV     R2,#`?<Constant "key2">` & 0xff
   \   000105   7B..         MOV     R3,#(`?<Constant "key2">` >> 8) & 0xff
   \   000107   12....       LCALL   ??uprint?relay
   \                     ??GenericApp_ProcessEvent_15:
   \   00010A   E5..         MOV     A,?V0 + 2
   \   00010C   A2E4         MOV     C,0xE0 /* A   */.4
   \   00010E   5007         JNC     ??GenericApp_ProcessEvent_16
   \   000110                ; Setup parameters for call to function uprint
   \   000110   7A..         MOV     R2,#`?<Constant "key3">` & 0xff
   \   000112   7B..         MOV     R3,#(`?<Constant "key3">` >> 8) & 0xff
   \   000114   12....       LCALL   ??uprint?relay
   \                     ??GenericApp_ProcessEvent_16:
   \   000117   E5..         MOV     A,?V0 + 2
   \   000119   A2E3         MOV     C,0xE0 /* A   */.3
   \   00011B   5007         JNC     ??GenericApp_ProcessEvent_17
   \   00011D                ; Setup parameters for call to function uprint
   \   00011D   7A..         MOV     R2,#`?<Constant "key4">` & 0xff
   \   00011F   7B..         MOV     R3,#(`?<Constant "key4">` >> 8) & 0xff
   \   000121   12....       LCALL   ??uprint?relay
   \                     ??GenericApp_ProcessEvent_17:
   \   000124   E5..         MOV     A,?V0 + 2
   \   000126   A2E2         MOV     C,0xE0 /* A   */.2
   \   000128   5007         JNC     ??GenericApp_ProcessEvent_18
   \   00012A                ; Setup parameters for call to function uprint
   \   00012A   7A..         MOV     R2,#`?<Constant "key5">` & 0xff
   \   00012C   7B..         MOV     R3,#(`?<Constant "key5">` >> 8) & 0xff
   \   00012E   12....       LCALL   ??uprint?relay
   \                     ??GenericApp_ProcessEvent_18:
   \   000131   E5..         MOV     A,?V0 + 2
   \   000133   A2E5         MOV     C,0xE0 /* A   */.5
   \   000135   5007         JNC     ??GenericApp_ProcessEvent_19
   \   000137                ; Setup parameters for call to function uprint
   \   000137   7A..         MOV     R2,#`?<Constant "key6">` & 0xff
   \   000139   7B..         MOV     R3,#(`?<Constant "key6">` >> 8) & 0xff
   \   00013B   12....       LCALL   ??uprint?relay
   \                     ??GenericApp_ProcessEvent_19:
   \   00013E   E5..         MOV     A,?V0 + 2
   \   000140   A2E6         MOV     C,0xE0 /* A   */.6
   \   000142   4003         JC      $+5
   \   000144   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   \   000147                ; Setup parameters for call to function uprint
   \   000147   7A..         MOV     R2,#`?<Constant "key7">` & 0xff
   \   000149   7B..         MOV     R3,#(`?<Constant "key7">` >> 8) & 0xff
   \   00014B   8099         SJMP    ??GenericApp_ProcessEvent_13
   \                     ??GenericApp_ProcessEvent_8:
   \   00014D   A3           INC     DPTR
   \   00014E   E0           MOVX    A,@DPTR
   \   00014F   7003         JNZ     $+5
   \   000151   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   \   000154                ; Setup parameters for call to function uprint
   \   000154   7A..         MOV     R2,#`?<Constant "AF_DATA_CONFIRM_CMD ERR">` & 0xff
   \   000156   7B..         MOV     R3,#(`?<Constant "AF_DATA_CONFIRM_CMD ERR">` >> 8) & 0xff
   \   000158   808C         SJMP    ??GenericApp_ProcessEvent_13
   \                     ??GenericApp_ProcessEvent_5:
   \   00015A                ; Setup parameters for call to function GenericApp_MessageMSGCB
   \   00015A   EE           MOV     A,R6
   \   00015B   FA           MOV     R2,A
   \   00015C   EF           MOV     A,R7
   \   00015D   FB           MOV     R3,A
   \   00015E   12....       LCALL   ??GenericApp_MessageMSGCB?relay
   \   000161   02....       LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
   1021              }
   1022          
   1023              // return unprocessed events
   1024              return (events ^ SYS_EVENT_MSG);
   \                     ??GenericApp_ProcessEvent_4:
   \   000164   AA..         MOV     R2,?V0 + 0
   \   000166   E5..         MOV     A,?V0 + 1
   \   000168   6480         XRL     A,#0x80
   \   00016A   FB           MOV     R3,A
   \   00016B   8004         SJMP    ??GenericApp_ProcessEvent_20
   1025            }
   1026          
   1027            // Send a message out - This event is generated by a timer
   1028            //  (setup in GenericApp_Init()).
   1029          
   1030          
   1031            
   1032          #if defined( IAR_ARMCM3_LM )
   1033            // Receive a message from the RTOS queue
   1034            if ( events & GENERICAPP_RTOS_MSG_EVT )
   1035            {
   1036              // Process message from RTOS queue
   1037              GenericApp_ProcessRtosMessage();
   1038          
   1039              // return unprocessed events
   1040              return (events ^ GENERICAPP_RTOS_MSG_EVT);
   1041            }
   1042          #endif
   1043          
   1044            // Discard unknown events
   1045            return 0;
   \                     ??GenericApp_ProcessEvent_0:
   \   00016D   7A00         MOV     R2,#0x0
   \   00016F   7B00         MOV     R3,#0x0
   \                     ??GenericApp_ProcessEvent_20:
   \   000171   02....       LJMP    ?Subroutine2 & 0xFFFF
   1046          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine25_0:
   \   000000   3400         ADDC    A,#0x0
   \   000002   F583         MOV     DPH,A
   \   000004   E0           MOVX    A,@DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   3400         ADDC    A,#0x0
   \   000002   F583         MOV     DPH,A
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F8           MOV     R0,A
   \   000006   A3           INC     DPTR
   \   000007   E0           MOVX    A,@DPTR
   \   000008   F583         MOV     DPH,A
   \   00000A   8882         MOV     DPL,R0
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   22           RET
   1047          
   1048          
   1049          static void GenericApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg )
   1050          {
   1051            
   1052            
   1053            switch ( inMsg->clusterID )
   1054            {
   1055              case End_Device_Bind_rsp:
   1056                uprint("End_Device_Bind_rsp");
   1057                if ( ZDO_ParseBindRsp( inMsg ) == ZSuccess )
   1058                {
   1059                  // Light LED
   1060                  HalLedSet( HAL_LED_2, HAL_LED_MODE_ON );
   1061                }
   1062          #if defined( BLINK_LEDS )
   1063                else
   1064                {
   1065                  // Flash LED to show failure
   1066                  //HalLedSet ( HAL_LED_1, HAL_LED_MODE_FLASH );
   1067                }
   1068          #endif
   1069                break;
   1070          
   1071              case Match_Desc_rsp:
   1072                {
   1073                  uprint("Match_Desc_rsp");
   1074                  
   1075                  ZDO_ActiveEndpointRsp_t *pRsp = ZDO_ParseEPListRsp( inMsg );
   1076                  if ( pRsp )
   1077                  {
   1078                    if ( pRsp->status == ZSuccess && pRsp->cnt )
   1079                    {
   1080                      GenericApp_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   1081                      GenericApp_DstAddr.addr.shortAddr = pRsp->nwkAddr;
   1082                      // Take the first endpoint, Can be changed to search through endpoints
   1083                      GenericApp_DstAddr.endPoint = pRsp->epList[0];
   1084          
   1085                      // Light LED
   1086                      //HalLedSet( HAL_LED_1, HAL_LED_MODE_ON );
   1087                    }
   1088                    osal_mem_free( pRsp );
   1089                  }
   1090                }
   1091                break;
   1092            default:
   1093                uprint("GenericApp_ProcessZDOMsgs");
   1094                break;
   1095            }
   1096          }
   1097          
   1098          /*********************************************************************
   1099           * @fn      GenericApp_HandleKeys
   1100           *
   1101           * @brief   Handles all key events for this device.
   1102           *
   1103           * @param   shift - true if in shift/alt.
   1104           * @param   keys - bit field for key events. Valid entries:
   1105           *                 HAL_KEY_SW_4
   1106           *                 HAL_KEY_SW_3
   1107           *                 HAL_KEY_SW_2
   1108           *                 HAL_KEY_SW_1
   1109           *
   1110           * @return  none
   1111           */
   1112          static void GenericApp_HandleKeys( uint8 shift, uint8 keys )
   1113          {
   1114            zAddrType_t dstAddr;
                               ^
Warning[Pe177]: variable "dstAddr" was declared but never referenced
   1115          
   1116            // Shift is used to make each button/switch dual purpose.
   1117            ///UART_Send_String( (byte*)keys, 1);
   1118          
   1119              if ( keys & HAL_KEY_SW_1 )
   1120              {
   1121                 uprint("key1");
   1122              }
   1123              if ( keys & HAL_KEY_SW_2 )
   1124              {
   1125                uprint("key2");
   1126              }
   1127              if ( keys & HAL_KEY_SW_3 )
   1128              {
   1129                uprint("key3");
   1130              }
   1131              if ( keys & HAL_KEY_SW_4 )
   1132              {
   1133                uprint("key4");
   1134              }
   1135              
   1136              if ( keys & HAL_KEY_SW_5 )
   1137              {
   1138                uprint("key5");
   1139              }
   1140          
   1141              if ( keys & HAL_KEY_SW_6 )
   1142              {
   1143                uprint("key6");
   1144              }
   1145              
   1146              if ( keys & HAL_KEY_SW_7 )
   1147              {
   1148                uprint("key7");
   1149              }
   1150             
   1151          /*  
   1152            if ( shift )
   1153            {
   1154           
   1155              if ( keys & HAL_KEY_SW_1 )
   1156              {
   1157                 uprint("key1");
   1158              }
   1159              if ( keys & HAL_KEY_SW_2 )
   1160              {
   1161                uprint("key2");
   1162              }
   1163              if ( keys & HAL_KEY_SW_3 )
   1164              {
   1165                uprint("key3");
   1166              }
   1167              if ( keys & HAL_KEY_SW_4 )
   1168              {
   1169                uprint("key4");
   1170              }
   1171              
   1172              if ( keys & HAL_KEY_SW_5 )
   1173              {
   1174                uprint("key5");
   1175              }
   1176          
   1177              if ( keys & HAL_KEY_SW_6 )
   1178             {
   1179                uprint("key6");
   1180             }
   1181             if ( keys & HAL_KEY_SW_7 )
   1182             {
   1183                uprint("key7");
   1184             }
   1185            }
   1186            else
   1187            {
   1188          
   1189              if ( keys & HAL_KEY_SW_2 )
   1190              {
   1191                uprint("key2 no s");
   1192                HalLedSet ( HAL_LED_1, HAL_LED_MODE_OFF );
   1193          
   1194                // Initiate an End Device Bind Request for the mandatory endpoint
   1195                dstAddr.addrMode = Addr16Bit;
   1196                dstAddr.addr.shortAddr = 0x0000; // Coordinator
   1197                ZDP_EndDeviceBindReq( &dstAddr, NLME_GetShortAddr(),
   1198                                      GenericApp_epDesc.endPoint,
   1199                                      GENERICAPP_PROFID,
   1200                                      GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
   1201                                      GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
   1202                                      FALSE );
   1203              }
   1204          
   1205              if ( keys & HAL_KEY_SW_1 )
   1206              {
   1207                uprint("key1 no s");
   1208              }
   1209              
   1210              if ( keys & HAL_KEY_SW_4 )
   1211             {
   1212                uprint("key4 no s");
   1213                HalLedSet ( HAL_LED_1, HAL_LED_MODE_OFF );
   1214                // Initiate a Match Description Request (Service Discovery)
   1215                dstAddr.addrMode = AddrBroadcast;
   1216                dstAddr.addr.shortAddr = NWK_BROADCAST_SHORTADDR;
   1217                ZDP_MatchDescReq( &dstAddr, NWK_BROADCAST_SHORTADDR,
   1218                                  GENERICAPP_PROFID,
   1219                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
   1220                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
   1221                                  FALSE );
   1222              }
   1223              
   1224              if ( keys & HAL_KEY_SW_6 )
   1225              {
   1226                uprint("key6 no s");
   1227                AF_DataRequest( &GenericApp_DstAddr, &GenericApp_epDesc,
   1228                                 GENERICAPP_CLUSTERID,
   1229                                 6,
   1230                                 "hello6",
   1231                                 &GenericApp_TransID,
   1232                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS );         
   1233              }   
   1234          
   1235              if ( keys & HAL_KEY_SW_7 )
   1236              {
   1237                uprint("key7 no s");    
   1238              }
   1239            }
   1240          */
   1241            /*
   1242                HalLedSet ( HAL_LED_1, HAL_LED_MODE_FLASH );
   1243          
   1244                dstAddr.addrMode = AddrBroadcast;
   1245                dstAddr.addr.shortAddr = NWK_BROADCAST_SHORTADDR;
   1246                ZDP_MatchDescReq( &dstAddr, NWK_BROADCAST_SHORTADDR,
   1247                                  GENERICAPP_PROFID,
   1248                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
   1249                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
   1250                                  FALSE );
   1251              */  
   1252          
   1253          }
   1254          
   1255          /*********************************************************************
   1256           * LOCAL FUNCTIONS
   1257           */
   1258          
   1259          /*********************************************************************
   1260           * @fn      GenericApp_MessageMSGCB
   1261           *
   1262           * @brief   Data message processor callback.  This function processes
   1263           *          any incoming data - probably from other devices.  So, based
   1264           *          on cluster ID, perform the intended action.
   1265           *
   1266           * @param   none
   1267           *
   1268           * @return  none
   1269           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1270          static void GenericApp_MessageMSGCB( afIncomingMSGPacket_t *pkt )
   \                     GenericApp_MessageMSGCB:
   1271          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1272            unsigned char buff[12];
                                 ^
Warning[Pe177]: variable "buff" was declared but never referenced
   1273          
   1274            byte nr;
                        ^
Warning[Pe177]: variable "nr" was declared but never referenced
   1275            uint8 i;
                         ^
Warning[Pe177]: variable "i" was declared but never referenced
   1276            uint8 ass_num;
                         ^
Warning[Pe550]: variable "ass_num" was set but never used
   1277          
   1278            uint8 yy1;
                         ^
Warning[Pe550]: variable "yy1" was set but never used
   1279            
   1280            afAddrType_t myaddr; // use for p2p
                                ^
Warning[Pe177]: variable "myaddr" was declared but never referenced
   1281            
   1282            ass_num = 0;
   1283            
   1284            switch ( pkt->clusterId )
   \   000004   8A82         MOV     DPL,R2
   \   000006   8B83         MOV     DPH,R3
   \   000008   A3           INC     DPTR
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   6401         XRL     A,#0x1
   \   00000F   7002         JNZ     ??GenericApp_MessageMSGCB_0
   \   000011   A3           INC     DPTR
   \   000012   E0           MOVX    A,@DPTR
   \                     ??GenericApp_MessageMSGCB_0:
   \   000013   6003         JZ      $+5
   \   000015   02....       LJMP    ??GenericApp_MessageMSGCB_1 & 0xFFFF
   1285            {
   1286              case GENERICAPP_CLUSTERID:
   1287              if( pkt->cmd.DataLength == 1)
   1288              {      
   1289                  yy1 = 1;
   1290          #if !defined( ZDO_COORDINATOR ) 
   1291                  if(pkt->cmd.Data[0] == 0x6d)
   1292                  {
   1293                    /// return mac address : ac xx xx ieee addr
   1294                         myaddr.addrMode = (afAddrMode_t)Addr16Bit;
   1295                         myaddr.endPoint = GENERICAPP_ENDPOINT;          
   1296                         myaddr.addr.shortAddr = 0x0000;
   1297                         
   1298                      ieeeAddr = NLME_GetExtAddr();
   1299                      osal_cpyExtAddr(buff+3, ieeeAddr);
   1300                      buff[0] = 0xac;
   1301                      buff[1] = LO_UINT16(_NIB.nwkDevAddress);
   1302                      buff[2] = HI_UINT16(_NIB.nwkDevAddress);
   1303                      if ( AF_DataRequest( &myaddr, &GenericApp_epDesc, GENERICAPP_CLUSTERID,  11,
   1304                                    &buff[0],
   1305                                    &GenericApp_TransID,
   1306                                    AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) != afStatus_SUCCESS )
   1307                      {
   1308                           AF_DataRequest( &myaddr, &GenericApp_epDesc, GENERICAPP_CLUSTERID,  11,
   1309                                    &buff[0],
   1310                                    &GenericApp_TransID,
   1311                                    AF_DISCV_ROUTE, AF_DEFAULT_RADIUS );
   1312                        // send twice only, if it is still not ok, fuck it
   1313                      }            
   1314                      
   1315                  }
   1316                  // only routers return devlist
   1317                  if( pkt->cmd.Data[0] == 0xCA )
   1318                  {
   1319                         myaddr.addrMode = (afAddrMode_t)Addr16Bit;
   1320                         myaddr.endPoint = GENERICAPP_ENDPOINT;          
   1321                         myaddr.addr.shortAddr = 0x0000;
   1322                    
   1323                  ass_num = AssocCount(1, 4);
   1324                //  if( ass_num > 0)
   1325                  //{
   1326                    for(i=0;i< NWK_MAX_DEVICES; i++)
   1327                    {
   1328                       nr = AssociatedDevList[ i ].nodeRelation;
   1329                        if(nr > 0 && nr < 5) //CHILD_RFD CHILD_RFD_RX_IDLE CHILD_FFD CHILD_FFD_RX_IDLE
   1330                       //if( nr != 0XFF)
   1331                       {
   1332                       //  if( AssociatedDevList[ i ].shortAddr != 0x0000)
   1333                       //  {
   1334                            //if( AssocIsChild( AssociatedDevList[ i ].shortAddr ) != 1 || AssociatedDevList[ i ].age > NWK_ROUTE_AGE_LIMIT)
   1335                            //if( AssocIsChild( AssociatedDevList[ i ].shortAddr ) == 1 && AssociatedDevList[ i ].age > NWK_ROUTE_AGE_LIMIT )
   1336                           // {
   1337                              //  myaddr.addr.shortAddr = AssociatedDevList[ i ].shortAddr;
   1338                                /*
   1339                                if ( AF_DataRequest( &myaddr, &GenericApp_epDesc, GENERICAPP_CLUSTERID,(byte)osal_strlen( theMessageData ) + 1,
   1340                                        (byte *)&theMessageData,
   1341                                        &GenericApp_TransID,
   1342                                        AF_ACK_REQUEST, AF_DEFAULT_RADIUS ) != afStatus_SUCCESS )
   1343                                  {
   1344                                    uprint("delete asso");
   1345                                  */
   1346                             //       delete_asso( AssociatedDevList[ i ]. addrIdx);
   1347                                    
   1348                            // }
   1349                              //    else
   1350                               //   {
   1351                                    devlist[yy1] = AssociatedDevList[ i ].shortAddr;
   1352                                    yy1++;
   1353                               //   }
   1354                            
   1355                            // }
   1356                       }
   1357                        else { break; }
   1358                    }
   1359                 // }else
   1360                  //{
   1361                    //devlist[yy1] = 0;
   1362                  //}
   1363                    devlist[0] = BUILD_UINT16(0xce,  ass_num );
   1364                    if ( AF_DataRequest( &myaddr, &GenericApp_epDesc, GENERICAPP_CLUSTERID, yy1*2,
   1365                                    (byte *)&devlist,
   1366                                    &GenericApp_TransID,
   1367                                    AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) != afStatus_SUCCESS )
   1368                    {
   1369                        AF_DataRequest( &myaddr, &GenericApp_epDesc, GENERICAPP_CLUSTERID, yy1*2,
   1370                                    (byte *)&devlist,
   1371                                    &GenericApp_TransID,
   1372                                    AF_DISCV_ROUTE, AF_DEFAULT_RADIUS );
   1373                       // send twice only, if it is still not ok, fuck it
   1374                    }
   1375                  
   1376                    
   1377                    //cb_SendDataRequest( 0x0000, GENERICAPP_CLUSTERID, yy1*2+1, (uint8*)&devlist[0], 0, AF_DISCV_ROUTE, 0 );
   1378                    
   1379                    //UART_Send_String( (uint8*)&devlist[0], yy1*2);
   1380                    
   1381                      //p1 = AssocMakeList( &cnt );
   1382                      //UART_Send_String( (uint8*)p1,  AssocCount(1, 4)*2);
   1383                      //osal_mem_free(p1);
   1384                  }
   1385          #endif  
   1386              } //if( pkt->cmd.DataLength == 1)
   1387              
   1388              if( pkt->cmd.DataLength == 3)
   \   000018   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_58:
   \   00001B   6403         XRL     A,#0x3
   \   00001D   7002         JNZ     ??GenericApp_MessageMSGCB_2
   \   00001F   A3           INC     DPTR
   \   000020   E0           MOVX    A,@DPTR
   \                     ??GenericApp_MessageMSGCB_2:
   \   000021   706B         JNZ     ??GenericApp_MessageMSGCB_3
   1389              { 
   1390                  //ed fa 01 ,turn on led 1
   1391                  //ed ff 01  turn off led 1
   1392                  if( pkt->cmd.Data[0] == 0xed  && pkt->cmd.Data[1] == 0xfa )
   \   000023   EA           MOV     A,R2
   \   000024   2422         ADD     A,#0x22
   \   000026   F582         MOV     DPL,A
   \   000028   EB           MOV     A,R3
   \   000029   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_12:
   \   00002C   64ED         XRL     A,#0xed
   \   00002E   7017         JNZ     ??GenericApp_MessageMSGCB_4
   \   000030   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_3:
   \   000033   64FA         XRL     A,#0xfa
   \   000035   7010         JNZ     ??GenericApp_MessageMSGCB_4
   1393                  {
   1394                      switch(pkt->cmd.Data[2])
   \   000037   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_0:
   \   00003A   6005         JZ      ??GenericApp_MessageMSGCB_5
   \   00003C   14           DEC     A
   \   00003D   6006         JZ      ??GenericApp_MessageMSGCB_6
   \   00003F   8006         SJMP    ??GenericApp_MessageMSGCB_4
   1395                      {
   1396                        case 0x01:
   1397                          LED1 = 1;
   \                     ??GenericApp_MessageMSGCB_5:
   \   000041   D290         SETB    0x90.0
   1398                          break;
   \   000043   8002         SJMP    ??GenericApp_MessageMSGCB_4
   1399                        case 0x02:
   1400                           LED2 = 1;
   \                     ??GenericApp_MessageMSGCB_6:
   \   000045   D291         SETB    0x90.1
   1401                          break;
   1402                        default:break;
   1403                      }
   1404                             
   1405                  }
   1406                  if( pkt->cmd.Data[0] == 0xed  && pkt->cmd.Data[1] == 0xff )
   \                     ??GenericApp_MessageMSGCB_4:
   \   000047   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_13:
   \   00004A   7016         JNZ     ??GenericApp_MessageMSGCB_7
   \   00004C   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_4:
   \   00004F   F4           CPL     A
   \   000050   7010         JNZ     ??GenericApp_MessageMSGCB_7
   1407                  {
   1408                      switch(pkt->cmd.Data[2])
   \   000052   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_1:
   \   000055   6005         JZ      ??GenericApp_MessageMSGCB_8
   \   000057   14           DEC     A
   \   000058   6006         JZ      ??GenericApp_MessageMSGCB_9
   \   00005A   8006         SJMP    ??GenericApp_MessageMSGCB_7
   1409                      {
   1410                        case 0x01:
   1411                          LED1 = 0;
   \                     ??GenericApp_MessageMSGCB_8:
   \   00005C   C290         CLR     0x90.0
   1412                          break;
   \   00005E   8002         SJMP    ??GenericApp_MessageMSGCB_7
   1413                        case 0x02:
   1414                           LED2 = 0;
   \                     ??GenericApp_MessageMSGCB_9:
   \   000060   C291         CLR     0x90.1
   1415                          break;
   1416                        default:break;
   1417                      }          
   1418                  }
   1419                  if( pkt->cmd.Data[0] == 0xed  && pkt->cmd.Data[1] == 0xfc ) //
   \                     ??GenericApp_MessageMSGCB_7:
   \   000062   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_14:
   \   000065   7027         JNZ     ??GenericApp_MessageMSGCB_3
   \   000067   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_5:
   \   00006A   64FC         XRL     A,#0xfc
   \   00006C   7020         JNZ     ??GenericApp_MessageMSGCB_3
   1420                  {
   1421                      switch(pkt->cmd.Data[2])
   \   00006E   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_2:
   \   000071   6005         JZ      ??GenericApp_MessageMSGCB_10
   \   000073   14           DEC     A
   \   000074   600E         JZ      ??GenericApp_MessageMSGCB_11
   \   000076   8016         SJMP    ??GenericApp_MessageMSGCB_3
   1422                      {
   1423                        case 0x01:
   1424                          LED1 = !LED1;
   \                     ??GenericApp_MessageMSGCB_10:
   \   000078   D2F0         SETB    B.0
   \   00007A   A290         MOV     C,0x90.0
   \   00007C   30F001       JNB     B.0,??GenericApp_MessageMSGCB_12
   \   00007F   B3           CPL     C
   \                     ??GenericApp_MessageMSGCB_12:
   \   000080   9290         MOV     0x90.0,C
   1425                          break;
   \   000082   800A         SJMP    ??GenericApp_MessageMSGCB_3
   1426                        case 0x02:
   1427                           LED2 = !LED2;
   \                     ??GenericApp_MessageMSGCB_11:
   \   000084   D2F0         SETB    B.0
   \   000086   A291         MOV     C,0x90.1
   \   000088   30F001       JNB     B.0,??GenericApp_MessageMSGCB_13
   \   00008B   B3           CPL     C
   \                     ??GenericApp_MessageMSGCB_13:
   \   00008C   9291         MOV     0x90.1,C
   1428                          break;
   1429                        default:break;
   1430                      }          
   1431                  }
   1432                  
   1433              } // if( pkt->cmd.DataLength == 3)
   1434              
   1435          #if defined( LCD_SUPPORTED )
   1436                UART_Send_String( &pkt->cmd.Data[0], pkt->cmd.DataLength);
   \                     ??GenericApp_MessageMSGCB_3:
   \   00008E                ; Setup parameters for call to function UART_Send_String
   \   00008E   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_59:
   \   000091   FC           MOV     R4,A
   \   000092   A3           INC     DPTR
   \   000093   E0           MOVX    A,@DPTR
   \   000094   FD           MOV     R5,A
   \   000095   EA           MOV     A,R2
   \   000096   2422         ADD     A,#0x22
   \   000098   12....       LCALL   ??Subroutine24_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_57:
   \   00009B   FA           MOV     R2,A
   \   00009C   A3           INC     DPTR
   \   00009D   E0           MOVX    A,@DPTR
   \   00009E   FB           MOV     R3,A
   \   00009F   12....       LCALL   ??UART_Send_String?relay
   1437          #endif
   1438              
   1439                break;
   1440            default:break;
   1441            }
   1442            
   1443            
   1444          
   1445            
   1446          }
   \                     ??GenericApp_MessageMSGCB_1:
   \   0000A2   02....       LJMP    ?Subroutine1 & 0xFFFF
   \   0000A5                REQUIRE _A_P1

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   EA           MOV     A,R2
   \   000001   2420         ADD     A,#0x20
   \   000003                REQUIRE ??Subroutine24_0
   \   000003                ; // Fall through to label ??Subroutine24_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine24_0:
   \   000000   F582         MOV     DPL,A
   \   000002   EB           MOV     A,R3
   \   000003                REQUIRE ??Subroutine25_0
   \   000003                ; // Fall through to label ??Subroutine25_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_38:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   64ED         XRL     A,#0xed
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_37:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_36:
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   14           DEC     A
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_39:
   \   000003   A3           INC     DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   EA           MOV     A,R2
   \   000001   2422         ADD     A,#0x22
   \   000003   F582         MOV     DPL,A
   \   000005   EB           MOV     A,R3
   \   000006   3400         ADDC    A,#0x0
   \   000008   F583         MOV     DPH,A
   \   00000A   A3           INC     DPTR
   \   00000B   E0           MOVX    A,@DPTR
   \   00000C   F583         MOV     DPH,A
   \   00000E   8882         MOV     DPL,R0
   \   000010   22           RET

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for GenericApp_SimpleDesc>`:
   \   000000   14           DB 20
   \   000001   040F         DW 3844
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   01           DB 1
   \   000007   ....         DW GenericApp_ClusterList
   \   000009   01           DB 1
   \   00000A   ....         DW GenericApp_ClusterList

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SendData?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SendData

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Delay?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Delay

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??UART_Send_String?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    UART_Send_String

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??uprint?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    uprint

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Serial_callBack?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Serial_callBack

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??serial_init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    serial_init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??io_init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    io_init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??set_panid?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    set_panid

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??cb_ReadConfiguration?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    cb_ReadConfiguration

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??cb_WriteConfiguration?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    cb_WriteConfiguration

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_MessageMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_MessageMSGCB

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set device to coordi ...">`:
   \   000000   73657420     DB "set device to coordi failed"
   \            64657669
   \            63652074
   \            6F20636F
   \            6F726469
   \            20666169
   \            6C656400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set device to coordi,...">`:
   \   000000   73657420     DB "set device to coordi,restart it"
   \            64657669
   \            63652074
   \            6F20636F
   \            6F726469
   \            2C726573
   \            74617274
   \            20697400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set device to router ...">`:
   \   000000   73657420     DB "set device to router failed"
   \            64657669
   \            63652074
   \            6F20726F
   \            75746572
   \            20666169
   \            6C656400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set device to router,...">`:
   \   000000   73657420     DB "set device to router,restart it"
   \            64657669
   \            63652074
   \            6F20726F
   \            75746572
   \            2C726573
   \            74617274
   \            20697400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set device to end dev...">`:
   \   000000   73657420     DB "set device to end device failed"
   \            64657669
   \            63652074
   \            6F20656E
   \            64206465
   \            76696365
   \            20666169
   \            6C656400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set device to end dev...">_1`:
   \   000000   73657420     DB "set device to end device,restart it"
   \            64657669
   \            63652074
   \            6F20656E
   \            64206465
   \            76696365
   \            2C726573
   \            74617274
   \            20697400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "nwkkey">`:
   \   000000   6E776B6B     DB "nwkkey"
   \            657900  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "osal nv read nwkkey e...">`:
   \   000000   6F73616C     DB "osal nv read nwkkey error"
   \            206E7620
   \            72656164
   \            206E776B
   \            6B657920
   \            6572726F
   \            7200    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "pass:">`:
   \   000000   70617373     DB "pass:"
   \            3A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "change key">`:
   \   000000   6368616E     DB "change key"
   \            6765206B
   \            657900  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EndDevice match">`:
   \   000000   456E6444     DB "EndDevice match"
   \            65766963
   \            65206D61
   \            74636800

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Router Device match">`:
   \   000000   526F7574     DB "Router Device match"
   \            65722044
   \            65766963
   \            65206D61
   \            74636800

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "type">`:
   \   000000   74797065     DB "type"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Coordi">`:
   \   000000   436F6F72     DB "Coordi"
   \            646900  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Router">`:
   \   000000   526F7574     DB "Router"
   \            657200  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Enddev">`:
   \   000000   456E6464     DB "Enddev"
   \            657600  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Unknow">`:
   \   000000   556E6B6E     DB "Unknow"
   \            6F7700  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "pong">`:
   \   000000   706F6E67     DB "pong"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "reboot">`:
   \   000000   7265626F     DB "reboot"
   \            6F7400  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "set_panid failed">`:
   \   000000   7365745F     DB "set_panid failed"
   \            70616E69
   \            64206661
   \            696C6564
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "GenericApp">`:
   \   000000   47656E65     DB "GenericApp"
   \            72696341
   \            707000  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Coord0\\n">`:
   \   000000   436F6F72     DB "Coord0\012"
   \            64300A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Router0\\n">`:
   \   000000   526F7574     DB "Router0\012"
   \            6572300A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Coord\\n">`:
   \   000000   436F6F72     DB "Coord\012"
   \            640A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Router\\n">`:
   \   000000   526F7574     DB "Router\012"
   \            65720A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "AF_DATA_CONFIRM_CMD ERR">`:
   \   000000   41465F44     DB "AF_DATA_CONFIRM_CMD ERR"
   \            4154415F
   \            434F4E46
   \            49524D5F
   \            434D4420
   \            45525200

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "End_Device_Bind_rsp">`:
   \   000000   456E645F     DB "End_Device_Bind_rsp"
   \            44657669
   \            63655F42
   \            696E645F
   \            72737000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Match_Desc_rsp">`:
   \   000000   4D617463     DB "Match_Desc_rsp"
   \            685F4465
   \            73635F72
   \            737000  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "GenericApp_ProcessZDO...">`:
   \   000000   47656E65     DB "GenericApp_ProcessZDOMsgs"
   \            72696341
   \            70705F50
   \            726F6365
   \            73735A44
   \            4F4D7367
   \            7300    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "key1">`:
   \   000000   6B657931     DB "key1"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "key2">`:
   \   000000   6B657932     DB "key2"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "key3">`:
   \   000000   6B657933     DB "key3"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "key4">`:
   \   000000   6B657934     DB "key4"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "key5">`:
   \   000000   6B657935     DB "key5"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "key6">`:
   \   000000   6B657936     DB "key6"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "key7">`:
   \   000000   6B657937     DB "key7"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_800:
   \   000000   00080000     DD 2048

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_1000:
   \   000000   00100000     DD 4096

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_2000:
   \   000000   00200000     DD 8192

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_4000:
   \   000000   00400000     DD 16384

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_8000:
   \   000000   00800000     DD 32768

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_10000:
   \   000000   00000100     DD 65536

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_20000:
   \   000000   00000200     DD 131072

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_40000:
   \   000000   00000400     DD 262144

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_80000:
   \   000000   00000800     DD 524288

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_100000:
   \   000000   00001000     DD 1048576

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_200000:
   \   000000   00002000     DD 2097152

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_400000:
   \   000000   00004000     DD 4194304

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_800000:
   \   000000   00008000     DD 8388608

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_1000000:
   \   000000   00000001     DD 16777216

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_2000000:
   \   000000   00000002     DD 33554432

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_4000000:
   \   000000   00000004     DD 67108864
   1447          
   1448          /*********************************************************************
   1449           * @fn      GenericApp_SendTheMessage
   1450           *
   1451           * @brief   Send "the" message.
   1452           *
   1453           * @param   none
   1454           *
   1455           * @return  none
   1456           */
   1457          static void GenericApp_SendTheMessage( afIncomingMSGPacket_t *pkt )
   1458          {
   1459            
   1460            afAddrType_t dstAddr;
                                ^
Warning[Pe550]: variable "dstAddr" was set but never used

  static void GenericApp_SendTheMessage( afIncomingMSGPacket_t *pkt )
              ^
"C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\testApp_2.5\Source\GenericApp.c",1457  Warning[Pe177]: 
          function "GenericApp_SendTheMessage" was declared but never
          referenced
   1461            
   1462            char theMessageData[] = "Hello World";
   1463          
   1464            dstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   1465            dstAddr.addr.shortAddr = 0xFFFF;
   1466            dstAddr.endPoint = GENERICAPP_ENDPOINT;
   1467            
   1468            if ( AF_DataRequest( &pkt->srcAddr, &GenericApp_epDesc,
   1469                                 GENERICAPP_CLUSTERID,
   1470                                 (byte)osal_strlen( theMessageData ) + 1,
   1471                                 (byte *)&theMessageData,
   1472                                 &GenericApp_TransID,
   1473                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   1474            {
   1475              // Successfully requested to be sent.
   1476              uprint("ok");
   1477            }
   1478            else
   1479            {
   1480              uprint("err");
   1481              // Error occurred in request to send.
   1482            }
   1483          }
   1484          
   1485          #if defined( IAR_ARMCM3_LM )
   1486          /*********************************************************************
   1487           * @fn      GenericApp_ProcessRtosMessage
   1488           *
   1489           * @brief   Receive message from RTOS queue, send response back.
   1490           *
   1491           * @param   none
   1492           *
   1493           * @return  none
   1494           */
   1495          static void GenericApp_ProcessRtosMessage( void )
   1496          {
   1497            osalQueue_t inMsg;
   1498          
   1499            if ( osal_queue_receive( OsalQueue, &inMsg, 0 ) == pdPASS )
   1500            {
   1501              uint8 cmndId = inMsg.cmnd;
   1502              uint32 counter = osal_build_uint32( inMsg.cbuf, 4 );
   1503          
   1504              switch ( cmndId )
   1505              {
   1506                case CMD_INCR:
   1507                  counter += 1;  /* Increment the incoming counter */
   1508                                 /* Intentionally fall through next case */
   1509          
   1510                case CMD_ECHO:
   1511                {
   1512                  userQueue_t outMsg;
   1513          
   1514                  outMsg.resp = RSP_CODE | cmndId;  /* Response ID */
   1515                  osal_buffer_uint32( outMsg.rbuf, counter );    /* Increment counter */
   1516                  osal_queue_send( UserQueue1, &outMsg, 0 );  /* Send back to UserTask */
   1517                  break;
   1518                }
   1519                
   1520                default:
   1521                  break;  /* Ignore unknown command */    
   1522              }
   1523            }
   1524          }
   1525          #endif
   1526          
   1527          /*********************************************************************
   1528           */
   1529          
   1530          /*
   1531          #pragma vector=URX0_VECTOR
   1532          __interrupt static void UART0_ISR(void)
   1533          {
   1534            URX0IF=0;//
   1535            temp=U0DBUF;//temp
   1536          }
   1537          */
   1538          
   1539          
   1540          
   1541          

   Maximum stack usage in bytes:

     Function                     ISTACK PSTACK XSTACK
     --------                     ------ ------ ------
     Delay                            0      0      0
     GenericApp_Init                  0      0     10
       -> afRegister                  0      0     20
       -> RegisterForKeys             0      0     20
       -> HalLcdWriteString           0      0     20
       -> osal_nv_item_len            0      0     20
       -> cb_ReadConfiguration        0      0     20
       -> uprint                      0      0     20
       -> uprint                      0      0     20
       -> ZDOInitDevice               0      0     20
       -> uprint                      0      0     20
       -> uprint                      0      0     20
       -> io_init                     0      0     20
       -> serial_init                 0      0     20
     GenericApp_MessageMSGCB          2      0     12
       -> UART_Send_String            4      0      0
     GenericApp_ProcessEvent          0      0     12
       -> osal_msg_receive            0      0     24
       -> osal_msg_deallocate         0      0     24
       -> osal_msg_receive            0      0     24
       -> uprint                      0      0     24
       -> ZDO_ParseEPListRsp          0      0     24
       -> osal_mem_free               0      0     24
       -> uprint                      0      0     24
       -> HalLedSet                   0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> uprint                      0      0     24
       -> GenericApp_MessageMSGCB     0      0     24
     SendData                         0      0    117
       -> AF_DataRequest              0      0     62
     Serial_callBack                  1      0     95
       -> HalUARTRead                 0      0    172
       -> UART_Send_String            0      0    172
       -> UART_Send_String            0      0    172
       -> UART_Send_String            0      0    172
       -> NLME_GetExtAddr             0      0    172
       -> UART_Send_String            0      0    172
       -> osal_nv_item_init           0      0    176
       -> osal_nv_write               0      0    180
       -> uprint                      0      0    172
       -> zgWriteStartupOptions       0      0    172
       -> uprint                      0      0    172
       -> osal_nv_item_init           0      0    176
       -> osal_nv_write               0      0    180
       -> uprint                      0      0    172
       -> zgWriteStartupOptions       0      0    172
       -> uprint                      0      0    172
       -> osal_nv_item_init           0      0    176
       -> osal_nv_write               0      0    180
       -> uprint                      0      0    172
       -> zgWriteStartupOptions       0      0    172
       -> uprint                      0      0    172
       -> AssocCount                  0      0    172
       -> UART_Send_String            0      0    172
       -> strncpy                     0      0    176
       -> strncpy                     0      0    176
       -> strtol                      0      0    176
       -> strtol                      0      0    176
       -> set_panid                   0      0    172
       -> zgWriteStartupOptions       0      0    172
       -> strncpy                     0      0    176
       -> strncpy                     0      0    176
       -> strtol                      0      0    176
       -> strtol                      0      0    176
       -> NLME_UpdateNV               0      0    172
       -> strstr                      0      0    172
       -> osal_nv_read                0      0    180
       -> UART_Send_String            0      0    172
       -> uprint                      0      0    172
       -> strstr                      0      0    172
       -> SSP_UpdateNwkKey            0      0    172
       -> SSP_SwitchNwkKey            0      0    172
       -> ZDApp_NVUpdate              0      0    172
       -> uprint                      0      0    172
       -> uprint                      0      0    172
       -> HalLedSet                   0      0    172
       -> NLME_GetShortAddr           0      0    172
       -> ZDP_EndDeviceBindReq        0      0    190
       -> uprint                      0      0    172
       -> ZDP_MatchDescReq            0      0    188
       -> NLME_UpdateNV               0      0    172
       -> ZMacSetReq                  0      0    172
       -> osal_nv_item_init           0      0    176
       -> osal_nv_write               0      0    180
       -> UART_Send_String            0      0    172
       -> SendData                    0      0    172
       -> SendData                    0      0    172
       -> SendData                    0      0    172
       -> HalAdcRead                  0      0    172
       -> UART_Send_String            0      0    172
       -> HalAdcRead                  0      0    172
       -> UART_Send_String            0      0    172
       -> HalAdcRead                  0      0    172
       -> UART_Send_String            0      0    172
       -> HalAdcRead                  0      0    172
       -> UART_Send_String            0      0    172
       -> HalAdcRead                  0      0    172
       -> UART_Send_String            0      0    172
       -> strstr                      0      0    172
       -> uprint                      0      0    172
       -> uprint                      0      0    172
       -> uprint                      0      0    172
       -> uprint                      0      0    172
       -> uprint                      0      0    172
       -> strstr                      0      0    172
     UART_Send_String                 2      0     86
       -> HalUARTWrite                4      0      0
     cb_ReadConfiguration             0      0     26
       -> osal_nv_item_len            0      0     24
       -> osal_nv_read                0      0     32
     cb_WriteConfiguration            0      0     14
       -> osal_nv_write               0      0     28
     io_init                          0      0     10
     serial_init                      2      0     39
       -> HalUARTOpen                 4      0     58
     set_panid                        0      0    102
       -> macRadioSetPanID            0      0     24
       -> ZMacSetReq                  0      0     24
       -> osal_nv_write               0      0     32
       -> NLME_UpdateNV               0      0     24
       -> uprint                      0      0     24
     uprint                           0      0     95
       -> strlen                      0      0     18
       -> UART_Send_String            0      0     18


   Segment part sizes:

     Function/Label                           Bytes
     --------------                           -----
     _A_P0                                       1
     P0IFG                                       1
     _A_P1                                       1
     _A_IEN0                                     1
     WDCTL                                       1
     P0DIR                                       1
     devlist                                    44
     ieeeAddr                                    2
     short_ddr                                   2
     panid                                       2
     GenericApp_ClusterList                      2
     GenericApp_SimpleDesc                      12
     GenericApp_epDesc                           6
     GenericApp_TaskID                           1
     GenericApp_NwkState                         1
     GenericApp_TransID                          1
     App_NwkState                                1
     GenericApp_DstAddr                         12
     SendData                                  118
     ?Subroutine8                                8
     ?Subroutine0                                3
     ??Subroutine23_0                            5
     Delay                                      83
     ?Subroutine5                                9
     UART_Send_String                            9
     ?Subroutine1                                7
     uprint                                     28
     Serial_callBack                          2106
     ?Subroutine16                              10
     ?Subroutine15                              10
     ?Subroutine14                               6
     ??Subroutine20_0                            8
     ?Subroutine12                              13
     ?Subroutine10                               8
     ?Subroutine18                               1
     ??Subroutine21_0                            5
     ?Subroutine13                               6
     ??Subroutine22_0                            8
     ?Subroutine11                               6
     serial_init                               109
     io_init                                    14
     set_panid                                 111
     cb_ReadConfiguration                       66
     ?Subroutine2                                5
     cb_WriteConfiguration                      39
     GenericApp_Init                           199
     GenericApp_ProcessEvent                   372
     ??Subroutine25_0                            6
     ?Subroutine6                               14
     GenericApp_MessageMSGCB                   165
     ?Subroutine9                                3
     ??Subroutine24_0                            3
     ?Subroutine7                                7
     ?Subroutine4                                5
     ?Subroutine3                                7
     ?Subroutine17                               5
     ?Subroutine19                              17
     ?<Initializer for GenericApp_SimpleDesc>   12
     ??SendData?relay                            6
     ??Delay?relay                               6
     ??UART_Send_String?relay                    6
     ??uprint?relay                              6
     ??Serial_callBack?relay                     6
     ??serial_init?relay                         6
     ??io_init?relay                             6
     ??set_panid?relay                           6
     ??cb_ReadConfiguration?relay                6
     ??cb_WriteConfiguration?relay               6
     ??GenericApp_Init?relay                     6
     ??GenericApp_ProcessEvent?relay             6
     ??GenericApp_MessageMSGCB?relay             6
     ?<Constant "set device to coordi ...">     28
     ?<Constant "set device to coordi,...">     32
     ?<Constant "set device to router ...">     28
     ?<Constant "set device to router,...">     32
     ?<Constant "set device to end dev...">     32
     ?<Constant "set device to end dev...">_1   36
     ?<Constant "nwkkey">                        7
     ?<Constant "osal nv read nwkkey e...">     26
     ?<Constant "pass:">                         6
     ?<Constant "change key">                   11
     ?<Constant "EndDevice match">              16
     ?<Constant "Router Device match">          20
     ?<Constant "type">                          5
     ?<Constant "Coordi">                        7
     ?<Constant "Router">                        7
     ?<Constant "Enddev">                        7
     ?<Constant "Unknow">                        7
     ?<Constant "pong">                          5
     ?<Constant "reboot">                        7
     ?<Constant "set_panid failed">             17
     ?<Constant "GenericApp">                   11
     ?<Constant "Coord0\n">                      8
     ?<Constant "Router0\n">                     9
     ?<Constant "Coord\n">                       7
     ?<Constant "Router\n">                      8
     ?<Constant "AF_DATA_CONFIRM_CMD ERR">      24
     ?<Constant "End_Device_Bind_rsp">          20
     ?<Constant "Match_Desc_rsp">               15
     ?<Constant "GenericApp_ProcessZDO...">     26
     ?<Constant "key1">                          5
     ?<Constant "key2">                          5
     ?<Constant "key3">                          5
     ?<Constant "key4">                          5
     ?<Constant "key5">                          5
     ?<Constant "key6">                          5
     ?<Constant "key7">                          5
     __Constant_800                              4
     __Constant_1000                             4
     __Constant_2000                             4
     __Constant_4000                             4
     __Constant_8000                             4
     __Constant_10000                            4
     __Constant_20000                            4
     __Constant_40000                            4
     __Constant_80000                            4
     __Constant_100000                           4
     __Constant_200000                           4
     __Constant_400000                           4
     __Constant_800000                           4
     __Constant_1000000                          4
     __Constant_2000000                          4
     __Constant_4000000                          4

 
 3 604 bytes in segment BANKED_CODE
    78 bytes in segment BANK_RELAYS
     6 bytes in segment SFR_AN
    12 bytes in segment XDATA_I
    12 bytes in segment XDATA_ID
   565 bytes in segment XDATA_ROM_C
    72 bytes in segment XDATA_Z
 
 3 694 bytes of CODE  memory
   501 bytes of CONST memory (+ 64 bytes shared)
     0 bytes of DATA  memory (+  6 bytes shared)
    84 bytes of XDATA memory

Errors: none
Warnings: 22
